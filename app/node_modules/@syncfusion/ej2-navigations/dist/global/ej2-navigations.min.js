/*!
*  filename: ej2-navigations.min.js
*  version : 16.4.47
*  Copyright Syncfusion Inc. 2001 - 2019. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
this.ej=this.ej||{},this.ej.navigations=function(e,t,i,s,n,o,r){"use strict";var l=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),a=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},d=function(e){function i(t,i){return e.call(this,t,i)||this}return l(i,e),i.prototype.preRender=function(){this.browser=t.Browser.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=t.Browser.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=t.getUniqueID("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")},i.prototype.render=function(){this.touchModule=new t.Touch(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),t.EventHandler.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlay(this.element)):this.createNavIcon(this.element),(t.isNullOrUndefined(this.scrollStep)||this.scrollStep<0)&&(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1)},i.prototype.initialize=function(){var e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");for(var i=this.element,s=0,n=[].slice.call(i.children);s<n.length;s++){var o=n[s];e.appendChild(o)}t.appendChild(e),i.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e},i.prototype.getPersistData=function(){var e=["scrollStep"];return this.addOnPersist(e)},i.prototype.getModuleName=function(){return"hScroll"},i.prototype.destroy=function(){var i=this.element;i.style.display="",i.classList.remove("e-hscroll"),i.classList.remove("e-scroll-device");var s=t.selectAll(".e-"+i.id+"_nav.e-scroll-nav",i),n=t.selectAll(".e-scroll-overlay",i);[].slice.call(n).forEach(function(e){t.detach(e)});for(var o=0,r=[].slice.call(this.scrollItems.children);o<r.length;o++){var l=r[o];i.appendChild(l)}this.uniqueId&&this.element.removeAttribute("id"),t.detach(this.scrollEle),s.length>0&&(t.detach(s[0]),t.isNullOrUndefined(s[1])||t.detach(s[1])),t.EventHandler.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},i.prototype.disable=function(e){var i=t.selectAll(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(i).forEach(function(t){t.setAttribute("tabindex",e?"-1":"0")})},i.prototype.createOverlay=function(e){var t=e.id.concat("_nav"),i=this.createElement("div",{className:"e-scroll-overlay e-scroll-right-overlay"}),s="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),n=this.createElement("div",{id:t.concat("_right"),className:s}),o=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"});n.appendChild(o);var r=this.createElement("div",{className:"e-scroll-overlay e-scroll-left-overlay"});this.ieCheck&&n.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(n),e.insertBefore(r,e.firstChild),this.eventBinding([n])},i.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav e-scroll-nav e-scroll-right-nav"),s=this.createElement("div",{id:t.concat("_right"),className:i});s.setAttribute("aria-disabled","false");var n=this.createElement("div",{className:"e-nav-right-arrow e-nav-arrow e-icons"}),o="e-"+e.id.concat("_nav e-scroll-nav e-scroll-left-nav"),r=this.createElement("div",{id:t.concat("_left"),className:o+" e-overlay"});r.setAttribute("aria-disabled","true");var l=this.createElement("div",{className:"e-nav-left-arrow e-nav-arrow e-icons"});r.appendChild(l),s.appendChild(n),s.setAttribute("tabindex","0"),e.appendChild(s),e.insertBefore(r,e.firstChild),this.ieCheck&&(s.classList.add("e-ie-align"),r.classList.add("e-ie-align")),this.eventBinding([s,r])},i.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){var i=function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(function(){i()},100)}},i.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},i.prototype.eventBinding=function(e){var i=this;[].slice.call(e).forEach(function(e){new t.Touch(e,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),e.addEventListener("keydown",i.onKeyPress.bind(i)),e.addEventListener("keyup",i.onKeyUp.bind(i)),e.addEventListener("mouseup",i.repeatScroll.bind(i)),e.addEventListener("touchend",i.repeatScroll.bind(i)),e.addEventListener("contextmenu",function(e){e.preventDefault()}),t.EventHandler.add(e,"click",i.clickEventHandler,i)})},i.prototype.repeatScroll=function(){clearInterval(this.timeout)},i.prototype.tabHoldHandler=function(e){var t=this,i=e.originalEvent.target;i=this.contains(i,"e-scroll-nav")?i.firstElementChild:i;var s=function(){t.eleScrolling(10,i,!0)};this.timeout=window.setInterval(function(){s()},50)},i.prototype.contains=function(e,t){return e.classList.contains(t)},i.prototype.eleScrolling=function(e,t,i){var s=this.scrollEle,n=this.element,o=t.classList;o.contains("e-scroll-nav")&&(o=t.querySelector(".e-nav-arrow").classList),this.contains(n,"e-rtl")&&this.browserCheck&&(e=-e);s.scrollLeft;!this.contains(n,"e-rtl")||this.browserCheck||this.ieCheck?o.contains("e-nav-right-arrow")?this.frameScrollRequest(e,"add",i):this.frameScrollRequest(e,"",i):o.contains("e-nav-left-arrow")?this.frameScrollRequest(e,"add",i):this.frameScrollRequest(e,"",i)},i.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},i.prototype.swipeHandler=function(e){var t,i=this.scrollEle;t=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var s=.5,n=function(){var o=Math.sin(s);o<=0?window.cancelAnimationFrame(o):("Left"===e.swipeDirection?i.scrollLeft+=t*o:"Right"===e.swipeDirection&&(i.scrollLeft-=t*o),s-=.02,window.requestAnimationFrame(n))};n()},i.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e},i.prototype.frameScrollRequest=function(e,i,s){var n=this;if(s)return void this.scrollUpdating(e,i);this.customStep||[].slice.call(t.selectAll(".e-scroll-overlay",this.element)).forEach(function(t){e-=t.offsetWidth});var o=function(){e<10?window.cancelAnimationFrame(10):(n.scrollUpdating(10,i),e-=10,window.requestAnimationFrame(o))};o()},i.prototype.touchHandler=function(e){var t,i=this.scrollEle;t=e.distanceX,this.ieCheck&&this.contains(this.element,"e-rtl")&&(t=-t),"Left"===e.scrollDirection?i.scrollLeft=i.scrollLeft+t:"Right"===e.scrollDirection&&(i.scrollLeft=i.scrollLeft-t)},i.prototype.arrowDisabling=function(e,i){if(this.isDevice){var s=(t.isNullOrUndefined(e)?i:e).querySelector(".e-nav-arrow");t.isNullOrUndefined(e)?t.classList(s,["e-nav-right-arrow"],["e-nav-left-arrow"]):t.classList(s,["e-nav-left-arrow"],["e-nav-right-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),i.classList.remove("e-overlay"),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0");this.repeatScroll()},i.prototype.scrollHandler=function(e){var t=e.target,i=t.offsetWidth,s=this.element,n=this.element.querySelector(".e-scroll-left-nav"),o=this.element.querySelector(".e-scroll-right-nav"),r=this.element.querySelector(".e-scroll-left-overlay"),l=this.element.querySelector(".e-scroll-right-overlay"),a=t.scrollLeft;if(a<=0&&(a=-a),this.isDevice&&(!this.enableRtl||this.browserCheck||this.ieCheck||(r=this.element.querySelector(".e-scroll-right-overlay"),l=this.element.querySelector(".e-scroll-left-overlay")),r.style.width=a<40?a+"px":"40px",t.scrollWidth-Math.ceil(i+a)<40?l.style.width=t.scrollWidth-Math.ceil(i+a)+"px":l.style.width="40px"),0===a)!this.contains(s,"e-rtl")||this.browserCheck||this.ieCheck?this.arrowDisabling(n,o):this.arrowDisabling(o,n);else if(Math.ceil(i+a+.1)>=t.scrollWidth)!this.contains(s,"e-rtl")||this.browserCheck||this.ieCheck?this.arrowDisabling(o,n):this.arrowDisabling(n,o);else{var d=this.element.querySelector(".e-scroll-nav.e-overlay");d&&(d.classList.remove("e-overlay"),d.setAttribute("aria-disabled","false"),d.setAttribute("tabindex","0"))}},i.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++)switch(s[i]){case"scrollStep":break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}},a([t.Property(null)],i.prototype,"scrollStep",void 0),i=a([t.NotifyPropertyChanges],i)}(t.Component),h=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),c=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},p=function(e){function i(t,i){return e.call(this,t,i)||this}return h(i,e),i.prototype.preRender=function(){this.browser=t.Browser.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=t.Browser.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=t.getUniqueID("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add("e-rtl")},i.prototype.render=function(){this.touchModule=new t.Touch(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),t.EventHandler.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add("e-scroll-device"),this.createOverlayElement(this.element)):this.createNavIcon(this.element),(t.isNullOrUndefined(this.scrollStep)||this.scrollStep<0)&&(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1),t.EventHandler.add(this.element,"wheel",this.wheelEventHandler,this)},i.prototype.initialize=function(){var e=t.createElement("div",{className:"e-vscroll-content"}),i=t.createElement("div",{className:"e-vscroll-bar"});i.setAttribute("tabindex","-1");for(var s=this.element,n=0,o=[].slice.call(s.children);n<o.length;n++){var r=o[n];e.appendChild(r)}i.appendChild(e),s.appendChild(i),i.style.overflowY="hidden",this.scrollEle=i,this.scrollItems=e},i.prototype.getPersistData=function(){var e=["scrollStep"];return this.addOnPersist(e)},i.prototype.getModuleName=function(){return"vScroll"},i.prototype.destroy=function(){var i=this.element;i.style.display="",t.removeClass([this.element],["e-vscroll","e-scroll-device"]);var s=t.selectAll(".e-"+i.id+"_nav.e-scroll-nav",i),n=t.selectAll(".e-scroll-overlay",i);[].slice.call(n).forEach(function(e){t.detach(e)});for(var o=0,r=[].slice.call(this.scrollItems.children);o<r.length;o++){var l=r[o];i.appendChild(l)}this.uniqueId&&this.element.removeAttribute("id"),t.detach(this.scrollEle),s.length>0&&(t.detach(s[0]),t.isNullOrUndefined(s[1])||t.detach(s[1])),t.EventHandler.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},i.prototype.disable=function(e){var i=t.selectAll(".e-scroll-nav:not(.e-overlay)",this.element);e?this.element.classList.add("e-overlay"):this.element.classList.remove("e-overlay"),[].slice.call(i).forEach(function(t){t.setAttribute("tabindex",e?"-1":"0")})},i.prototype.createOverlayElement=function(e){var i=e.id.concat("_nav"),s=t.createElement("div",{className:"e-scroll-overlay e-scroll-down-overlay"}),n="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),o=t.createElement("div",{id:i.concat("down"),className:n}),r=t.createElement("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"});o.appendChild(r);var l=t.createElement("div",{className:"e-scroll-overlay e-scroll-up-overlay"});this.ieCheck&&o.classList.add("e-ie-align"),e.appendChild(s),e.appendChild(o),e.insertBefore(l,e.firstChild),this.eventBinding([o])},i.prototype.createNavIcon=function(e){var i=e.id.concat("_nav"),s="e-"+e.id.concat("_nav e-scroll-nav e-scroll-down-nav"),n=t.createElement("div",{id:i.concat("_down"),className:s});n.setAttribute("aria-disabled","false");var o=t.createElement("div",{className:"e-nav-down-arrow e-nav-arrow e-icons"}),r="e-"+e.id.concat("_nav e-scroll-nav e-scroll-up-nav"),l=t.createElement("div",{id:i.concat("_up"),className:r+" e-overlay"});l.setAttribute("aria-disabled","true");var a=t.createElement("div",{className:"e-nav-up-arrow e-nav-arrow e-icons"});l.appendChild(a),n.appendChild(o),n.setAttribute("tabindex","0"),e.appendChild(n),e.insertBefore(l,e.firstChild),this.ieCheck&&(n.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([n,l])},i.prototype.onKeyPress=function(e){var t=this;if("Enter"===e.key){var i=function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(function(){i()},100)}},i.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},i.prototype.eventBinding=function(e){var i=this;[].slice.call(e).forEach(function(e){new t.Touch(e,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),e.addEventListener("keydown",i.onKeyPress.bind(i)),e.addEventListener("keyup",i.onKeyUp.bind(i)),e.addEventListener("mouseup",i.repeatScroll.bind(i)),e.addEventListener("touchend",i.repeatScroll.bind(i)),e.addEventListener("contextmenu",function(e){e.preventDefault()}),t.EventHandler.add(e,"click",i.clickEventHandler,i)})},i.prototype.repeatScroll=function(){clearInterval(this.timeout)},i.prototype.tabHoldHandler=function(e){var t=this,i=e.originalEvent.target;i=this.contains(i,"e-scroll-nav")?i.firstElementChild:i;var s=function(){t.eleScrolling(10,i,!0)};this.timeout=window.setInterval(function(){s()},50)},i.prototype.contains=function(e,t){return e.classList.contains(t)},i.prototype.eleScrolling=function(e,t,i){this.element;var s=t.classList;s.contains("e-scroll-nav")&&(s=t.querySelector(".e-nav-arrow").classList),s.contains("e-nav-down-arrow")?this.frameScrollRequest(e,"add",i):s.contains("e-nav-up-arrow")&&this.frameScrollRequest(e,"",i)},i.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},i.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},i.prototype.swipeHandler=function(e){var t,i=this.scrollEle;t=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var s=.5,n=function(){var o=Math.sin(s);o<=0?window.cancelAnimationFrame(o):("Up"===e.swipeDirection?i.scrollTop+=t*o:"Down"===e.swipeDirection&&(i.scrollTop-=t*o),s-=.02,window.requestAnimationFrame(n))};n()},i.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},i.prototype.frameScrollRequest=function(e,i,s){var n=this;if(s)return void this.scrollUpdating(e,i);this.customStep||[].slice.call(t.selectAll(".e-scroll-overlay",this.element)).forEach(function(t){e-=t.offsetHeight});var o=function(){e<10?window.cancelAnimationFrame(10):(n.scrollUpdating(10,i),e-=10,window.requestAnimationFrame(o))};o()},i.prototype.touchHandler=function(e){var t,i=this.scrollEle;t=e.distanceY,"Up"===e.scrollDirection?i.scrollTop=i.scrollTop+t:"Down"===e.scrollDirection&&(i.scrollTop=i.scrollTop-t)},i.prototype.arrowDisabling=function(e,i){if(this.isDevice){var s=(t.isNullOrUndefined(e)?i:e).querySelector(".e-nav-arrow");t.isNullOrUndefined(e)?t.classList(s,["e-nav-down-arrow"],["e-nav-up-arrow"]):t.classList(s,["e-nav-up-arrow"],["e-nav-down-arrow"])}else e.classList.add("e-overlay"),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),i.classList.remove("e-overlay"),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0");this.repeatScroll()},i.prototype.scrollEventHandler=function(e){var t=e.target,i=t.offsetHeight,s=(this.element,this.element.querySelector(".e-scroll-up-nav")),n=this.element.querySelector(".e-scroll-down-nav"),o=this.element.querySelector(".e-scroll-up-overlay"),r=this.element.querySelector(".e-scroll-down-overlay"),l=t.scrollTop;if(l<=0&&(l=-l),this.isDevice&&(o.style.height=l<40?l+"px":"40px",t.scrollHeight-Math.ceil(i+l)<40?r.style.height=t.scrollHeight-Math.ceil(i+l)+"px":r.style.height="40px"),0===l)this.arrowDisabling(s,n);else if(Math.ceil(i+l+.1)>=t.scrollHeight)this.arrowDisabling(n,s);else{var a=this.element.querySelector(".e-scroll-nav.e-overlay");a&&(a.classList.remove("e-overlay"),a.setAttribute("aria-disabled","false"),a.setAttribute("tabindex","0"))}},i.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++)switch(s[i]){case"scrollStep":break;case"enableRtl":e.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}},c([t.Property(null)],i.prototype,"scrollStep",void 0),i=c([t.NotifyPropertyChanges],i)}(t.Component),u=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),f=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},m="e-focused",v="e-menu-header",g="e-selected",y="e-menu-item",b="e-menu-hide",E="e-menu-popup",C=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return u(i,e),f([t.Property("id")],i.prototype,"itemId",void 0),f([t.Property("parentId")],i.prototype,"parentId",void 0),f([t.Property("text")],i.prototype,"text",void 0),f([t.Property("iconCss")],i.prototype,"iconCss",void 0),f([t.Property("url")],i.prototype,"url",void 0),f([t.Property("separator")],i.prototype,"separator",void 0),f([t.Property("items")],i.prototype,"children",void 0),i}(t.ChildProperty),N=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return u(i,e),f([t.Property(null)],i.prototype,"iconCss",void 0),f([t.Property("")],i.prototype,"id",void 0),f([t.Property(!1)],i.prototype,"separator",void 0),f([t.Collection([],i)],i.prototype,"items",void 0),f([t.Property("")],i.prototype,"text",void 0),f([t.Property("")],i.prototype,"url",void 0),i}(t.ChildProperty),x=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return u(i,e),f([t.Property("SlideDown")],i.prototype,"effect",void 0),f([t.Property(400)],i.prototype,"duration",void 0),f([t.Property("ease")],i.prototype,"easing",void 0),i}(t.ChildProperty),w=function(e){function n(i,s){var n=e.call(this,i,s)||this;return n.navIdx=[],n.animation=new t.Animation({}),n.isTapHold=!1,n}return u(n,e),n.prototype.preRender=function(){if("EJS-CONTEXTMENU"===this.element.tagName){this.element.style.display="none",this.element.classList.remove("e-"+this.getModuleName()),this.element.classList.remove("e-control");var e=t.getValue("ej2_instances",this.element),i=this.createElement("ul");this.ngElement=this.element,this.element=i,this.element.classList.add("e-control"),this.element.classList.add("e-"+this.getModuleName()),t.setValue("ej2_instances",e,this.element),this.element.id||(this.element.id=t.getUniqueID(this.getModuleName()))}if("EJS-MENU"===this.element.tagName){for(var s=this.element,n=t.getValue("ej2_instances",s),i=this.createElement("ul"),o=this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"}),r=0,l=s.attributes.length;r<l;r++)i.setAttribute(s.attributes[r].nodeName,s.attributes[r].nodeValue);s.parentNode.insertBefore(o,s),t.detach(s),s=i,o.appendChild(s),t.setValue("ej2_instances",n,s),this.ngElement=o,this.element=s,this.element.id||(this.element.id=t.getUniqueID(this.getModuleName()))}},n.prototype.render=function(){this.initialize(),this.renderItems(),this.wireEvents()},n.prototype.initialize=function(){var e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&t.addClass([e],this.cssClass.split(" ")),this.enableRtl&&e.classList.add("e-rtl"),e.appendChild(this.element)},n.prototype.renderItems=function(){if(!this.items.length){var e=i.ListBase.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:e},!0),this.element.innerHTML=""}var s=this.createItems(this.items);t.append(Array.prototype.slice.call(s.children),this.element),this.element.classList.add("e-menu-parent");var n=this.getWrapper();this.element.classList.contains("e-vertical")?this.addScrolling(n,this.element,"vscroll",n.offsetHeight,this.element.offsetHeight):this.addScrolling(n,this.element,"hscroll",n.offsetWidth,this.element.offsetWidth)},n.prototype.wireEvents=function(){var e=this.getWrapper();if(this.target){for(var i=void 0,n=t.selectAll(this.target),o=0,r=n.length;o<r;o++)i=n[o],t.Browser.isIos?new t.Touch(i,{tapHold:this.touchHandler.bind(this)}):t.EventHandler.add(i,"contextmenu",this.cmenuHandler,this);this.targetElement=i;for(var l=0,a=s.getScrollableParent(this.targetElement);l<a.length;l++){var d=a[l];t.EventHandler.add(d,"scroll",this.scrollHandler,this)}}t.Browser.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),t.EventHandler.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),t.EventHandler.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),t.EventHandler.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=t.rippleEffect(e,{selector:"."+y})},n.prototype.wireKeyboardEvent=function(e){var i={downarrow:"downarrow",uparrow:"uparrow",enter:"enter",leftarrow:"leftarrow",rightarrow:"rightarrow",escape:"escape"};this.isMenu&&(i.home="home",i.end="end"),new t.KeyboardEvents(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:i})},n.prototype.mouseDownHandler=function(e){t.closest(e.target,".e-"+this.getModuleName()+"-wrapper")===this.getWrapper()||t.closest(e.target,".e-"+this.getModuleName()+"-popup")||this.closeMenu(this.navIdx.length,e)},n.prototype.keyBoardHandler=function(e){var i="",s=e.target,n=this.isMenu&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&s.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([m,g],[t.closest(s,".e-"+this.getModuleName()+"-wrapper")]),n)switch(e.action){case"rightarrow":i="rightarrow",e.action="downarrow";break;case"leftarrow":i="leftarrow",e.action="uparrow";break;case"downarrow":i="downarrow",e.action="rightarrow";break;case"uparrow":i="uparrow",e.action=""}else if(this.enableRtl)switch(e.action){case"leftarrow":n=!0,i="leftarrow",e.action="rightarrow";break;case"rightarrow":n=!0,i="rightarrow",e.action="leftarrow"}switch(e.action){case"downarrow":case"uparrow":case"end":case"home":this.upDownKeyHandler(e);break;case"rightarrow":this.rightEnterKeyHandler(e);break;case"leftarrow":this.leftEscKeyHandler(e);break;case"enter":this.rightEnterKeyHandler(e);break;case"escape":this.leftEscKeyHandler(e)}n&&(e.action=i)},n.prototype.upDownKeyHandler=function(e){var t=this.getUlByNavIdx(),i="downarrow"===e.action||"home"===e.action?0:t.childElementCount-1,s=i,n=this.getLIByClass(t,m);n&&("end"!==e.action&&"home"!==e.action&&(s=this.getIdx(t,n)),n.classList.remove(m),"end"!==e.action&&"home"!==e.action&&("downarrow"===e.action?s++:s--,s===("downarrow"===e.action?t.childElementCount:-1)&&(s=i)));var o=t.children[s];s=this.isValidLI(o,s,e.action),t.children[s].classList.add(m),t.children[s].focus()},n.prototype.isValidLI=function(e,t,i){this.getWrapper();var s=this.getUlByNavIdx();return(e.classList.contains("e-separator")||e.classList.contains("e-disabled")||e.classList.contains(b))&&("downarrow"===i||"rightarrow"===i?t++:t--),((e=s.children[t]).classList.contains("e-separator")||e.classList.contains("e-disabled")||e.classList.contains(b))&&(t=this.isValidLI(e,t,i)),t},n.prototype.getUlByNavIdx=function(e){if(void 0===e&&(e=this.navIdx.length),this.isMenu){var i=[this.getWrapper()].concat([].slice.call(t.selectAll("."+E)))[e];return t.isNullOrUndefined(i)?null:t.select(".e-menu-parent",i)}return this.getWrapper().children[e]},n.prototype.rightEnterKeyHandler=function(e){var t,i=this.getUlByNavIdx(),s=this.getLIByClass(i,m);if(s){var n=this.getIdx(i,s),o=this.navIdx.concat(n),r=void 0,l=this.getItem(o);l.items.length?(this.navIdx.push(n),this.openMenu(s,l,null,null,e),s.classList.remove(m),this.isMenu&&1===this.navIdx.length&&this.removeLIStateByClass([g],[this.getWrapper()]),s.classList.add(g),"enter"===e.action&&(t={element:s,item:l},this.trigger("select",t)),s.focus(),i=this.getUlByNavIdx(),r=this.isValidLI(i.children[0],0,e.action),i.children[r].classList.add(m),i.children[r].focus()):"enter"===e.action&&(this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([g],[this.getWrapper()]):s.classList.remove(m),s.classList.add(g),t={element:s,item:l},this.trigger("select",t),this.closeMenu(null,e))}},n.prototype.leftEscKeyHandler=function(e){if(this.navIdx.length){this.closeMenu(this.navIdx.length,e);var t=this.getUlByNavIdx(),i=this.getLIByClass(t,g);i&&(i.setAttribute("aria-expanded","false"),i.classList.remove(g),i.classList.add(m),i.focus())}else"escape"===e.action&&this.closeMenu(null,e)},n.prototype.scrollHandler=function(e){this.closeMenu(null,e)},n.prototype.touchHandler=function(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)},n.prototype.cmenuHandler=function(e){e.preventDefault(),this.closeMenu(null,e),this.canOpen(e.target)&&(e.changedTouches?this.openMenu(null,null,e.changedTouches[0].pageY+1,e.changedTouches[0].pageX+1,e):this.openMenu(null,null,e.pageY+1,e.pageX+1,e))},n.prototype.closeMenu=function(e,i){if(void 0===e&&(e=0),void 0===i&&(i=null),this.isMenuVisible())for(var n=void 0,o=void 0,r=void 0,l=void 0,a=void 0,d=void 0,h=void 0,c=void 0,u=this.getWrapper(),f=this.getPopups(),m=this.isMenu?f.length+1:u.childElementCount;m>e;m--){if(n=this.isMenu&&1!==m?t.select(".e-ul",f[m-2]):t.selectAll(".e-menu-parent",u)[m-1],this.isMenu&&n.classList.contains("e-menu")){(o=this.getLIByClass(n,g))&&o.classList.remove(g);break}d={element:n,parentItem:r=this.navIdx.length?this.getItem(this.navIdx):null,items:l=r?r.items:this.items,event:i,cancel:!1},this.trigger("beforeClose",d),d.cancel||(this.isMenu?(h=t.closest(n,"."+E),this.unWireKeyboardEvent(h),this.destroyScrollObj(t.getInstance(h.children[0],p),h.children[0]),(c=t.getInstance(h,s.Popup)).hide(),c.destroy(),t.detach(h)):this.toggleAnimation(n,!1),this.navIdx.length=e?e-1:e,a={element:n,parentItem:r,items:l},this.trigger("onClose",a))}},n.prototype.destroyScrollObj=function(e,i){e&&(e.destroy(),i.parentElement.appendChild(t.select(".e-menu-parent",i)),t.detach(i))},n.prototype.getPopups=function(){return[].slice.call(document.querySelectorAll("."+E))},n.prototype.isMenuVisible=function(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&t.isVisible(this.element).valueOf()},n.prototype.canOpen=function(e){var i=!0;if(this.filter){i=!1;for(var s=this.filter.split(" "),n=0,o=s.length;n<o;n++)if(t.closest(e,"."+s[n])){i=!0;break}}return i},n.prototype.openMenu=function(e,i,n,o,r,l){var a=this;void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=null),void 0===l&&(l=this.targetElement);var d,h,c,p,u=this.getWrapper();if(e){if(d=this.createItems(i[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&t.Browser.isDevice){u.lastChild.style.display="none";var f={text:i[this.getField("text")].toString(),iconCss:"e-icons e-previous"},m=new N(this.items[0],null,f,!0),g=this.createItems([m]).children[0];g.classList.add(v),d.insertBefore(g,d.children[0])}if(this.isMenu){c=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+E,id:e.id+"-menu-popup"}),document.body.appendChild(c);var b=this.element.classList.contains("e-vertical")||1!==this.navIdx.length;h=new s.Popup(c,{relateTo:e,collision:{X:b||this.enableRtl?"none":"flip",Y:"fit"},position:b?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:d,open:function(){var e=t.select(".e-menu-vscroll",h.element);e&&(e.style.height="inherit",e.style.maxHeight="");var i=t.select(".e-ul",h.element);h.element.style.maxHeight="",i.focus(),a.triggerOpen(i)}}),this.cssClass&&t.addClass([c],this.cssClass.split(" ")),h.hide(),n=(p=this.triggerBeforeOpen(e,d,i,r,0,0)).top,o=p.left,c.style.display="block",c.style.maxHeight=c.getBoundingClientRect().height+"px",this.addScrolling(c,d,"vscroll",c.offsetHeight,d.offsetHeight),this.checkScrollOffset(r);var C=void 0;o||n?h.collision={X:"none",Y:"none"}:(h.refreshPosition(e,!0),o=parseInt(c.style.left,10),n=parseInt(c.style.top,10),this.enableRtl&&(o=b?o-c.offsetWidth-e.parentElement.offsetWidth:o-c.offsetWidth+e.offsetWidth),C=s.isCollide(c,null,o,n),(b||this.enableRtl)&&(C.indexOf("right")>-1||C.indexOf("left")>-1)&&(h.collision.X="none",o=this.enableRtl?s.calculatePosition(e,b?"right":"left","top").left:o-c.offsetWidth-t.closest(e,".e-"+this.getModuleName()+"-wrapper").offsetWidth),((C=s.isCollide(c,null,o,n)).indexOf("left")>-1||C.indexOf("right")>-1)&&(o=this.callFit(c,!0,!1,n,o).left),c.style.left=o+"px"),c.style.display=""}else d.style.zIndex=this.element.style.zIndex,u.appendChild(d),n=(p=this.triggerBeforeOpen(e,d,i,r,n,o)).top,o=p.left}else(d=this.element).style.zIndex=s.getZindexPartial(l||this.element).toString(),n=(p=this.triggerBeforeOpen(e,d,i,r,n,o)).top,o=p.left;if(p.cancel)this.isMenu&&(h.destroy(),t.detach(c)),this.navIdx.pop();else if(this.isMenu){this.wireKeyboardEvent(c),t.rippleEffect(c,{selector:"."+y}),c.style.left=o+"px",c.style.top=n+"px";var x="None"!==this.animationSettings.effect?{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing}:null;h.show(x,e)}else this.setPosition(e,d,n,o),this.toggleAnimation(d)},n.prototype.callFit=function(e,t,i,n,o){return s.fit(e,null,{X:t,Y:i},{top:n,left:o})},n.prototype.triggerBeforeOpen=function(e,t,i,s,n,o){this.getIndex(e?e.id:null,!0);var r={element:t,items:e?i[this.getField("children",this.navIdx.length-1)]:this.items,parentItem:i,event:s,cancel:!1,top:n,left:o};return this.trigger("beforeOpen",r),r},n.prototype.checkScrollOffset=function(e){var i=this.getWrapper();if(i.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){var s=t.isNullOrUndefined(e)?this.element:t.closest(e.target,"."+y),n=t.select(".e-hscroll-bar",i),o=void 0,r=void 0;n.scrollLeft>s.offsetLeft&&(n.scrollLeft-=n.scrollLeft-s.offsetLeft),(o=n.scrollLeft+n.offsetWidth)<(r=s.offsetLeft+s.offsetWidth)&&(n.scrollLeft+=r-o)}},n.prototype.addScrolling=function(e,i,s,n,o){if(this.enableScrolling&&n<o){var r=this.createElement("div",{className:"e-menu-"+s});e.appendChild(r),r.appendChild(i),r.style.maxHeight=e.style.maxHeight;e.style.overflow="hidden","vscroll"===s?new p({enableRtl:this.enableRtl},r).scrollStep=t.select(".e-"+s+"-bar",e).offsetHeight/2:new d({enableRtl:this.enableRtl},r).scrollStep=t.select(".e-"+s+"-bar",e).offsetWidth}},n.prototype.setPosition=function(e,i,n,o){if(this.toggleVisiblity(i),i===this.element||!t.isNullOrUndefined(o)&&!t.isNullOrUndefined(n))(a=s.isCollide(i,null,o,n)).indexOf("right")>-1&&(o-=i.offsetWidth),a.indexOf("bottom")>-1&&(n=(l=this.callFit(i,!1,!0,n,o)).top-20),(a=s.isCollide(i,null,o,n)).indexOf("left")>-1&&(o=(l=this.callFit(i,!0,!1,n,o)).left);else if(t.Browser.isDevice)n=Number(this.element.style.top.replace("px","")),o=Number(this.element.style.left.replace("px",""));else{var r=this.enableRtl?"left":"right",l=s.calculatePosition(e,r,"top");n=l.top,o=l.left;var a=s.isCollide(i,null,this.enableRtl?o-i.offsetWidth:o,n),d=a.indexOf("left")>-1||a.indexOf("right")>-1;d&&(o=(l=s.calculatePosition(e,this.enableRtl?"right":"left","top")).left),(this.enableRtl||d)&&(o=this.enableRtl&&d?o:o-i.offsetWidth),a.indexOf("bottom")>-1&&(n=(l=this.callFit(i,!1,!0,n,o)).top)}this.toggleVisiblity(i,!1),i.style.top=n+"px",i.style.left=o+"px"},n.prototype.toggleVisiblity=function(e,t){void 0===t&&(t=!0),e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"},n.prototype.createItems=function(e){var s=this,n=this.navIdx?this.navIdx.length:0,o=this.hasField(e,this.getField("iconCss",n)),r={showIcon:o,moduleName:"menu",fields:this.getFields(n),template:this.template,itemCreating:function(e){e.curData[e.fields.id]||(e.curData[e.fields.id]=t.getUniqueID("menuitem"),s.clearChanges()),e.curData.htmlAttributes={role:"menuitem",tabindex:"-1"},s.isMenu&&!e.curData[s.getField("separator",n)]&&(e.curData.htmlAttributes["aria-label"]=e.curData[e.fields.text])},itemCreated:function(e){if(e.curData[s.getField("separator",n)]&&(e.item.classList.add("e-separator"),e.item.removeAttribute("role")),!o||e.curData[e.fields.iconCss]||e.curData[s.getField("separator",n)]||e.item.classList.add("e-blankicon"),e.curData[e.fields.child]&&e.curData[e.fields.child].length){var t=s.createElement("span",{className:"e-icons e-caret"});e.item.appendChild(t),e.item.setAttribute("aria-haspopup","true"),e.item.setAttribute("aria-expanded","false"),s.isMenu||e.item.removeAttribute("role"),e.item.classList.add("e-menu-caret-icon")}s.isMenu&&s.template&&(e.item.setAttribute("id",e.curData[e.fields.id].toString()),e.item.removeAttribute("data-uid"));var i={item:e.curData,element:e.item};s.trigger("beforeItemRender",i)}},l=i.ListBase.createList(this.createElement,e,r,!this.template);return l.setAttribute("tabindex","0"),this.isMenu&&l.setAttribute("role","menu"),l},n.prototype.moverHandler=function(e){var i=this.getWrapper(),s=e.target,n=this.getLI(s);n&&t.closest(n,".e-"+this.getModuleName()+"-wrapper")&&(this.removeLIStateByClass([m],this.isMenu?[i].concat(this.getPopups()):[i]),n.classList.add(m),this.showItemOnClick||this.clickHandler(e)),this.isMenu&&(s.parentElement===i||t.closest(s,".e-"+this.getModuleName()+"-popup")||n||(this.removeLIStateByClass([m,g],[i]),this.navIdx.length&&this.closeMenu(null,e)),i=t.closest(s,".e-menu-vscroll"),"DIV"===s.tagName&&i&&this.removeLIStateByClass([m,g],[i]))},n.prototype.removeLIStateByClass=function(e,i){for(var s,n=0;n<i.length;n++)!function(n){e.forEach(function(e){(s=t.select("."+e,i[n]))&&s.classList.remove(e)})}(n)},n.prototype.getField=function(e,t){void 0===t&&(t=0);var i=this.fields[e];return"string"==typeof i?i:i[t]?i[t].toString():i[i.length-1].toString()},n.prototype.getFields=function(e){return void 0===e&&(e=0),{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}},n.prototype.hasField=function(e,t){for(var i=0,s=e.length;i<s;i++)if(e[i][t])return!0;return!1},n.prototype.clickHandler=function(e){if(this.isTapHold)this.isTapHold=!1;else{var i=this.getWrapper(),s=e.target,n=this.getLI(s),o=n?t.closest(n,".e-"+this.getModuleName()+"-wrapper"):null,r=n&&o&&(this.isMenu?this.getIndex(n.id,!0).length>0:i.firstElementChild.id===o.firstElementChild.id);if(r&&"click"===e.type&&!n.classList.contains(v)){this.setLISelected(n);var l=this.getIndex(n.id,!0),a={element:n,item:b=this.getItem(l)};this.trigger("select",a)}if(r&&("mouseover"===e.type||t.Browser.isDevice||this.showItemOnClick)){var d=void 0;if(n.classList.contains(v))d=i.children[this.navIdx.length-1],this.toggleAnimation(d),(f=this.getLIByClass(d,g))&&f.classList.remove(g),t.detach(n.parentNode),this.navIdx.pop();else if(!n.classList.contains("e-separator")){var h=!0,c=n.parentNode,p=this.getIdx(c,n);if(this.isMenu||!t.Browser.isDevice){var u=this.isMenu?Array.prototype.indexOf.call([i].concat(this.getPopups()),t.closest(c,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(i,c);if(this.navIdx[u]===p&&(h=!1),u!==this.navIdx.length&&("mouseover"!==e.type||h)){var f=this.getLIByClass(c,g);f&&f.classList.remove(g),this.closeMenu(u+1,e)}}if(h){var y=this.navIdx.concat(p),b=this.getItem(y);b[this.getField("children",y.length-1)]&&b[this.getField("children",y.length-1)].length?(("mouseover"===e.type||t.Browser.isDevice&&this.isMenu)&&this.setLISelected(n),n.setAttribute("aria-expanded","true"),this.navIdx.push(p),this.openMenu(n,b,null,null,e)):"mouseover"!==e.type&&this.closeMenu(null,e)}}}else if(this.isMenu&&"DIV"===s.tagName&&this.navIdx.length&&t.closest(s,".e-menu-vscroll")){var C=t.closest(s,"."+E),N=Array.prototype.indexOf.call(this.getPopups(),C)+1;N<this.navIdx.length&&(this.closeMenu(N+1,e),this.removeLIStateByClass([m,g],[C]))}else"UL"===s.tagName&&s.parentElement===i||n&&n.querySelector(".e-caret")||this.closeMenu(null,e)}},n.prototype.setLISelected=function(e){var t=this.getLIByClass(e.parentElement,g);t&&t.classList.remove(g),this.isMenu||e.classList.remove(m),e.classList.add(g)},n.prototype.getLIByClass=function(e,t){for(var i=0,s=e.children.length;i<s;i++)if(e.children[i].classList.contains(t))return e.children[i];return null},n.prototype.getItem=function(e){var t=(e=e.slice()).pop();return this.getItems(e)[t]},n.prototype.getItems=function(e){for(var t=this.items,i=0;i<e.length;i++)t=t[e[i]][this.getField("children",i)];return t},n.prototype.getIdx=function(e,t,i){void 0===i&&(i=!0);var s=Array.prototype.indexOf.call(e.children,t);return i&&e.children[0].classList.contains(v)&&s--,s},n.prototype.getLI=function(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:t.closest(e,"li.e-menu-item")},n.prototype.onPropertyChanged=function(e,i){for(var s=this,n=this.getWrapper(),o=this,r=0,l=Object.keys(e);r<l.length;r++)!function(r){switch(r){case"cssClass":i.cssClass&&t.removeClass([n],i.cssClass.split(" ")),e.cssClass&&t.addClass([n],e.cssClass.split(" "));break;case"enableRtl":n.classList.toggle("e-rtl");break;case"showItemOnClick":o.unWireEvents(),o.showItemOnClick=e.showItemOnClick,o.wireEvents();break;case"enableScrolling":if(e.enableScrolling){var l;o.element.classList.contains("e-vertical")?o.addScrolling(n,o.element,"vscroll",n.offsetHeight,o.element.offsetHeight):o.addScrolling(n,o.element,"hscroll",n.offsetWidth,o.element.offsetWidth),o.getPopups().forEach(function(e){l=t.select(".e-ul",e),s.addScrolling(e,l,"vscroll",e.offsetHeight,l.offsetHeight)})}else{var a=n.children[0];o.element.classList.contains("e-vertical")?o.destroyScrollObj(t.getInstance(a,p),a):o.destroyScrollObj(t.getInstance(a,d),a),n.style.overflow="",n.appendChild(o.element),o.getPopups().forEach(function(e){a=e.children[0],s.destroyScrollObj(t.getInstance(a,p),a),e.style.overflow=""})}break;case"items":var h=void 0,c=void 0,u=void 0;if(Object.keys(i.items).length)for(var f=Object.keys(e.items),m=0;m<f.length;m++)(c=o.getChangedItemIndex(e,[],Number(f[m]))).length<=o.getWrapper().children.length&&(h=c.pop(),u=o.getItems(c),o.insertAfter([u[h]],u[h].text),o.removeItem(u,c,h)),c.length=0;else{var v=o.element;v.innerHTML="",[].slice.call(o.createItems(e.items).children).forEach(function(e){v.appendChild(e)});for(var m=1,g=n.childElementCount;m<g;m++)t.detach(n.lastElementChild);o.navIdx=[]}}}(l[r])},n.prototype.getChangedItemIndex=function(e,t,i){t.push(i);var s=Object.keys(e.items[i]).pop();if("items"===s){var n=e.items[i];this.getChangedItemIndex(n,t,Number(Object.keys(n.items).pop()))}else"isParentArray"===s&&t.length>1&&t.pop();return t},n.prototype.removeItem=function(e,i,s){e.splice(s,1);var n=this.getWrapper().children;i.length<n.length&&t.detach(n[i.length].children[s])},n.prototype.unWireEvents=function(){var e=this.getWrapper();if(this.target){for(var i=void 0,n=void 0,o=t.selectAll(this.target),r=0,l=o.length;r<l;r++)i=o[r],t.Browser.isIos?(n=t.getInstance(i,t.Touch))&&n.destroy():t.EventHandler.remove(i,"contextmenu",this.cmenuHandler);for(var a=0,d=s.getScrollableParent(this.targetElement);a<d.length;a++){var h=d[a];t.EventHandler.remove(h,"scroll",this.scrollHandler)}}t.Browser.isDevice||(t.EventHandler.remove(this.isMenu?document:e,"mouseover",this.delegateMoverHandler),t.EventHandler.remove(document,"mousedown",this.delegateMouseDownHandler)),t.EventHandler.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(e),this.rippleFn()},n.prototype.unWireKeyboardEvent=function(e){var i=t.getInstance(e,t.KeyboardEvents);i&&i.destroy()},n.prototype.toggleAnimation=function(e,t){var i=this;void 0===t&&(t=!0),"None"!==this.animationSettings.effect&&t?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:function(e){e.element.style.display="block",e.element.style.maxHeight=e.element.getBoundingClientRect().height+"px"},end:function(e){i.end(e.element,t)}}):this.end(e,t)},n.prototype.triggerOpen=function(e){var t=this.navIdx.length?this.getItem(this.navIdx):null,i={element:e,parentItem:t,items:t?t.items:this.items};this.trigger("onOpen",i)},n.prototype.end=function(e,i){if(i)if(e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+m))e.querySelector("."+m).focus();else{var s=void 0;(s=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1])?s.querySelector("."+g).focus():this.element.focus()}else if(e===this.element){var n=this.getLIByClass(this.element,m);n&&n.classList.remove(m);var o=this.getLIByClass(this.element,g);o&&o.classList.remove(g),e.style.display="none"}else t.detach(e)},n.prototype.getPersistData=function(){return""},n.prototype.getWrapper=function(){return t.closest(this.element,".e-"+this.getModuleName()+"-wrapper")},n.prototype.getIndex=function(e,t,i,s,n,o){void 0===i&&(i=this.items),void 0===s&&(s=[]),void 0===n&&(n=!1),void 0===o&&(o=0);var r;o=n?o+1:0;for(var l=0,a=i.length;l<a;l++){if(r=i[l],(t?r[this.getField("itemId",o)]:r[this.getField("text",o)])===e){s.push(l);break}if(r[this.getField("children",o)]&&r[this.getField("children",o)].length){if(-1!==(s=this.getIndex(e,t,r[this.getField("children",o)],s,!0,o))[s.length-1]){s.unshift(l);break}l!==a-1&&s.pop()}else l===a-1&&s.push(-1)}return n||-1!==s[0]?s:[]},n.prototype.enableItems=function(e,i,s){void 0===i&&(i=!0);for(var n,o,r,l="e-disabled",a=0;a<e.length;a++)o=(r=this.getIndex(e[a],s)).pop(),(n=this.getUlByNavIdx(r.length))&&(i?this.isMenu?(n.children[o].classList.remove(l),n.children[o].removeAttribute("aria-disabled")):t.Browser.isDevice&&!n.classList.contains("e-contextmenu")?n.children[o+1].classList.remove(l):n.children[o].classList.remove(l):this.isMenu?(n.children[o].classList.add(l),n.children[o].setAttribute("aria-disabled","true")):t.Browser.isDevice&&!n.classList.contains("e-contextmenu")?n.children[o+1].classList.add(l):n.children[o].classList.add(l))},n.prototype.showItems=function(e,t){this.showHideItems(e,!1,t)},n.prototype.hideItems=function(e,t){this.showHideItems(e,!0,t)},n.prototype.showHideItems=function(e,i,s){for(var n,o,r,l=0;l<e.length;l++)o=(r=this.getIndex(e[l],s)).pop(),(n=this.getUlByNavIdx(r.length))&&(i?t.Browser.isDevice&&!n.classList.contains("e-contextmenu")?n.children[o+1].classList.add(b):n.children[o].classList.add(b):t.Browser.isDevice&&!n.classList.contains("e-contextmenu")?n.children[o+1].classList.remove(b):n.children[o].classList.remove(b))},n.prototype.removeItems=function(e,t){for(var i,s,n,o=0;o<e.length;o++)i=(s=this.getIndex(e[o],t)).pop(),n=this.getItems(s),this.removeItem(n,s,i)},n.prototype.insertAfter=function(e,t,i){this.insertItems(e,t,i)},n.prototype.insertBefore=function(e,t,i){this.insertItems(e,t,i,!1)},n.prototype.insertItems=function(e,i,s,n){void 0===n&&(n=!0);for(var o,r,l,a,d,h=0;h<e.length;h++){r=(l=this.getIndex(i,s)).pop(),a=this.getItems(l),d=new N(a[0],"items",e[h],!0),a.splice(n?r+1:r,0,d);var c=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(l.length<c.length){r=n?r+1:r,this.hasField(a,this.getField("iconCss",l.length-1)),o=this.createItems(a).children[r];var p=this.isMenu?t.select(".e-menu-parent",c[l.length]):c[l.length];p.insertBefore(o,p.children[r])}}},n.prototype.destroy=function(){var i=this,s=this.getWrapper();s&&(e.prototype.destroy.call(this),this.unWireEvents(),this.ngElement&&!this.isMenu?this.ngElement.style.display="block":(this.closeMenu(),this.element.innerHTML="",["top","left","display","z-index"].forEach(function(e){i.element.style.removeProperty(e)}),["role","tabindex","class","style"].forEach(function(e){"class"===e&&i.element.classList.contains("e-menu-parent")&&i.element.classList.remove("e-menu-parent"),-1!==["class","style"].indexOf(e)&&i.element.getAttribute(e)||i.element.removeAttribute(e),i.isMenu&&"class"===e&&i.element.classList.contains("e-vertical")&&i.element.classList.remove("e-vertical")}),s.parentNode.insertBefore(this.element,s)),this.isMenu&&this.ngElement?(t.detach(this.element),s.style.display="",s.classList.remove("e-"+this.getModuleName()+"-wrapper"),s.removeAttribute("data-ripple")):t.detach(s))},f([t.Event()],n.prototype,"beforeItemRender",void 0),f([t.Event()],n.prototype,"beforeOpen",void 0),f([t.Event()],n.prototype,"onOpen",void 0),f([t.Event()],n.prototype,"beforeClose",void 0),f([t.Event()],n.prototype,"onClose",void 0),f([t.Event()],n.prototype,"select",void 0),f([t.Event()],n.prototype,"created",void 0),f([t.Property("")],n.prototype,"cssClass",void 0),f([t.Property(!1)],n.prototype,"showItemOnClick",void 0),f([t.Property("")],n.prototype,"target",void 0),f([t.Property("")],n.prototype,"filter",void 0),f([t.Property(null)],n.prototype,"template",void 0),f([t.Property(!1)],n.prototype,"enableScrolling",void 0),f([t.Complex({},C)],n.prototype,"fields",void 0),f([t.Collection([],N)],n.prototype,"items",void 0),f([t.Complex({},x)],n.prototype,"animationSettings",void 0),n=f([t.NotifyPropertyChanges],n)}(t.Component),O=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),L=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},A="e-toolbar-items",S="e-toolbar-item",I="e-toolbar-popup",k=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return O(i,e),L([t.Property("")],i.prototype,"id",void 0),L([t.Property("")],i.prototype,"text",void 0),L([t.Property("auto")],i.prototype,"width",void 0),L([t.Property("")],i.prototype,"cssClass",void 0),L([t.Property(!1)],i.prototype,"showAlwaysInPopup",void 0),L([t.Property("")],i.prototype,"prefixIcon",void 0),L([t.Property("")],i.prototype,"suffixIcon",void 0),L([t.Property("None")],i.prototype,"overflow",void 0),L([t.Property("")],i.prototype,"template",void 0),L([t.Property("Button")],i.prototype,"type",void 0),L([t.Property("Both")],i.prototype,"showTextOn",void 0),L([t.Property(null)],i.prototype,"htmlAttributes",void 0),L([t.Property("")],i.prototype,"tooltipText",void 0),L([t.Property("Left")],i.prototype,"align",void 0),L([t.Event()],i.prototype,"click",void 0),i}(t.ChildProperty),P=function(e){function i(t,i){var s=e.call(this,t,i)||this;return s.resizeContext=s.resize.bind(s),s.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},s}return O(i,e),i.prototype.destroy=function(){var i=this,s=this.element;for(e.prototype.destroy.call(this),this.unwireEvents(),this.tempId.forEach(function(e){t.isNullOrUndefined(i.element.querySelector(e))||(document.body.appendChild(i.element.querySelector(e)).style.display="none")});s.firstChild;)s.removeChild(s.firstChild);this.trgtEle&&s.appendChild(this.ctrlTem),this.clearProperty(),this.popObj=null,this.tbarAlign=null,this.remove(this.element,"e-toolpop"),s.removeAttribute("style"),["aria-disabled","aria-orientation","aria-haspopup","role"].forEach(function(e){i.element.removeAttribute(e)})},i.prototype.preRender=function(){var e={enableCollision:!0,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains("e-vertical"),this.popupPriCount=0,this.enableRtl&&this.add(this.element,"e-rtl")},i.prototype.wireEvents=function(){t.EventHandler.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),this.keyModule=new t.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),t.EventHandler.add(this.element,"keydown",this.docKeyDown,this),this.element.setAttribute("tabIndex","0")},i.prototype.docKeyDown=function(e){if("INPUT"!==e.target.tagName){var i=!t.isNullOrUndefined(this.popObj)&&t.isVisible(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&i&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}},i.prototype.unwireEvents=function(){t.EventHandler.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.keyModule.destroy(),window.removeEventListener("resize",this.resizeContext),t.EventHandler.remove(document,"scroll",this.docEvent),t.EventHandler.remove(this.element,"keydown",this.docKeyDown),t.EventHandler.remove(document,"click",this.docEvent)},i.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},i.prototype.docEvent=function(e){var i=t.closest(e.target,".e-popup");this.popObj&&t.isVisible(this.popObj.element)&&!i&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})},i.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,"e-tbar-pos"),this.scrollModule.destroy(),this.scrollModule=null)},i.prototype.destroyItems=function(){[].slice.call(this.element.querySelectorAll("."+S)).forEach(function(e){t.detach(e)});var e=this.element.querySelector("."+A);this.tbarAlign&&([].slice.call(e.children).forEach(function(e){t.detach(e)}),this.tbarAlign=!1,this.remove(e,"e-tbar-pos")),this.clearProperty()},i.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,"e-rtl"),this.destroyScroll()),this.remove(this.element,"e-tbar-extended"),this.remove(this.element,"e-extended-toolbar");var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,"e-toolbar-multirow"),this.popObj&&this.popupRefresh(this.popObj.element,!0)},i.prototype.add=function(e,t){e.classList.add(t)},i.prototype.remove=function(e,t){e.classList.remove(t)},i.prototype.elementFocus=function(e){var t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()},i.prototype.clstElement=function(e,i){return e&&this.popObj&&t.isVisible(this.popObj.element)?this.popObj.element.querySelector("."+S):this.element===i||e?this.element.querySelector("."+S+":not(.e-overlay ):not(.e-separator )"):t.closest(i,"."+S)},i.prototype.keyHandling=function(e,i,s,n,o){var r=this.popObj,l=this.element,a={name:"FadeOut",duration:100};switch(i.action){case"moveRight":if(this.isVertical)return;l===s?this.elementFocus(e):n||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;n||this.eleFocus(e,"previous");break;case"home":case"end":var d=void 0,h=void 0;if(e){var c=t.closest(e,".e-popup");c?t.isVisible(this.popObj.element)&&(h=[].slice.call(c.children),d="home"===i.action?h[0]:h[h.length-1]):(h=this.element.querySelectorAll("."+A+" ."+S),d="home"===i.action?h[0]:h[h.length-1]),d&&this.elementFocus(d)}break;case"moveUp":case"moveDown":var p="moveUp"===i.action?"previous":"next";if(this.isVertical)"moveUp"===i.action?this.eleFocus(e,"previous"):this.eleFocus(e,"next");else if(r&&t.closest(s,".e-popup")){var u=r.element,f=u.firstElementChild;if("previous"===p&&f===e||"next"===p&&u.lastElementChild===e)return;this.eleFocus(e,p)}else"moveDown"===i.action&&r&&t.isVisible(r.element)&&this.elementFocus(e);break;case"tab":if(!o&&!n){var m=e.firstElementChild;l===s&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(m),m.focus()),this.element.removeAttribute("tabindex"))}break;case"popupClose":r&&"Extended"!==this.overflowMode&&r.hide(a);break;case"popupOpen":if(!n)return;r&&!t.isVisible(r.element)?(r.element.style.top=l.offsetHeight+"px",r.show({name:"FadeIn",duration:100})):r.hide(a)}},i.prototype.keyActionHandler=function(e){var t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!this.element.classList.contains("e-overlay")){e.preventDefault();var i,s=t.classList.contains("e-hor-nav"),n=t.classList.contains("e-scroll-nav");((i=this.clstElement(s,t))||n)&&this.keyHandling(i,e,t,s,n)}},i.prototype.disable=function(e){var i=this.element;e?i.classList.add("e-overlay"):i.classList.remove("e-overlay"),i.setAttribute("tabindex",e?"-1":"0"),this.activeEle&&this.activeEle.setAttribute("tabindex",e?"-1":"0"),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(t.isVisible(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),i.querySelector("#"+i.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},i.prototype.eleFocus=function(e,i){var s=Object(e)[i+"ElementSibling"],n=function(e){return e.classList.contains("e-separator")||e.classList.contains("e-overlay")};if(s){var o=n(s);if(o){if(!Object(s)[i+"ElementSibling"])return;if(s=Object(s)[i+"ElementSibling"],o=n(s))return void this.eleFocus(s,i)}this.elementFocus(s)}else if(this.tbarAlign){var r=Object(e.parentElement)[i+"ElementSibling"];if(t.isNullOrUndefined(r)||0!==r.children.length||(r=Object(r)[i+"ElementSibling"]),!t.isNullOrUndefined(r)&&r.children.length>0)if("next"===i)n(l=r.querySelector("."+S))?this.eleFocus(l,i):(l.firstElementChild.focus(),this.activeEleSwitch(l));else{var l=r.lastElementChild;n(l)?this.eleFocus(l,i):this.elementFocus(l)}}},i.prototype.clickHandler=function(e){var i=e.target,s=i.classList,n=this.element,o=!t.isNullOrUndefined(t.closest(i,".e-toolbar-pop")),r=t.closest(i,".e-hor-nav");r||(r=i),n.children[0].classList.contains("e-hscroll")||n.children[0].classList.contains("e-vscroll")||!s.contains("e-hor-nav")||(s=i.querySelector(".e-icons").classList),(s.contains("e-popup-up-icon")||s.contains("e-popup-down-icon"))&&this.popupClickHandler(n,r,"e-rtl");var l,a=t.closest(e.target,"."+S);if(!t.isNullOrUndefined(a)&&!a.classList.contains("e-overlay")||r.classList.contains("e-hor-nav")){a&&(l=this.items[this.tbarEle.indexOf(a)]);var d={originalEvent:e,item:l};l&&!t.isNullOrUndefined(l.click)&&this.trigger("items["+this.tbarEle.indexOf(a)+"].click",d),d.cancel||this.trigger("clicked",d),t.isNullOrUndefined(this.popObj)||!o||d.cancel||"Popup"!==this.overflowMode||this.popObj.hide({name:"FadeOut",duration:100})}},i.prototype.popupClickHandler=function(e,i,s){var n=this.popObj;t.isVisible(n.element)?(i.classList.remove("e-nav-active"),n.hide({name:"FadeOut",duration:100})):(e.classList.contains(s)&&(n.enableRtl=!0,n.position={X:"left",Y:"top"}),0!==n.offsetX||e.classList.contains(s)||(n.enableRtl=!1,n.position={X:"right",Y:"top"}),n.dataBind(),n.refreshPosition(),n.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(n.element.style.minHeight="0px"),i.classList.add("e-nav-active"),n.show({name:"FadeIn",duration:100}))},i.prototype.render=function(){this.initialize(),this.renderControl(),this.separator(),this.wireEvents()},i.prototype.initialize=function(){var e=t.formatUnit(this.width),i=t.formatUnit(this.height);"msie"===t.Browser.info.name&&"auto"===this.height&&"MultiRow"!==this.overflowMode||t.setStyleAttribute(this.element,{height:i}),t.setStyleAttribute(this.element,{width:e});var s={role:"toolbar","aria-disabled":"false","aria-haspopup":"false","aria-orientation":this.isVertical?"vertical":"horizontal"};t.attributes(this.element,s)},i.prototype.renderControl=function(){this.trgtEle=this.element.children.length>0?this.element.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1)},i.prototype.changeOrientation=function(){var e=this.element;this.isVertical?(e.classList.remove("e-vertical"),this.isVertical=!1,"auto"!==this.height&&"100%"!==this.height||(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add("e-vertical"),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),t.setStyleAttribute(this.element,{height:t.formatUnit(this.height),width:t.formatUnit(this.width)})),this.destroyMode(),this.refreshOverflow()},i.prototype.initScroll=function(e,i){!this.scrollModule&&this.checkOverflow(e,i[0])&&(this.tbarAlign&&this.element.querySelector("."+A+" .e-toolbar-center").removeAttribute("style"),this.isVertical?this.scrollModule=new p({scrollStep:this.scrollStep,enableRtl:this.enableRtl},i[0]):this.scrollModule=new d({scrollStep:this.scrollStep,enableRtl:this.enableRtl},i[0]),this.remove(this.scrollModule.element,"e-tbar-pos"),t.setStyleAttribute(this.element,{overflow:"hidden"}))},i.prototype.itemWidthCal=function(e){var i,s=this,n=0;return[].slice.call(t.selectAll("."+S,e)).forEach(function(e){t.isVisible(e)&&(i=window.getComputedStyle(e),n+=s.isVertical?e.offsetHeight:e.offsetWidth,n+=parseFloat(s.isVertical?i.marginTop:i.marginRight),n+=parseFloat(s.isVertical?i.marginBottom:i.marginLeft))}),n},i.prototype.getScrollCntEle=function(e){var t=this.isVertical?".e-vscroll-content":".e-hscroll-content";return e.querySelector(t)},i.prototype.checkOverflow=function(e,i){if(t.isNullOrUndefined(e)||t.isNullOrUndefined(i)||!t.isVisible(e))return!1;var s=this.isVertical?e.offsetHeight:e.offsetWidth,n=this.isVertical?i.offsetHeight:i.offsetWidth;(this.tbarAlign||this.scrollModule||s===n)&&(n=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(i):i));var o=e.querySelector(".e-hor-nav"),r=e.querySelector(".e-scroll-nav"),l=0;return o?l=this.isVertical?o.offsetHeight:o.offsetWidth:r&&(l=this.isVertical?2*r.offsetHeight:2*r.offsetWidth),n>s-l},i.prototype.refreshOverflow=function(){this.resize()},i.prototype.renderOverflowMode=function(){var e=this.element,i=e.querySelector("."+A),s=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===t.Browser.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":t.isNullOrUndefined(this.scrollModule)&&this.initScroll(e,e.getElementsByClassName(A));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,i)||s)&&(this.createPopupEle(e,[].slice.call(t.selectAll("."+A+" ."+S,e))),this.element.querySelector(".e-hor-nav").setAttribute("tabIndex","0")),this.tbarAlign&&(this.add(i,"e-tbar-pos"),this.itemPositioning());break;case"MultiRow":this.add(i,"e-toolbar-multirow"),this.checkOverflow(e,i)&&this.tbarAlign&&(this.removePositioning(),this.add(i,"e-multirow-pos")),"hidden"===e.style.overflow&&(e.style.overflow=""),"msie"!==t.Browser.info.name&&"auto"===e.style.height||(e.style.height="auto");break;case"Extended":this.add(this.element,"e-extended-toolbar"),(this.checkOverflow(e,i)||s)&&(this.tbarAlign&&this.removePositioning(),this.createPopupEle(e,[].slice.call(t.selectAll("."+A+" ."+S,e))),this.element.querySelector(".e-hor-nav").setAttribute("tabIndex","0"))}},i.prototype.separator=function(){var e,t=this.element,i=[].slice.call(t.querySelectorAll(".e-separator")),s=t.querySelector(".e-multirow-separator"),n=t.querySelector(".e-extended-separator");null!==(e="MultiRow"===this.overflowMode?s:n)&&("MultiRow"===this.overflowMode?e.classList.remove("e-multirow-separator"):"Extended"===this.overflowMode&&e.classList.remove("e-extended-separator"));for(var o=0;o<=i.length-1;o++)i[o].offsetLeft<30&&0!==i[o].offsetLeft&&("MultiRow"===this.overflowMode?i[o].classList.add("e-multirow-separator"):"Extended"===this.overflowMode&&i[o].classList.add("e-extended-separator"))},i.prototype.createPopupEle=function(e,i){var s=e.querySelector(".e-hor-nav"),n=this.isVertical;s||this.createPopupIcon(e),s=e.querySelector(".e-hor-nav");var o=n?s.offsetHeight:s.offsetWidth,r=(n?e.offsetHeight:e.offsetWidth)-o;this.element.classList.remove("e-rtl"),t.setStyleAttribute(this.element,{direction:"initial"}),this.checkPriority(e,i,r,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},i.prototype.pushingPoppedEle=function(e,i,s,n,o){var r=e.element,l=t.selectAll(".e-overflow-show",s),a=0,d=0;[].slice.call(t.selectAll("."+I,r.querySelector("."+A))).forEach(function(r,h){l=t.selectAll(".e-overflow-show",s),r.classList.contains("e-overflow-show")&&l.length>0?e.tbResize&&l.length>h?(s.insertBefore(r,l[h]),++d):(s.insertBefore(r,s.children[l.length]),++d):r.classList.contains("e-overflow-show")?(s.insertBefore(r,s.firstChild),++d):e.tbResize&&r.classList.contains("e-overflow-hide")&&s.children.length>0&&0===l.length?(s.insertBefore(r,s.firstChild),++d):r.classList.contains("e-overflow-hide")?i.push(r):e.tbResize?(s.insertBefore(r,s.childNodes[a+d]),++a):s.appendChild(r),r.classList.contains("e-separator")?t.setStyleAttribute(r,{display:"",height:o+"px"}):t.setStyleAttribute(r,{display:"",height:n+"px"})}),i.forEach(function(e){s.appendChild(e)});for(var h=t.selectAll("."+S,r.querySelector("."+A)),c=h.length-1;c>=0;c--){var p=h[c];if(!p.classList.contains("e-separator")||"Extended"===this.overflowMode)break;t.setStyleAttribute(p,{display:"none"})}},i.prototype.createPopup=function(){var e,t,i,s,n=this.element;"Extended"===this.overflowMode&&(s=n.querySelector(".e-separator:not(."+I+")"),i="auto"===n.style.height||""===n.style.height?null:s.offsetHeight),t=n.querySelector("."+S+":not(.e-separator):not(."+I+")"),e="auto"===n.style.height||""===n.style.height?null:t&&t.offsetHeight;var o,r=[];if(n.querySelector("#"+n.id+"_popup.e-toolbar-pop"))o=n.querySelector("#"+n.id+"_popup.e-toolbar-pop");else{var l=this.createElement("div",{id:n.id+"_popup",className:"e-toolbar-pop e-toolbar-extended"}),a=this.createElement("div",{id:n.id+"_popup",className:"e-toolbar-pop"});o="Extended"===this.overflowMode?l:a}this.pushingPoppedEle(this,r,o,e,i),this.popupInit(n,o)},i.prototype.getElementOffsetY=function(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight},i.prototype.popupInit=function(e,i){if(this.popObj){var n=this.popObj.element;t.setStyleAttribute(n,{maxHeight:"",display:"block"}),t.setStyleAttribute(n,{maxHeight:n.offsetHeight+"px",display:""})}else{e.appendChild(i),t.setStyleAttribute(this.element,{overflow:""});var o=window.getComputedStyle(this.element),r=new s.Popup(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});r.appendTo(i),"Extended"===this.overflowMode&&(r.width=parseFloat(o.width)+2*parseFloat(o.borderRightWidth),r.offsetX=0),t.EventHandler.add(document,"scroll",this.docEvent.bind(this)),t.EventHandler.add(document,"click ",this.docEvent.bind(this)),r.element.style.maxHeight=r.element.offsetHeight+"px",this.isVertical&&(r.element.style.visibility="hidden"),r.hide(),this.popObj=r,this.element.setAttribute("aria-haspopup","true")}},i.prototype.tbarPopupHandler=function(e){"Extended"===this.overflowMode&&(e?this.add(this.element,"e-tbar-extended"):this.remove(this.element,"e-tbar-extended"))},i.prototype.popupOpen=function(e){var i=this.popObj;this.isVertical||(i.offsetY=this.getElementOffsetY(),i.dataBind());var n=this.popObj.element,o=this.popObj.element.parentElement,r=o.querySelector(".e-hor-nav");t.setStyleAttribute(i.element,{height:"auto",maxHeight:""}),i.element.style.maxHeight=i.element.offsetHeight+"px","Extended"===this.overflowMode&&(i.element.style.minHeight="");var l=n.offsetTop+n.offsetHeight+s.calculatePosition(o).top,a=r.firstElementChild;r.classList.add("e-nav-active"),t.classList(a,["e-popup-up-icon"],["e-popup-down-icon"]),this.tbarPopupHandler(!0);var d=t.isNullOrUndefined(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+d<l&&this.element.offsetTop<n.offsetHeight){var h=n.offsetHeight-(l-window.innerHeight-d+5);i.height=h+"px";for(var c=0;c<=n.childElementCount;c++){var p=n.children[c];if(p.offsetTop+p.offsetHeight>h){h=p.offsetTop;break}}t.setStyleAttribute(i.element,{maxHeight:h+"px"})}else if(this.isVertical){var u=this.element.getBoundingClientRect();t.setStyleAttribute(i.element,{maxHeight:u.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}},i.prototype.popupClose=function(e){var i=this.element.querySelector(".e-hor-nav"),s=i.firstElementChild;i.classList.remove("e-nav-active"),t.classList(s,["e-popup-down-icon"],["e-popup-up-icon"]),this.tbarPopupHandler(!1)},i.prototype.checkPriority=function(e,i,s,n){for(var o,r=this.popupPriCount>0,l=s,a=0,d=0,h=0,c=function(e,t){var i=!1;return t.forEach(function(t){e.classList.contains(t)&&(i=!0)}),i},p=i.length-1;p>=0;p--){var u=void 0,f=window.getComputedStyle(i[p]);this.isVertical?(u=parseFloat(f.marginTop),u+=parseFloat(f.marginBottom)):(u=parseFloat(f.marginRight),u+=parseFloat(f.marginLeft));var m=i[p]===this.tbarEle[0];m&&(this.tbarEleMrgn=u),o=this.isVertical?i[p].offsetHeight:i[p].offsetWidth;var v=m?o+u:o;if(c(i[p],["e-popup-alone"])&&r&&(i[p].classList.add(I),this.isVertical?t.setStyleAttribute(i[p],{display:"none",minHeight:v+"px"}):t.setStyleAttribute(i[p],{display:"none",minWidth:v+"px"}),h++),this.isVertical?i[p].offsetTop+i[p].offsetHeight+u>s:i[p].offsetLeft+i[p].offsetWidth+u>s){if(i[p].classList.contains("e-separator")){if("Extended"===this.overflowMode)d===h&&c(g=i[p],["e-separator","e-ignore"])&&(i[p].classList.add(I),h++),d++;else if("Popup"===this.overflowMode){if(a>0&&d===h){var g=i[p+d+(a-1)];c(g,["e-separator","e-ignore"])&&t.setStyleAttribute(g,{display:"none"})}a++,d=0,h=0}}else d++;i[p].classList.contains("e-overflow-show")&&n?s-=(this.isVertical?i[p].offsetHeight:i[p].offsetWidth)+u:c(i[p],["e-separator","e-ignore"])?s-=(this.isVertical?i[p].offsetHeight:i[p].offsetWidth)+u:(i[p].classList.add(I),this.isVertical?t.setStyleAttribute(i[p],{display:"none",minHeight:v+"px"}):t.setStyleAttribute(i[p],{display:"none",minWidth:v+"px"}),h++)}}if(n){var y=t.selectAll("."+S+":not(."+I+")",this.element);this.checkPriority(e,y,l,!1)}},i.prototype.createPopupIcon=function(e){var i=e.id.concat("_nav"),s="e-"+e.id.concat("_nav e-hor-nav");s="Extended"===this.overflowMode?s+" e-expended-nav":s;var n=this.createElement("div",{id:i,className:s});"msie"!==t.Browser.info.name&&"edge"!==t.Browser.info.name||n.classList.add("e-ie-align");var o=this.createElement("div",{className:"e-popup-down-icon e-icons"});n.appendChild(o),n.setAttribute("tabindex","0"),e.appendChild(n)},i.prototype.tbarPriRef=function(e,i,s,n,o,r,l,a){var d=a,h=this.popObj.element,c=t.selectAll("."+I+":not(.e-overflow-show)",h).length,p=function(e,t){return e.classList.contains(t)};if(0===t.selectAll(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){var u=e.children[i-(i-s)-1],f=!t.isNullOrUndefined(u)&&p(u,"e-ignore");if(!t.isNullOrUndefined(u)&&p(u,"e-separator")&&!t.isVisible(u)||f){u.style.display="inherit";var m=u.offsetWidth+2*parseFloat(window.getComputedStyle(u).marginRight),v=u.previousElementSibling;r+m<l||o?(e.insertBefore(n,e.children[i+d-(i-s)]),t.isNullOrUndefined(v)||(v.style.display="")):v.classList.contains("e-separator")&&(v.style.display="none"),u.style.display=""}else e.insertBefore(n,e.children[i+d-(i-s)])}else e.insertBefore(n,e.children[i+d-c])},i.prototype.popupRefresh=function(e,i){var s=this,n=this.element,o=this.isVertical,r=n.querySelector(".e-hor-nav"),l=n.querySelector("."+A);if(!t.isNullOrUndefined(r)){l.removeAttribute("style"),e.style.display="block";var a;a=o?n.offsetHeight-(r.offsetHeight+l.offsetHeight):n.offsetWidth-(r.offsetWidth+l.offsetWidth);var d=0;[].slice.call(e.children).forEach(function(e){d+=s.popupEleWidth(e),t.setStyleAttribute(e,{position:""})}),a+(o?r.offsetHeight:r.offsetWidth)>d&&0===this.popupPriCount&&(i=!0),this.popupEleRefresh(a,e,i),e.style.display="",0===e.children.length&&r&&this.popObj&&(t.detach(r),r=null,this.popObj.destroy(),t.detach(this.popObj.element),this.popObj=null,n.setAttribute("aria-haspopup","false"),n.classList.remove("e-toolpop"))}},i.prototype.ignoreEleFetch=function(e,t){var i=[].slice.call(t.querySelectorAll(".e-ignore")),s=[],n=0;return i.length>0?(i.forEach(function(e){s.push([].slice.call(t.children).indexOf(e))}),s.forEach(function(t){t<=e&&n++}),n):0},i.prototype.checkPopupRefresh=function(e,t){t.style.display="block";var i=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");var s=e.offsetWidth-e.querySelector(".e-hor-nav").offsetWidth,n=e.querySelector("."+A).offsetWidth;return t.style.removeProperty("display"),s>i+n},i.prototype.popupEleWidth=function(e){e.style.position="absolute";var i=this.isVertical?e.offsetHeight:e.offsetWidth,s=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains("e-popup-text")){var n=e.children[0];!t.isNullOrUndefined(s)&&e.classList.contains("e-popup-text")?s.style.display="none":!t.isNullOrUndefined(s)&&e.classList.contains("e-toolbar-text")&&(s.style.display="block"),n.style.minWidth="0%",i=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),n.style.minWidth="",n.style.minHeight="",t.isNullOrUndefined(s)||(s.style.display="")}return i},i.prototype.popupEleRefresh=function(e,i,s){for(var n,o,r=this.popupPriCount>0,l=this.tbarEle,a=this.element.querySelector("."+A),d=0,h=this,c=0,p=[].slice.call(i.children);c<p.length&&"break"!==function(i){if(i.classList.contains("e-popup-alone")&&r&&!s)return"continue";var c=h.popupEleWidth(i);if(i===h.tbarEle[0]&&(c+=h.tbarEleMrgn),i.style.position="",!(c<e||s))return"break";if(t.setStyleAttribute(i,{minWidth:"",height:"",minHeight:""}),i.classList.contains("e-overflow-hide")||i.classList.remove(I),o=h.tbarEle.indexOf(i),h.tbarAlign){var p=h.items[o].align;o=h.tbarAlgEle[(p+"s").toLowerCase()].indexOf(i),l=h.tbarAlgEle[(p+"s").toLowerCase()],a=h.element.querySelector("."+A+" .e-toolbar-"+p.toLowerCase())}var u=0;"Extended"!==h.overflowMode&&l.slice(0,o).forEach(function(t){(t.classList.contains("e-overflow-show")||t.classList.contains("e-separator"))&&(t.classList.contains("e-separator")&&(t.style.display="",e-=t.offsetWidth),u++)}),d=h.ignoreEleFetch(o,a),i.classList.contains("e-overflow-show")?(h.tbarPriRef(a,o,u,i,s,c,e,d),e-=i.offsetWidth):0===o?(a.insertBefore(i,a.firstChild),e-=i.offsetWidth):(n=t.selectAll(".e-overflow-show",h.popObj.element).length,a.insertBefore(i,a.children[o+d-n]),e-=i.offsetWidth),i.style.height=""}(p[c]);c++);this.checkOverflow(this.element,this.element.getElementsByClassName(A)[0])&&!s&&this.renderOverflowMode()},i.prototype.removePositioning=function(){var e=this.element.querySelector("."+A);if(!t.isNullOrUndefined(e)&&e.classList.contains("e-tbar-pos")){this.remove(e,"e-tbar-pos");var i=[].slice.call(e.childNodes);i[1].removeAttribute("style"),i[2].removeAttribute("style")}},i.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+A);this.add(e,"e-tbar-pos"),this.itemPositioning()},i.prototype.itemPositioning=function(){var e,i=this.element.querySelector("."+A);if(!t.isNullOrUndefined(i)&&i.classList.contains("e-tbar-pos")){var s,n=this.element.querySelector(".e-hor-nav");if(this.scrollModule){var o=this.isVertical?"e-vscroll-content":"e-hscroll-content";s=[].slice.call(i.querySelector("."+o).children)}else s=[].slice.call(i.childNodes);e=this.isVertical?s[0].offsetHeight+s[2].offsetHeight:s[0].offsetWidth+s[2].offsetWidth;var r=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(n){r-=this.isVertical?n.offsetHeight:n.offsetWidth;var l=(this.isVertical?n.offsetHeight:n.offsetWidth)+"px";s[2].removeAttribute("style"),this.isVertical?this.enableRtl?s[2].style.top=l:s[2].style.bottom=l:this.enableRtl?s[2].style.left=l:s[2].style.right=l}if(!(r<=e)){var a=(r-e-(this.isVertical?s[1].offsetHeight:s[1].offsetWidth))/2;s[1].removeAttribute("style");var d=(this.isVertical?s[0].offsetHeight:s[0].offsetWidth)+a+"px";this.isVertical?this.enableRtl?s[1].style.marginBottom=d:s[1].style.marginTop=d:this.enableRtl?s[1].style.marginRight=d:s[1].style.marginLeft=d}}},i.prototype.tbarItemAlign=function(e,t,i){var s=this;if(!e.showAlwaysInPopup||"Show"===e.overflow){var n=[];if(n.push(this.createElement("div",{className:"e-toolbar-left"})),n.push(this.createElement("div",{className:"e-toolbar-center"})),n.push(this.createElement("div",{className:"e-toolbar-right"})),0===i&&"Left"!==e.align)n.forEach(function(e){t.appendChild(e)}),this.tbarAlign=!0,this.add(t,"e-tbar-pos");else if("Left"!==e.align){var o=t.childNodes,r=n[0];[].slice.call(o).forEach(function(e){s.tbarAlgEle.lefts.push(e),r.appendChild(e)}),t.appendChild(r),t.appendChild(n[1]),t.appendChild(n[2]),this.tbarAlign=!0,this.add(t,"e-tbar-pos")}}},i.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,A),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach(function(t){"DIV"===t.tagName&&(e.tbarEle.push(t),t.setAttribute("aria-disabled","false"),e.add(t,S))})},i.prototype.renderItems=function(){var e,t,i,s=this.element,n=this.items;if(s&&s.children.length>0&&(e=s.querySelector("."+A)),null!=this.trgtEle)this.ctrlTemplate();else if(s&&n.length>0){e||(e=this.createElement("div",{className:A}));for(var o=0;o<n.length;o++)t=this.renderSubComponent(n[o],o),-1===this.tbarEle.indexOf(t)&&this.tbarEle.push(t),this.tbarAlign||this.tbarItemAlign(n[o],e,o),(i=e.querySelector(".e-toolbar-"+n[o].align.toLowerCase()))?(n[o].showAlwaysInPopup&&"Show"!==n[o].overflow||this.tbarAlgEle[(n[o].align+"s").toLowerCase()].push(t),i.appendChild(t)):e.appendChild(t);s.appendChild(e)}},i.prototype.setAttr=function(e,t){for(var i,s=Object.keys(e),n=0;n<s.length;n++)"class"===(i=s[n])?this.add(t,e[i]):t.setAttribute(i,e[i])},i.prototype.enableItems=function(e,i){var s=e,n=s.length;t.isNullOrUndefined(i)&&(i=!0);var o=function(e,t){e?(t.classList.remove("e-overlay"),t.setAttribute("aria-disabled","false")):(t.classList.add("e-overlay"),t.setAttribute("aria-disabled","true"))};if(n&&n>1){for(var r=0,l=[].slice.call(s);r<l.length;r++)o(i,l[r]);i?t.removeClass(s,"e-overlay"):t.addClass(s,"e-overlay")}else{o(i,n&&1===n?s[0]:e)}},i.prototype.addItems=function(e,i){var s,n=this.element.querySelector("."+A);if(t.isNullOrUndefined(n))return void this.itemsRerender(e);var o,r="Left";t.isNullOrUndefined(i)&&(i=0),e.forEach(function(e){t.isNullOrUndefined(e.align)||"Left"===e.align||"Left"!==r||(r=e.align)});for(var l=0,a=e;l<a.length;l++){var d=a[l];if(t.isNullOrUndefined(d.type)&&(d.type="Button"),s=t.selectAll("."+S,this.element),d.align=r,o=this.renderSubComponent(d,i),this.tbarEle.length>=i&&s.length>=0){t.isNullOrUndefined(this.scrollModule)&&this.destroyMode();var h="L"===d.align[0]?0:"C"===d.align[0]?1:2,c=void 0;this.tbarAlign||"Left"===r?this.tbarAlign?((c=t.closest(s[0],"."+A).children[h]).insertBefore(o,c.children[i]),this.tbarAlgEle[(d.align+"s").toLowerCase()].splice(i,0,o),this.refreshPositioning()):0===s.length?(s=t.selectAll("."+A,this.element))[0].appendChild(o):s[0].parentNode.insertBefore(o,s[i]):(this.tbarItemAlign(d,n,1),this.tbarAlign=!0,(c=t.closest(s[0],"."+A).children[h]).appendChild(o),this.tbarAlgEle[(d.align+"s").toLowerCase()].push(o),this.refreshPositioning()),this.items.splice(i,0,d),this.tbarEle.splice(i,0,o),i++,this.offsetWid=n.offsetWidth}}n.style.width="",this.renderOverflowMode()},i.prototype.removeItems=function(e){var i,s=e,n=[].slice.call(t.selectAll("."+S,this.element));if("number"==typeof s)i=parseInt(e.toString(),10),this.removeItemByIndex(i,n);else if(s&&s.length>1)for(var o=0,r=[].slice.call(s);o<r.length;o++){l=r[o];i=this.tbarEle.indexOf(l),this.removeItemByIndex(i,n),n=t.selectAll("."+S,this.element)}else{var l=s&&s.length&&1===s.length?s[0]:e;i=n.indexOf(l),this.removeItemByIndex(i,n)}this.resize()},i.prototype.removeItemByIndex=function(e,i){if(this.tbarEle[e]&&i[e]){var s=this.tbarEle.indexOf(i[e]);if(this.tbarAlign){var n=void 0;n=this.tbarAlgEle[(this.items[s].align+"s").toLowerCase()].indexOf(this.tbarEle[s]),this.tbarAlgEle[(this.items[s].align+"s").toLowerCase()].splice(n,1)}t.detach(i[e]),this.items.splice(s,1),this.tbarEle.splice(s,1)}},i.prototype.templateRender=function(e,i,s,n){var o,r=s.type,l=e;if("object"==typeof e&&(o="function"==typeof l.appendTo),"string"!=typeof e&&o){if("Input"===r){var a=this.createElement("input");s.id?a.id=s.id:a.id=t.getUniqueID("tbr-ipt"),i.appendChild(a),l.appendTo(a)}}else{var d=void 0,h=e;h="string"==typeof e?e.trim():e;try{if("object"!=typeof e||t.isNullOrUndefined(e.tagName)){if(document.querySelectorAll(h).length){var c=(a=document.querySelector(h)).outerHTML.trim();i.appendChild(a),a.style.display="",t.isNullOrUndefined(c)||this.tempId.push(h)}}else i.appendChild(e)}catch(e){d=t.compile(h)}var p=void 0;t.isNullOrUndefined(d)||(p=d({},this,"template")),!t.isNullOrUndefined(p)&&p.length>0&&[].slice.call(p).forEach(function(e){t.isNullOrUndefined(e.tagName)||(e.style.display=""),i.appendChild(e)})}this.add(i,"e-template"),this.tbarEle.push(i)},i.prototype.buttonRendering=function(e,i){var s=this.createElement("button",{className:"e-tbar-btn"});s.setAttribute("type","button");var o,r,l=e.text;e.id?s.id=e.id:s.id=t.getUniqueID("e-tbr-btn");var a=this.createElement("div",{className:"e-tbar-btn-text"});l?(a.innerHTML=l,s.appendChild(a),s.classList.add("e-tbtn-txt")):this.add(i,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(o=e.prefixIcon+" e-icons",r="Left"):(o=e.suffixIcon+" e-icons",r="Right"));var d=new n.Button({iconCss:o,iconPosition:r});return d.createElement=this.createElement,d.appendTo(s),e.width&&t.setStyleAttribute(s,{width:t.formatUnit(e.width)}),s},i.prototype.renderSubComponent=function(e,t){var i,s;if((i=this.createElement("div",{className:S})).setAttribute("aria-disabled","false"),this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,i),e.tooltipText){var n=this.createElement("div",{innerHTML:e.tooltipText});i.setAttribute("title",n.textContent)}if(e.cssClass&&(i.className=i.className+" "+e.cssClass),e.template)this.templateRender(e.template,i,e,t);else switch(e.type){case"Button":(s=this.buttonRendering(e,i)).setAttribute("tabindex","-1"),i.appendChild(s),i.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(i,"e-separator")}if(e.showTextOn){var o=e.showTextOn;"Toolbar"===o?(this.add(i,"e-toolbar-text"),this.add(i,"e-tbtn-align")):"Overflow"===o&&this.add(i,"e-popup-text")}if(e.overflow){var r=e.overflow;"Show"===r?this.add(i,"e-overflow-show"):"Hide"===r&&(i.classList.contains("e-separator")||this.add(i,"e-overflow-hide"))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!i.classList.contains("e-separator")&&(this.add(i,"e-popup-alone"),this.popupPriCount++),i},i.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},i.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},i.prototype.activeEleRemove=function(e){t.isNullOrUndefined(this.activeEle)||this.activeEle.setAttribute("tabindex","-1"),this.activeEle=e,t.isNullOrUndefined(this.trgtEle)&&!e.parentElement.classList.contains("e-template")?e.removeAttribute("tabindex"):this.activeEle.setAttribute("tabindex","0")},i.prototype.getPersistData=function(){return this.addOnPersist([])},i.prototype.getModuleName=function(){return"toolbar"},i.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode()},i.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();var i=this.checkOverflow(e,e.getElementsByClassName(A)[0]);if(!i){this.destroyScroll();var s=e.querySelector("."+A);t.isNullOrUndefined(s)||(this.remove(s,"e-multirow-pos"),this.tbarAlign&&this.add(s,"e-tbar-pos"))}if(!i||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||i)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){var n=window.getComputedStyle(this.element);this.popObj.width=parseFloat(n.width)+2*parseFloat(n.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}},i.prototype.onPropertyChanged=function(e,i){for(var s=this.element,n=0,o=Object.keys(e);n<o.length;n++)switch(o[n]){case"items":if(e.items instanceof Array&&i.items instanceof Array)this.itemsRerender(e.items);else for(var r=Object.keys(e.items),l=0;l<r.length;l++){var a=parseInt(Object.keys(e.items)[l],10),d=Object.keys(e.items[a])[0],h=(Object(i.items[a])[d],Object(e.items[a])[d]);if(this.tbarAlign||"align"===d){this.refresh();break}var c="showAlwaysInPopup"===d&&!h,p="overflow"===d&&0!==this.popupPriCount;(c||this.items[a].showAlwaysInPopup&&p)&&--this.popupPriCount,t.isNullOrUndefined(this.scrollModule)&&this.destroyMode();var u=[].slice.call(t.selectAll("."+A+" ."+S,s));t.detach(u[a]),this.tbarEle.splice(a,1),this.addItems([this.items[a]],a),this.items.splice(a,1),this.items[a].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":var f=s.offsetWidth;t.setStyleAttribute(s,{width:t.formatUnit(e.width)}),this.renderOverflowMode(),this.popObj&&f<s.offsetWidth&&this.popupRefresh(this.popObj.element,!1);break;case"height":t.setStyleAttribute(this.element,{height:t.formatUnit(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(s,"e-rtl"),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(s,"e-rtl"):this.remove(s,"e-rtl"),t.isNullOrUndefined(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,"e-rtl"):this.remove(this.scrollModule.element,"e-rtl")),t.isNullOrUndefined(this.popObj)||(e.enableRtl?this.add(this.popObj.element,"e-rtl"):this.remove(this.popObj.element,"e-rtl")),this.tbarAlign&&this.itemPositioning()}},i.prototype.hideItem=function(e,i){if(this.tbarEle[e]){var s=[].slice.call(t.selectAll("."+S,this.element));!0===i?s[e].classList.add("e-hidden"):s[e].classList.remove("e-hidden"),this.refreshOverflow()}},L([t.Collection([],k)],i.prototype,"items",void 0),L([t.Property("auto")],i.prototype,"width",void 0),L([t.Property("auto")],i.prototype,"height",void 0),L([t.Property("Scrollable")],i.prototype,"overflowMode",void 0),L([t.Property(!1)],i.prototype,"enableRtl",void 0),L([t.Event()],i.prototype,"clicked",void 0),L([t.Event()],i.prototype,"created",void 0),L([t.Event()],i.prototype,"destroyed",void 0),L([t.Event()],i.prototype,"beforeCreate",void 0),i=L([t.NotifyPropertyChanges],i)}(t.Component),D=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),U=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},H="e-acrdn-item",M="e-acrdn-header",T="e-acrdn-panel",R=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return D(i,e),U([t.Property("SlideDown")],i.prototype,"effect",void 0),U([t.Property(400)],i.prototype,"duration",void 0),U([t.Property("linear")],i.prototype,"easing",void 0),i}(t.ChildProperty),B=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return D(i,e),U([t.Complex({effect:"SlideUp",duration:400,easing:"linear"},R)],i.prototype,"collapse",void 0),U([t.Complex({effect:"SlideDown",duration:400,easing:"linear"},R)],i.prototype,"expand",void 0),i}(t.ChildProperty),j=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return D(i,e),U([t.Property(void 0)],i.prototype,"content",void 0),U([t.Property(void 0)],i.prototype,"header",void 0),U([t.Property(void 0)],i.prototype,"cssClass",void 0),U([t.Property(void 0)],i.prototype,"iconCss",void 0),U([t.Property(!1)],i.prototype,"expanded",void 0),i}(t.ChildProperty),F=function(e){function i(t,i){var s=e.call(this,t,i)||this;return s.keyConfigs={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",space:"space",home:"home",end:"end"},s}return D(i,e),i.prototype.destroy=function(){var i=this,s=this.element;for(e.prototype.destroy.call(this),this.unwireEvents(),this.isDestroy=!0,this.templateEle.forEach(function(e){t.isNullOrUndefined(i.element.querySelector(e))||(document.body.appendChild(i.element.querySelector(e)).style.display="none")});s.firstChild;)s.removeChild(s.firstChild);if(this.trgtEle)for(;this.ctrlTem.firstChild;)s.appendChild(this.ctrlTem.firstChild);s.classList.remove("e-acrdn-root"),s.removeAttribute("style"),["aria-disabled","aria-multiselectable","role","data-ripple"].forEach(function(e){i.element.removeAttribute(e)})},i.prototype.preRender=function(){var e=t.closest(this.element,"."+T);this.isNested=!1,this.templateEle=[],this.isDestroy||(this.isDestroy=!1),t.isNullOrUndefined(e)?this.element.classList.add("e-acrdn-root"):(e.classList.add("e-nested"),this.isNested=!0),this.enableRtl&&this.add(this.element,"e-rtl"),this.enablePersistence&&!t.isNullOrUndefined(this.expandedItems)||(this.expandedItems=[])},i.prototype.add=function(e,t){e.classList.add(t)},i.prototype.remove=function(e,t){e.classList.remove(t)},i.prototype.render=function(){this.initialize(),this.renderControl(),this.wireEvents()},i.prototype.initialize=function(){var e=t.formatUnit(this.width),i=t.formatUnit(this.height);t.setStyleAttribute(this.element,{width:e,height:i});var s={"aria-disabled":"false",role:"presentation","aria-multiselectable":"true"};this.expandedItems.length>0&&(this.initExpand=this.expandedItems),t.attributes(this.element,s),"Single"===this.expandMode&&this.element.setAttribute("aria-multiselectable","false")},i.prototype.renderControl=function(){this.trgtEle=this.element.children.length>0?t.select("div",this.element):null,this.renderItems(),this.initItemExpand()},i.prototype.unwireEvents=function(){t.EventHandler.remove(this.element,"click",this.clickHandler),t.isNullOrUndefined(this.keyModule)||this.keyModule.destroy()},i.prototype.wireEvents=function(){t.EventHandler.add(this.element,"click",this.clickHandler,this),this.isNested||this.isDestroy||t.rippleEffect(this.element,{selector:"."+M}),this.isNested||(this.keyModule=new t.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}))},i.prototype.focusIn=function(e){e.target.parentElement.classList.add("e-item-focus")},i.prototype.focusOut=function(e){e.target.parentElement.classList.remove("e-item-focus")},i.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.element.cloneNode(!0);var i,s=this.element.children;t.addClass([].slice.call(s),[H]),[].slice.call(s).forEach(function(n){if(n.id=t.getUniqueID("acrdn_item"),n.children.length>0){e.add(n.children[0],M);var o=n.children[0];t.attributes(o,{tabindex:"0",role:"heading","aria-level":s.length.toString()}),o.id=t.getUniqueID("acrdn_header"),t.EventHandler.add(o,"focus",e.focusIn,e),t.EventHandler.add(o,"blur",e.focusOut,e);var r=o.firstElementChild;r&&r.classList.add("e-acrdn-header-content"),(i=n.children[1])&&(i.id=t.getUniqueID("acrdn_panel"),o.setAttribute("aria-controls",i.id),i.style.display="",n.classList.add("e-select"),n.children[0].appendChild(e.toggleIconGenerate()),t.classList(i,[T,"e-content-hide"],[]),t.attributes(i,{"aria-labelledby":o.id,"aria-hidden":"true"}),(i=i.firstElementChild)&&(i.classList.add("e-acrdn-content"),i.style.display=""))}})},i.prototype.toggleIconGenerate=function(){var e=this.createElement("div",{className:"e-toggle-icon"}),t=this.createElement("span",{className:"e-tgl-collapse-icon e-icons"});return e.appendChild(t),e},i.prototype.initItemExpand=function(){var e=this.initExpand.length;if(0!==e)if("Single"===this.expandMode)this.expandItem(!0,this.initExpand[e-1]);else for(var t=0;t<e;t++)this.expandItem(!0,this.initExpand[t])},i.prototype.renderItems=function(){var e,i=this,s=this.element;t.isNullOrUndefined(this.initExpand)&&(this.initExpand=[]);var n=this.items;t.isNullOrUndefined(this.trgtEle)?s&&n.length>0&&n.forEach(function(n,o){e=i.renderInnerItem(n,o),s.appendChild(e),e.childElementCount>0&&(t.EventHandler.add(e.querySelector("."+M),"focus",i.focusIn,i),t.EventHandler.add(e.querySelector("."+M),"blur",i.focusOut,i))}):this.ctrlTemplate()},i.prototype.clickHandler=function(e){var i,s,n=this,o=e.target,r={};if(t.closest(o,".e-accordion")===this.element){o.classList.add("e-target");var l=t.closest(o,"."+H),a=t.closest(o,"."+M),d=t.closest(o,"."+T);l&&(t.isNullOrUndefined(a)||t.isNullOrUndefined(d))&&(a=l.children[0],d=l.children[1]),a&&(s=t.select(".e-toggle-icon",a));var h;d&&(h=t.closest(d,"."+H));var c=[];i=this.getIndexByItem(l),h&&(r.item=this.items[this.getIndexByItem(h)]),r.originalEvent=e,!(!t.isNullOrUndefined(s)&&t.isNullOrUndefined(this.trgtEle)&&l.childElementCount<=1)||!t.isNullOrUndefined(d)&&t.isNullOrUndefined(t.select(".e-acrdn-header .e-toggle-icon",h))||(l.appendChild(this.contentRendering(i)),this.ariaAttrUpdate(l)),this.trigger("clicked",r);var p=d&&!t.isNullOrUndefined(t.select(".e-target",d)),u=d&&!t.isNullOrUndefined(t.select(".e-accordion",d))&&t.isNullOrUndefined(t.closest(o,".e-acrdn-panel .e-accordion")),f=d&&t.isNullOrUndefined(t.select(".e-accordion",d))||!(t.closest(o,".e-accordion")===this.element);if(p=p&&(u||f),o.classList.remove("e-target"),!(o.classList.contains(T)||o.classList.contains("e-acrdn-content")||p)){[].slice.call(this.element.children).forEach(function(e){e.classList.contains("e-active")&&c.push(e)});var m=[].slice.call(this.element.querySelectorAll(".e-acrdn-item [e-animate]"));if(m.length>0)for(var v=0,g=m;v<g.length;v++){var y=g[v];c.push(y.parentElement)}var b=-1!==c.indexOf(h)&&"true"===d.getAttribute("e-animate"),E=!1;if(!t.isNullOrUndefined(l)&&!t.isNullOrUndefined(a)){var C=t.select("."+T,l),N=t.closest(l,".e-acrdn-root").querySelector(".e-expand-state");if(t.isNullOrUndefined(C))return;E=N===l,!t.isVisible(C)||b&&!h.classList.contains("e-selected")?(c.length>0&&"Single"===this.expandMode&&!b&&c.forEach(function(e){n.collapse(t.select("."+T,e)),e.classList.remove("e-expand-state")}),this.expand(C)):this.collapse(C),t.isNullOrUndefined(N)||E||N.classList.remove("e-expand-state")}}}},i.prototype.eleMoveFocus=function(e,i,s){var n,o=t.closest(s,"."+H);s===i?n=("moveUp"===e?s.lastElementChild:s).querySelector("."+M):s.classList.contains(M)&&(o="moveUp"===e?o.previousElementSibling:o.nextElementSibling)&&(n=t.select("."+M,o)),n&&n.focus()},i.prototype.keyActionHandler=function(e){var i=e.target,s=t.closest(e.target,M);if(!t.isNullOrUndefined(s)||i.classList.contains("e-accordion")||i.classList.contains(M)){var n,o=this.element;switch(e.action){case"moveUp":case"moveDown":this.eleMoveFocus(e.action,o,i);break;case"space":case"enter":n=i.nextElementSibling,!t.isNullOrUndefined(n)&&n.classList.contains(T)?"true"!==n.getAttribute("e-animate")&&i.click():i.click();break;case"home":case"end":("home"===e.action?o.firstElementChild.children[0]:o.lastElementChild.children[0]).focus()}}},i.prototype.headerEleGenerate=function(){var e=this.createElement("div",{className:M,id:t.getUniqueID("acrdn_header")}),i={tabindex:"0",role:"heading","aria-expanded":"false","aria-selected":"false","aria-disabled":"false","aria-level":this.items.length.toString()};return t.attributes(e,i),e},i.prototype.renderInnerItem=function(e,i){var s;if(s=this.createElement("div",{className:H}),s.id=t.getUniqueID("acrdn_item"),e.header&&this.angularnativeCondiCheck(e,"header")){var n=this.headerEleGenerate(),o=this.createElement("div",{className:"e-acrdn-header-content"});n.appendChild(o),n.appendChild(this.fetchElement(o,e.header,i,!0)),s.appendChild(n)}var r=t.select("."+M,s);if(!e.expanded||t.isNullOrUndefined(i)||this.enablePersistence||-1===this.initExpand.indexOf(i)&&this.initExpand.push(i),e.cssClass&&s.classList.add(e.cssClass),e.iconCss){var l=this.createElement("div",{className:"e-acrdn-header-icon"}),a=this.createElement("span",{className:e.iconCss+" e-icons"});l.appendChild(a),t.isNullOrUndefined(r)?((r=this.headerEleGenerate()).appendChild(l),s.appendChild(r)):r.insertBefore(l,r.childNodes[0])}if(e.content&&this.angularnativeCondiCheck(e,"content")){var d=this.toggleIconGenerate();t.isNullOrUndefined(r)&&(r=this.headerEleGenerate(),s.appendChild(r)),r.appendChild(d),this.add(s,"e-select")}return s},i.prototype.angularnativeCondiCheck=function(e,i){var s="content"===i?e.content:e.header;if(this.isAngular&&!t.isNullOrUndefined(s.elementRef)){var n=s.elementRef.nativeElement.data;if(t.isNullOrUndefined(n)||""===n||-1===n.indexOf("bindings="))return!0;var o=JSON.parse(s.elementRef.nativeElement.data.replace("bindings=",""));return!(!t.isNullOrUndefined(o)&&"false"===o["ng-reflect-ng-if"])}return!0},i.prototype.fetchElement=function(e,i,s,n){var o,r;try{if(document.querySelectorAll(i).length){var l=document.querySelector(i);r=l.outerHTML.trim(),e.appendChild(l),l.style.display=""}}catch(e){o=t.compile(i)}var a;return t.isNullOrUndefined(o)||(a=o()),t.isNullOrUndefined(a)||!(a.length>0)||t.isNullOrUndefined(a[0].tagName)&&1===a.length?0===e.childElementCount&&(e.innerHTML=i):[].slice.call(a).forEach(function(i){t.isNullOrUndefined(i.tagName)||(i.style.display=""),e.appendChild(i)}),t.isNullOrUndefined(r)||this.templateEle.push(i),e},i.prototype.ariaAttrUpdate=function(e){var i=t.select("."+M,e),s=t.select("."+T,e);i.setAttribute("aria-controls",s.id),s.setAttribute("aria-labelledby",i.id)},i.prototype.contentRendering=function(e){var i=this.items[e].content,s=this.createElement("div",{className:T+" e-content-hide",id:t.getUniqueID("acrdn_panel")});t.attributes(s,{"aria-hidden":"true"});var n=this.createElement("div",{className:"e-acrdn-content"});return s.appendChild(this.fetchElement(n,i,e,!1)),s},i.prototype.expand=function(e){var i,s=t.closest(e,"."+H);if(!(t.isNullOrUndefined(e)||t.isVisible(e)&&"true"!==e.getAttribute("e-animate")||s.classList.contains("e-overlay"))){var n=t.closest(s,".e-acrdn-root").querySelector(".e-expand-state"),o={name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing},r=t.select(".e-toggle-icon",s).firstElementChild;i={element:s,item:this.items[this.getIndexByItem(s)],index:this.getIndexByItem(s),content:s.querySelector("."+T),isExpanded:!0};var l=o.name;if(this.trigger("expanding",i),!i.cancel){if(r.classList.add("e-toggle-animation"),this.expandedItemsPush(s),t.isNullOrUndefined(n)||n.classList.remove("e-expand-state"),s.classList.add("e-expand-state"),"None"===o.name)return this.expandProgress("begin",r,e,s,i),void this.expandProgress("end",r,e,s,i);this.expandAnimation(l,r,e,s,o,i)}}},i.prototype.expandAnimation=function(e,i,s,n,o,r){var l,a,d=this;this.lastActiveItemId=n.id,"SlideDown"===e?(o.begin=function(){d.expandProgress("begin",i,s,n,r),s.style.position="absolute",l=n.offsetHeight,a=s.offsetHeight,s.style.maxHeight=s.offsetHeight+"px",n.style.maxHeight=""},o.progress=function(){n.style.minHeight=l+s.offsetHeight+"px"},o.end=function(){t.setStyleAttribute(s,{position:"",maxHeight:""}),n.style.minHeight="",d.expandProgress("end",i,s,n,r)}):(o.begin=function(){d.expandProgress("begin",i,s,n,r)},o.end=function(){d.expandProgress("end",i,s,n,r)}),new t.Animation(o).animate(s)},i.prototype.expandProgress=function(e,i,s,n,o){this.remove(s,"e-content-hide"),this.add(n,"e-selected"),this.add(i,"e-expand-icon"),"end"===e&&(this.add(n,"e-active"),s.setAttribute("aria-hidden","false"),t.attributes(s.previousElementSibling,{"aria-selected":"true","aria-expanded":"true"}),i.classList.remove("e-toggle-animation"),this.trigger("expanded",o))},i.prototype.expandedItemsPush=function(e){var t=this.getIndexByItem(e);-1===this.expandedItems.indexOf(t)&&this.expandedItems.push(t)},i.prototype.getIndexByItem=function(e){return[].slice.call(this.element.children).indexOf(e)},i.prototype.expandedItemsPop=function(e){var t=this.getIndexByItem(e);this.expandedItems.splice(this.expandedItems.indexOf(t),1)},i.prototype.collapse=function(e){var i,s=t.closest(e,"."+H);if(!t.isNullOrUndefined(e)&&t.isVisible(e)&&!s.classList.contains("e-overlay")){var n={name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing},o=t.select(".e-toggle-icon",s).firstElementChild;i={element:s,item:this.items[this.getIndexByItem(s)],index:this.getIndexByItem(s),content:s.querySelector("."+T),isExpanded:!1};var r=n.name;if(this.trigger("expanding",i),!i.cancel){if(this.expandedItemsPop(s),s.classList.add("e-expand-state"),o.classList.add("e-toggle-animation"),"None"===n.name)return this.collapseProgress("begin",o,e,s,i),void this.collapseProgress("end",o,e,s,i);this.collapseAnimation(r,e,s,o,n,i)}}},i.prototype.collapseAnimation=function(e,i,s,n,o,r){var l,a,d,h,c=this;this.lastActiveItemId=s.id,"SlideUp"===e?(o.begin=function(){d=s.offsetHeight,s.style.minHeight=d+"px",i.style.position="absolute",l=s.offsetHeight,a=i.offsetHeight,i.style.maxHeight=a+"px",c.collapseProgress("begin",n,i,s,r)},o.progress=function(){(h=l-(a-i.offsetHeight))<d&&(s.style.minHeight=h+"px")},o.end=function(){i.style.display="none",c.collapseProgress("end",n,i,s,r),s.style.minHeight="",t.setStyleAttribute(i,{position:"",maxHeight:"",display:""})}):(o.begin=function(){c.collapseProgress("begin",n,i,s,r)},o.end=function(){c.collapseProgress("end",n,i,s,r)}),new t.Animation(o).animate(i)},i.prototype.collapseProgress=function(e,i,s,n,o){this.remove(i,"e-expand-icon"),this.remove(n,"e-selected"),"end"===e&&(this.add(s,"e-content-hide"),i.classList.remove("e-toggle-animation"),this.remove(n,"e-active"),s.setAttribute("aria-hidden","true"),t.attributes(s.previousElementSibling,{"aria-selected":"false","aria-expanded":"false"}),this.trigger("expanded",o))},i.prototype.getModuleName=function(){return"accordion"},i.prototype.itemAttribUpdate=function(){var e=[].slice.call(this.element.children),i=this.items.length;e.forEach(function(e){t.select("."+M,e).setAttribute("aria-level",""+i)})},i.prototype.addItem=function(e,i){var s=this.element;if(t.isNullOrUndefined(i)&&(i=this.items.length),s.childElementCount>=i){this.items.splice(i,0,e);var n=this.renderInnerItem(e,i);s.childElementCount===i?s.appendChild(n):s.insertBefore(n,s.children[i]),t.EventHandler.add(n.querySelector("."+M),"focus",this.focusIn,this),t.EventHandler.add(n.querySelector("."+M),"blur",this.focusOut,this),this.itemAttribUpdate()}this.expandedItems=[],this.expandedItemRefresh(s),e.expanded&&this.expandItem(!0,i)},i.prototype.expandedItemRefresh=function(e){var t=this;[].slice.call(e.children).forEach(function(e){e.classList.contains("e-selected")&&t.expandedItemsPush(e)})},i.prototype.removeItem=function(e){var i=this.element.children[e];t.isNullOrUndefined(i)||(t.detach(i),this.items.splice(e,1),this.itemAttribUpdate(),this.expandedItems=[],this.expandedItemRefresh(this.element))},i.prototype.select=function(e){var i=this.element.children[e];t.isNullOrUndefined(i)||t.isNullOrUndefined(t.select("."+M,i))||i.children[0].focus()},i.prototype.hideItem=function(e,i){var s=this.element.children[e];t.isNullOrUndefined(s)||(t.isNullOrUndefined(i)&&(i=!0),i?this.add(s,"e-hide"):this.remove(s,"e-hide"))},i.prototype.enableItem=function(e,i){var s=this.element.children[e];if(!t.isNullOrUndefined(s)){var n=s.firstElementChild;i?(this.remove(s,"e-overlay"),t.attributes(n,{tabindex:"0","aria-disabled":"false"}),n.focus()):(s.classList.contains("e-active")&&(this.expandItem(!1,e),this.eleMoveFocus("movedown",this.element,n)),this.add(s,"e-overlay"),n.setAttribute("aria-disabled","true"),n.removeAttribute("tabindex"))}},i.prototype.expandItem=function(e,i){var s=this,n=this.element;if(t.isNullOrUndefined(i))if("Single"===this.expandMode&&e){l=n.children[n.childElementCount-1];this.itemExpand(e,l,this.getIndexByItem(l))}else{var o=t.select("#"+this.lastActiveItemId,this.element);[].slice.call(this.element.children).forEach(function(t){s.itemExpand(e,t,s.getIndexByItem(t)),t.classList.remove("e-expand-state")});var r=t.select(".e-expand-state",this.element);r&&r.classList.remove("e-expand-state"),o&&o.classList.add("e-expand-state")}else{var l=this.element.children[i];if(t.isNullOrUndefined(l)||!l.classList.contains("e-select")||l.classList.contains("e-active")&&e)return;"Single"===this.expandMode&&this.expandItem(!1),this.itemExpand(e,l,i)}},i.prototype.itemExpand=function(e,i,s){var n=i.children[1];if(!i.classList.contains("e-overlay")){if(t.isNullOrUndefined(n)&&e)n=this.contentRendering(s),i.appendChild(n),this.ariaAttrUpdate(i);else if(t.isNullOrUndefined(n))return;e?this.expand(n):this.collapse(n)}},i.prototype.destroyItems=function(){[].slice.call(this.element.querySelectorAll("."+H)).forEach(function(e){t.detach(e)})},i.prototype.updateItem=function(e,i){if(!t.isNullOrUndefined(e)){var s=this.items[i];this.items.splice(i,1),t.detach(e),this.addItem(s,i)}},i.prototype.getPersistData=function(){var e=["expandedItems"];return this.addOnPersist(e)},i.prototype.onPropertyChanged=function(e,i){for(var s=this.element,n=0,o=Object.keys(e);n<o.length;n++)switch(o[n]){case"items":if(e.items instanceof Array&&i.items instanceof Array)this.destroyItems(),this.renderItems(),this.initItemExpand();else for(var r=Object.keys(e.items),l=0;l<r.length;l++){var a=parseInt(Object.keys(e.items)[l],10),d=Object.keys(e.items[a])[0],h=t.selectAll("."+H,this.element)[a],c=Object(i.items[a])[d],p=Object(e.items[a])[d],u=d;("header"===u||"iconCss"===u||"expanded"===u||"content"===u&&""===c)&&this.updateItem(h,a),"cssClass"!==d||t.isNullOrUndefined(h)||(h.classList.remove(c),h.classList.add(p)),"content"!==d||t.isNullOrUndefined(h)||2!==h.children.length||(h.classList.contains("e-selected")&&this.expandItem(!1,a),t.detach(h.querySelector("."+T)))}break;case"enableRtl":e.enableRtl?this.add(s,"e-rtl"):this.remove(s,"e-rtl");break;case"height":t.setStyleAttribute(this.element,{height:t.formatUnit(e.height)});break;case"width":t.setStyleAttribute(this.element,{width:t.formatUnit(e.width)});break;case"expandMode":"Single"===e.expandMode?(this.element.setAttribute("aria-multiselectable","false"),this.expandedItems.length>1&&this.expandItem(!1)):this.element.setAttribute("aria-multiselectable","true")}},U([t.Collection([],j)],i.prototype,"items",void 0),U([t.Property("100%")],i.prototype,"width",void 0),U([t.Property("auto")],i.prototype,"height",void 0),U([t.Property("Multiple")],i.prototype,"expandMode",void 0),U([t.Complex({},B)],i.prototype,"animation",void 0),U([t.Event()],i.prototype,"clicked",void 0),U([t.Event()],i.prototype,"expanding",void 0),U([t.Event()],i.prototype,"expanded",void 0),U([t.Event()],i.prototype,"created",void 0),U([t.Event()],i.prototype,"destroyed",void 0),i=U([t.NotifyPropertyChanges],i)}(t.Component),V=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),q=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},_=function(e){function i(t,i){return e.call(this,t,i)||this}return V(i,e),i.prototype.preRender=function(){this.isMenu=!1,e.prototype.preRender.call(this)},i.prototype.initialize=function(){e.prototype.initialize.call(this),t.attributes(this.element,{role:"menu",tabindex:"0"}),this.element.style.zIndex=s.getZindexPartial(this.element).toString()},i.prototype.open=function(t,i,s){e.prototype.openMenu.call(this,null,null,t,i,null,s)},i.prototype.close=function(){e.prototype.closeMenu.call(this)},i.prototype.onPropertyChanged=function(t,i){e.prototype.onPropertyChanged.call(this,t,i);for(var s=0,n=Object.keys(t);s<n.length;s++)switch(n[s]){case"filter":this.close(),this.filter=t.filter;break;case"target":this.unWireEvents(),this.target=t.target,this.wireEvents()}},i.prototype.getModuleName=function(){return"contextmenu"},q([t.Property("")],i.prototype,"target",void 0),q([t.Property("")],i.prototype,"filter",void 0),q([t.Collection([],N)],i.prototype,"items",void 0),i=q([t.NotifyPropertyChanges],i)}(w),W=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),z=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},K="e-vertical",G=function(e){function i(t,i){var s=e.call(this,t,i)||this;return s.tempItems=[],s}return W(i,e),i.prototype.getModuleName=function(){return"menu"},i.prototype.preRender=function(){if(this.isMenu=!0,this.template)try{document.querySelectorAll(this.template).length&&(this.template=document.querySelector(this.template).innerHTML.trim(),this.clearChanges())}catch(e){}else this.tempItems=this.items,this.items=[],this.tempItems.map(this.createMenuItems,this),this.setProperties({items:this.items},!0),this.tempItems=[];e.prototype.preRender.call(this)},i.prototype.initialize=function(){e.prototype.initialize.call(this),t.attributes(this.element,{role:"menubar",tabindex:"0"}),"Vertical"===this.orientation?(this.element.classList.add(K),this.element.setAttribute("aria-orientation","vertical")):t.Browser.isDevice&&!this.enableScrolling&&this.element.parentElement.classList.add("e-scrollable")},i.prototype.onPropertyChanged=function(t,i){e.prototype.onPropertyChanged.call(this,t,i);for(var s=0,n=Object.keys(t);s<n.length;s++)switch(n[s]){case"orientation":"Vertical"===t.orientation?(this.element.classList.add(K),this.element.setAttribute("aria-orientation","vertical")):(this.element.classList.remove(K),this.element.removeAttribute("aria-orientation"))}},i.prototype.createMenuItems=function(e){var t,i,s,n=this.items;if(t=this.getField("parentId"),e[t]){for(i=this.getIndex(e[t].toString(),!0),s=0;s<i.length;s++)n[i[s]].items||(n[i[s]].items=[]),n=n[i[s]].items;n.push(e)}else this.items.push(e)},z([t.Property("Horizontal")],i.prototype,"orientation",void 0),z([t.Property(null)],i.prototype,"template",void 0),z([t.Property(!1)],i.prototype,"enableScrolling",void 0),z([t.Complex({},C)],i.prototype,"fields",void 0),i=z([t.NotifyPropertyChanges],i)}(w),Y=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),X=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},Q="e-tab-header",J="e-toolbar-items",Z="e-toolbar-item",$="e-toolbar-popup",ee=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),X([t.Property("SlideLeftIn")],i.prototype,"effect",void 0),X([t.Property(600)],i.prototype,"duration",void 0),X([t.Property("ease")],i.prototype,"easing",void 0),i}(t.ChildProperty),te=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),X([t.Complex({effect:"SlideLeftIn",duration:600,easing:"ease"},ee)],i.prototype,"previous",void 0),X([t.Complex({effect:"SlideRightIn",duration:600,easing:"ease"},ee)],i.prototype,"next",void 0),i}(t.ChildProperty),ie=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),X([t.Property("")],i.prototype,"text",void 0),X([t.Property("")],i.prototype,"iconCss",void 0),X([t.Property("left")],i.prototype,"iconPosition",void 0),i}(t.ChildProperty),se=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Y(i,e),X([t.Complex({},ie)],i.prototype,"header",void 0),X([t.Property("")],i.prototype,"content",void 0),X([t.Property("")],i.prototype,"cssClass",void 0),X([t.Property(!1)],i.prototype,"disabled",void 0),i}(t.ChildProperty),ne=function(e){function i(i,s){var n=e.call(this,i,s)||this;return n.show={},n.hide={},n.animateOptions={},n.animObj=new t.Animation(n.animateOptions),n.maxHeight=0,n.title="Close",n.lastIndex=0,n.isAdd=!1,n.isIconAlone=!1,n.resizeContext=n.refreshActElePosition.bind(n),n.keyConfigs={tab:"tab",home:"home",end:"end",enter:"enter",space:"space",delete:"delete",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"},n}return Y(i,e),i.prototype.destroy=function(){var i=this;if(t.isNullOrUndefined(this.tbObj)||this.tbObj.destroy(),this.unWireEvents(),["role","aria-disabled","aria-activedescendant","tabindex","aria-orientation"].forEach(function(e){i.element.removeAttribute(e)}),this.expTemplateContent(),this.isTemplate){var s=t.select(".e-tab > .e-content",this.element);this.element.classList.remove("e-template"),t.isNullOrUndefined(s)||(s.innerHTML=this.cnt)}else this.element.innerHTML="";e.prototype.destroy.call(this),this.trigger("destroyed")},i.prototype.preRender=function(){var e=t.closest(this.element,".e-content");this.prevIndex=0,this.isNested=!1,this.isPopup=!1,this.initRender=!0,this.isSwipeed=!1,this.itemIndexArray=[],this.templateEle=[],t.isNullOrUndefined(e)||(e.parentElement.classList.add("e-nested"),this.isNested=!0);var i=t.Browser.info.name,s="msie"===i?"e-ie":"edge"===i?"e-edge":"safari"===i?"e-safari":"";t.setStyleAttribute(this.element,{width:t.formatUnit(this.width),height:t.formatUnit(this.height)}),this.setCssClass(this.element,this.cssClass,!0),t.attributes(this.element,{role:"tablist","aria-disabled":"false","aria-activedescendant":""}),this.setCssClass(this.element,s,!0),this.updatePopAnimationConfig()},i.prototype.render=function(){this.btnCls=this.createElement("span",{className:"e-icons e-close-icon",attrs:{title:this.title}}),this.renderContainer(),this.wireEvents(),this.initRender=!1},i.prototype.renderContainer=function(){var e=this.element;if(this.items.length>0&&0===e.children.length)e.appendChild(this.createElement("div",{className:"e-content"})),this.setOrientation(this.headerPlacement,this.createElement("div",{className:Q})),this.isTemplate=!1;else if(this.element.children.length>0){this.isTemplate=!0,e.classList.add("e-template");var i=e.querySelector(".e-tab-header");i&&"Bottom"===this.headerPlacement&&this.setOrientation(this.headerPlacement,i)}if(!t.isNullOrUndefined(t.select(".e-tab-header",this.element))&&!t.isNullOrUndefined(t.select(".e-content",this.element))){if(this.renderHeader(),this.tbItems=t.select(".e-tab-header ."+J,this.element),t.isNullOrUndefined(this.tbItems)||t.rippleEffect(this.tbItems,{selector:".e-tab-wrap"}),this.renderContent(),t.selectAll("."+Z,this.element).length>0){var s=void 0;this.tbItems=t.select(".e-tab-header ."+J,this.element),this.bdrLine=this.createElement("div",{className:"e-indicator e-hidden e-ignore"}),s=t.select("."+this.scrCntClass,this.tbItems),t.isNullOrUndefined(s)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstChild):s.insertBefore(this.bdrLine,s.firstChild),this.setContentHeight(!0),this.select(this.selectedItem)}this.setRTL(this.enableRtl)}},i.prototype.renderHeader=function(){var e=this,i=this.headerPlacement,s=[];if(this.hdrEle=t.select(".e-tab-header",this.element),this.addVerticalClass(),this.isTemplate){this.element.children.length>1&&this.element.children[1].classList.contains(Q)&&this.setProperties({headerPlacement:"Bottom"},!0);for(var n=this.hdrEle.children.length,o=[],r=0;r<n;r++)o.push(this.hdrEle.children.item(r).innerHTML);n>0&&(this.hdrEle.innerHTML="",this.hdrEle.appendChild(this.createElement("div",{className:"e-items"})),o.forEach(function(i,s){e.lastIndex=s;var n={className:"e-item",id:"e-item_"+s,attrs:{role:"tab","aria-controls":"e-content_"+s,"aria-selected":"false"}},o=e.createElement("span",{className:"e-tab-text",innerHTML:i,attrs:{role:"presentation"}}).outerHTML,r=e.createElement("div",{className:"e-text-wrap",innerHTML:o+e.btnCls.outerHTML}).outerHTML,l=e.createElement("div",{className:"e-tab-wrap",innerHTML:r,attrs:{tabIndex:"-1"}});t.select(".e-items",e.element).appendChild(e.createElement("div",n)),t.selectAll(".e-item",e.element)[s].appendChild(l)}))}else s=this.parseObject(this.items,0);this.tbObj=new P({width:"Left"===i||"Right"===i?"auto":"100%",height:"Left"===i||"Right"===i?"100%":"auto",overflowMode:this.overflowMode,items:0!==s.length?s:[],clicked:this.clickHandler.bind(this)}),this.tbObj.createElement=this.createElement,this.tbObj.appendTo(this.hdrEle),this.updateOrientationAttribute(),this.setCloseButton(this.showCloseButton)},i.prototype.renderContent=function(){this.cntEle=t.select(".e-content",this.element);var e=t.selectAll("."+Z,this.element);if(this.isTemplate){this.cnt=this.cntEle.children.length>0?this.cntEle.innerHTML:"";for(var i=this.cntEle.children,s=0;s<e.length;s++)i.length-1>=s&&(i.item(s).className+="e-item",t.attributes(i.item(s),{role:"tabpanel","aria-labelledby":"e-item_"+s}),i.item(s).id="e-content_"+s)}},i.prototype.reRenderItems=function(){this.renderContainer(),t.isNullOrUndefined(this.cntEle)||(this.touchModule=new t.Touch(this.cntEle,{swipe:this.swipeHandler.bind(this)}))},i.prototype.parseObject=function(e,i){var s,n=this,o=t.selectAll("."+Z,this.element).length,r=[],l=[];return e.forEach(function(e,a){var d=t.isNullOrUndefined(e.header.iconPosition)?"":e.header.iconPosition,h=t.isNullOrUndefined(e.header.iconCss)?"":e.header.iconCss;if(t.isNullOrUndefined(e.header)||t.isNullOrUndefined(e.header.text)||0===e.header.text.length&&""===h)return void l.push(a);var c=e.header.text;n.lastIndex=0===o?a:n.isReplace?i+a:n.lastIndex+1;var p=e.disabled?" e-disable e-overlay":"";s=n.createElement("div",{className:"e-tab-text",attrs:{role:"presentation"}});var u=c instanceof Object?c.outerHTML:c,f=!t.isNullOrUndefined(u)&&""!==u;t.isNullOrUndefined(c.tagName)?n.headerTextCompile(s,c):s.appendChild(c);var m=n.createElement("span",{className:"e-icons e-tab-icon e-icon-"+d+" "+h}),v=n.createElement("div",{className:"e-text-wrap"});v.appendChild(s),""!==c&&void 0!==c&&""!==h?("left"===d||"top"===d?v.insertBefore(m,v.firstElementChild):v.appendChild(m),s,n.isIconAlone=!1):(""===h?s:m)===m&&(t.detach(s),v.appendChild(m),n.isIconAlone=!0);var g=e.disabled?{}:{tabIndex:"-1"};v.appendChild(n.btnCls.cloneNode(!0));var y=n.createElement("div",{className:"e-tab-wrap",attrs:g});y.appendChild(v),n.itemIndexArray===[]?n.itemIndexArray.push("e-item_"+n.lastIndex):n.itemIndexArray.splice(i+a,0,"e-item_"+n.lastIndex);var b={htmlAttributes:{id:"e-item_"+n.lastIndex,role:"tab","aria-selected":"false"},template:y};b.cssClass=e.cssClass+" "+p+" "+(""!==h?"e-i"+d:"")+" "+(f?"":"e-icon"),"top"!==d&&"bottom"!==d||n.element.classList.add("e-vertical-icon"),r.push(b),a++}),this.isAdd||l.forEach(function(e){n.items.splice(e,1)}),this.isIconAlone?this.element.classList.add("e-icon-tab"):this.element.classList.remove("e-icon-tab"),r},i.prototype.removeActiveClass=function(e){var i=t.selectAll(":root .e-tab-header .e-toolbar-item.e-active",this.element)[0];"Bottom"===this.headerPlacement&&(i=t.selectAll(":root .e-tab-header .e-toolbar-item.e-active",this.element.children[1])[0]),t.isNullOrUndefined(i)||i.classList.remove("e-active")},i.prototype.checkPopupOverflow=function(e){this.tbPop=t.select(".e-toolbar-pop",this.element);var i=t.select(".e-hor-nav",this.element),s=t.select("."+J,this.element),n=s.lastChild,o=!1;return!this.isVertical()&&(this.enableRtl&&i.offsetLeft+i.offsetWidth>s.offsetLeft||!this.enableRtl&&i.offsetLeft<s.offsetWidth)?o=!0:this.isVertical()&&i.offsetTop<n.offsetTop+n.offsetHeight&&(o=!0),o&&(e.classList.add($),this.tbPop.insertBefore(e.cloneNode(!0),t.selectAll("."+$,this.tbPop)[0]),e.outerHTML=""),!0},i.prototype.popupHandler=function(e){var i=e.querySelector(".e-ripple-element");t.isNullOrUndefined(i)||(i.outerHTML="",e.querySelector(".e-tab-wrap").classList.remove("e-ripple")),this.tbItem=t.selectAll(".e-toolbar-items ."+Z,this.hdrEle);var s=this.tbItem[this.tbItem.length-1];if(0!==this.tbItem.length){if(e.classList.remove($),e.removeAttribute("style"),this.tbItems.appendChild(e.cloneNode(!0)),this.actEleId=e.id,e.outerHTML="",this.checkPopupOverflow(s)){var n=this.tbItems.lastChild.previousElementSibling;this.checkPopupOverflow(n)}this.isPopup=!0}return t.selectAll("."+Z,this.tbItems).length-1},i.prototype.updateOrientationAttribute=function(){t.attributes(this.element,{"aria-orientation":this.isVertical()?"vertical":"horizontal"})},i.prototype.setCloseButton=function(e){var i=t.select(".e-tab-header",this.element);!0===e?i.classList.add("e-close-show"):i.classList.remove("e-close-show"),this.tbObj.refreshOverflow(),this.refreshActElePosition()},i.prototype.prevCtnAnimation=function(e,t){this.enableRtl||this.element.classList.contains("e-rtl");return this.isPopup||e<=t?"SlideLeftIn"===this.animation.previous.effect?{name:"SlideLeftOut",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}:null:"SlideRightIn"===this.animation.next.effect?{name:"SlideRightOut",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}:null},i.prototype.triggerPrevAnimation=function(e,i){var s=this,n=this.prevCtnAnimation(i,this.selectedItem);t.isNullOrUndefined(n)?e.classList.remove("e-active"):(n.begin=function(){t.setStyleAttribute(e,{position:"absolute"}),e.classList.add("e-progress"),e.classList.add("e-view")},n.end=function(){e.style.display="none",e.classList.remove("e-active"),e.classList.remove("e-progress"),e.classList.remove("e-view"),t.setStyleAttribute(e,{display:"",position:""}),0!==e.childNodes.length||s.isTemplate||t.detach(e)},new t.Animation(n).animate(e))},i.prototype.triggerAnimation=function(e,i){var s,n=this,o=this.prevIndex;[].slice.call(this.element.querySelector(".e-content").children).forEach(function(e){e.id===n.prevActiveEle&&(s=e)});var r=this.tbItem[o],l=this.extIndex(this.tbItem[this.selectedItem].id),a=this.getTrgContent(this.cntEle,l);if(t.isNullOrUndefined(s)&&!t.isNullOrUndefined(r)){var d=this.extIndex(r.id);s=this.getTrgContent(this.cntEle,d)}if(this.prevActiveEle=a.id,this.initRender||!1===i||this.animation==={}||t.isNullOrUndefined(this.animation))return void(s&&s!==a&&s.classList.remove("e-active"));var h,c=t.select(".e-content",this.element);if(this.prevIndex>this.selectedItem&&!this.isPopup){var p=this.animation.previous.effect;h={name:"None"===p?"":"SlideLeftIn"!==p?p:"SlideLeftIn",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}}else if(this.isPopup||this.prevIndex<this.selectedItem||this.prevIndex===this.selectedItem){var u=this.animation.next.effect;h={name:"None"===u?"":"SlideRightIn"!==u?u:"SlideRightIn",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}}h.progress=function(){c.classList.add("e-progress"),n.setActiveBorder()},h.end=function(){c.classList.remove("e-progress"),a.classList.add("e-active")},this.initRender||t.isNullOrUndefined(s)||this.triggerPrevAnimation(s,o),this.isPopup=!1,""===h.name?a.classList.add("e-active"):new t.Animation(h).animate(a)},i.prototype.keyPressed=function(e){var i=t.closest(e,".e-tab-header ."+Z),s=this.getEleIndex(i);!t.isNullOrUndefined(this.popEle)&&e.classList.contains("e-hor-nav")?this.popEle.classList.contains("e-popup-open")?this.popObj.hide(this.hide):this.popObj.show(this.show):e.classList.contains("e-scroll-nav")?e.click():t.isNullOrUndefined(i)||!1!==i.classList.contains("e-active")||(this.select(s),t.isNullOrUndefined(this.popEle)||this.popObj.hide(this.hide))},i.prototype.getEleIndex=function(e){return Array.prototype.indexOf.call(t.selectAll(".e-tab-header ."+Z,this.element),e)},i.prototype.extIndex=function(e){return e.replace("e-item_","")},i.prototype.expTemplateContent=function(){var e=this;this.templateEle.forEach(function(i){t.isNullOrUndefined(e.element.querySelector(i))||(document.body.appendChild(e.element.querySelector(i)).style.display="none")})},i.prototype.templateCompile=function(e,t){var i=this.createElement("div");this.compileElement(i,t,"content"),0!==i.childNodes.length&&e.appendChild(i)},i.prototype.compileElement=function(e,i,s){"string"==typeof i&&(i=i.trim());var n,o=t.compile(i);t.isNullOrUndefined(o)||(n=o({},this,s)),!t.isNullOrUndefined(o)&&n.length>0&&[].slice.call(n).forEach(function(t){e.appendChild(t)})},i.prototype.headerTextCompile=function(e,t){this.compileElement(e,t,"headerText")},i.prototype.getContent=function(e,i,s){var n;if("string"==typeof i||t.isNullOrUndefined(i.innerHTML))if("."===i[0]||"#"===i[0])if(document.querySelectorAll(i).length){var o=document.querySelector(i);n=o.outerHTML.trim(),"clone"===s?e.appendChild(o.cloneNode(!0)):(e.appendChild(o),o.style.display="")}else this.templateCompile(e,i);else this.templateCompile(e,i);else e.appendChild(i);t.isNullOrUndefined(n)||-1===this.templateEle.indexOf(i.toString())&&this.templateEle.push(i.toString())},i.prototype.getTrgContent=function(e,i){return this.element.classList.contains("e-nested")?t.select(".e-nested> .e-content > #e-content_"+i,this.element):this.findEle(e.children,"e-content_"+i)},i.prototype.findEle=function(e,t){for(var i,s=0;s<e.length;s++)if(e[s].id===t){i=e[s];break}return i},i.prototype.isVertical=function(){var e="Left"===this.headerPlacement||"Right"===this.headerPlacement;return this.scrCntClass=e?"e-vscroll-content":"e-hscroll-content",e},i.prototype.addVerticalClass=function(){if(this.isVertical()){var e="Left"===this.headerPlacement?"e-vertical-left":"e-vertical-right";t.addClass([this.hdrEle],["e-vertical",e]),this.element.classList.add("e-vertical-tab")}},i.prototype.updatePopAnimationConfig=function(){this.show={name:this.isVertical()?"FadeIn":"SlideDown",duration:100},this.hide={name:this.isVertical()?"FadeOut":"SlideUp",duration:100}},i.prototype.changeOrientation=function(e){this.setOrientation(e,this.hdrEle);var i=!!this.hdrEle.classList.contains("e-vertical");t.removeClass([this.element],["e-vertical-tab"]),t.removeClass([this.hdrEle],["e-vertical","e-vertical-left","e-vertical-right"]),i!==this.isVertical()&&(this.tbObj.setProperties({height:this.isVertical()?"100%":"auto",width:this.isVertical()?"auto":"100%"},!0),this.tbObj.changeOrientation(),this.updatePopAnimationConfig()),this.addVerticalClass(),this.updateOrientationAttribute(),this.select(this.selectedItem)},i.prototype.setOrientation=function(e,i){"Bottom"===e&&1!==Array.prototype.indexOf.call(this.element.children,i)?this.element.appendChild(i):this.element.insertBefore(i,t.select(".e-content",this.element))},i.prototype.setCssClass=function(e,t,i){if(""!==t)for(var s=t.split(" "),n=0;n<s.length;n++)i?e.classList.add(s[n]):e.classList.remove(s[n])},i.prototype.setContentHeight=function(e){if(!t.isNullOrUndefined(this.cntEle)){var i=t.select(".e-tab-header",this.element);if("None"===this.heightAdjustMode){if("auto"===this.height)return;this.isVertical()||t.setStyleAttribute(this.cntEle,{height:this.element.offsetHeight-i.offsetHeight+"px"})}else if("Fill"===this.heightAdjustMode)t.setStyleAttribute(this.element,{height:"100%"}),t.setStyleAttribute(this.cntEle,{height:"auto"});else if("Auto"===this.heightAdjustMode){var s=t.selectAll(".e-content > .e-item",this.element);if(!0===this.isTemplate)for(o=0;o<s.length;o++)s[o].setAttribute("style","display:block; visibility: visible"),this.maxHeight=Math.max(this.maxHeight,this.getHeight(s[o])),s[o].style.removeProperty("display"),s[o].style.removeProperty("visibility");else{this.cntEle=t.select(".e-content",this.element),!0===e&&this.cntEle.appendChild(this.createElement("div",{id:"e-content_0",className:"e-item e-active",attrs:{role:"tabpanel","aria-labelledby":"e-item_0"}}));for(var n=this.cntEle.children.item(0),o=0;o<this.items.length;o++)for(this.getContent(n,this.items[o].content,"clone"),this.maxHeight=Math.max(this.maxHeight,this.getHeight(n));n.firstChild;)n.removeChild(n.firstChild);this.templateEle=[],this.getContent(n,this.items[0].content,"render"),n.classList.remove("e-active")}t.setStyleAttribute(this.cntEle,{height:this.maxHeight+"px"})}else t.setStyleAttribute(this.cntEle,{height:"auto"})}},i.prototype.getHeight=function(e){var t=window.getComputedStyle(e);return e.offsetHeight+parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))},i.prototype.setActiveBorder=function(){var e,i,s,n;if("Bottom"===this.headerPlacement?(n=this.element.children[1],e=t.select(".e-toolbar-item.e-active",this.element.children[1])):(n=this.element.children[0],e=t.select(".e-toolbar-item.e-active",this.element)),null!==e){var o=t.closest(e,".e-tab");if(this.element===o){if(this.tbItems=t.select("."+J,n),i=t.select(".e-indicator",n),s=t.select(".e-toolbar-items ."+this.scrCntClass,n),this.isVertical())t.setStyleAttribute(i,{left:"",right:""}),0!==(t.isNullOrUndefined(s)?this.tbItems.offsetHeight:s.offsetHeight)?t.setStyleAttribute(i,{top:e.offsetTop+"px",height:e.offsetHeight+"px"}):t.setStyleAttribute(i,{top:0,height:0});else{t.setStyleAttribute(i,{top:"",height:""});var r=t.isNullOrUndefined(s)?this.tbItems.offsetWidth:s.offsetWidth;0!==r?t.setStyleAttribute(i,{left:e.offsetLeft+"px",right:r-(e.offsetLeft+e.offsetWidth)+"px"}):t.setStyleAttribute(i,{left:"auto",right:"auto"})}t.isNullOrUndefined(this.bdrLine)||this.bdrLine.classList.remove("e-hidden")}}},i.prototype.setActive=function(e){this.tbItem=t.selectAll(".e-tab-header ."+Z,this.element);var i=this.tbItem[e];if(e>=0&&this.setProperties({selectedItem:e},!0),!(e<0||isNaN(e)||0===this.tbItem.length)){if(i.classList.contains("e-active"))return void this.setActiveBorder();if(!this.isTemplate){var s=this.tbItem[this.prevIndex];t.isNullOrUndefined(s)||s.removeAttribute("aria-controls"),t.attributes(i,{"aria-controls":"e-content_"+e})}var n=i.id;this.removeActiveClass(n),i.classList.add("e-active"),i.setAttribute("aria-selected","true");var o=Number(this.extIndex(n));if(t.isNullOrUndefined(this.prevActiveEle)&&(this.prevActiveEle="e-content_"+o),t.attributes(this.element,{"aria-activedescendant":n}),this.isTemplate){if(t.select(".e-content",this.element).children.length>0){var r=this.findEle(t.select(".e-content",this.element).children,"e-content_"+o);t.isNullOrUndefined(r)||r.classList.add("e-active"),this.triggerAnimation(n,this.enableAnimation)}}else{this.cntEle=t.select(".e-tab > .e-content",this.element);var l=this.getTrgContent(this.cntEle,this.extIndex(n));if(t.isNullOrUndefined(l)){this.cntEle.appendChild(this.createElement("div",{id:"e-content_"+this.extIndex(n),className:"e-item e-active",attrs:{role:"tabpanel","aria-labelledby":"e-item_"+this.extIndex(n)}}));var a=this.getTrgContent(this.cntEle,this.extIndex(n)),d=Array.prototype.indexOf.call(this.itemIndexArray,i.id);this.getContent(a,this.items[d].content,"render")}else l.classList.add("e-active");this.triggerAnimation(n,this.enableAnimation)}this.setActiveBorder();var h=t.select(".e-tab-header #"+n,this.element);this.refreshItemVisibility(h),h.firstChild.focus();var c={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:i,selectedIndex:e,selectedContent:t.select("#e-content_"+this.selectedID,this.content),isSwiped:this.isSwipeed};this.initRender&&0===this.selectedItem||this.trigger("selected",c)}},i.prototype.setItems=function(e){this.isReplace=!0,this.tbItems=t.select(".e-tab-header ."+J,this.element),this.tbObj.items=this.parseObject(e,0),this.tbObj.dataBind(),this.isReplace=!1},i.prototype.setRTL=function(e){this.tbObj.enableRtl=e,this.tbObj.dataBind(),this.setCssClass(this.element,"e-rtl",e),this.refreshActiveBorder()},i.prototype.refreshActiveBorder=function(){t.isNullOrUndefined(this.bdrLine)||this.bdrLine.classList.add("e-hidden"),this.setActiveBorder()},i.prototype.showPopup=function(e){var i=t.select(".e-popup.e-toolbar-pop",this.hdrEle);if(i.classList.contains("e-popup-close")){var s=i&&i.ej2_instances[0];s.position.X="Left"===this.headerPlacement?"left":"right",s.dataBind(),s.show(e)}},i.prototype.wireEvents=function(){window.addEventListener("resize",this.resizeContext),t.EventHandler.add(this.element,"mouseover",this.hoverHandler,this),t.EventHandler.add(this.element,"keydown",this.spaceKeyDown,this),t.isNullOrUndefined(this.cntEle)||(this.touchModule=new t.Touch(this.cntEle,{swipe:this.swipeHandler.bind(this)})),this.keyModule=new t.KeyboardEvents(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs}),this.tabKeyModule=new t.KeyboardEvents(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:{openPopup:"shift+f10",tab:"tab",shiftTab:"shift+tab"},eventName:"keydown"})},i.prototype.unWireEvents=function(){this.keyModule.destroy(),this.tabKeyModule.destroy(),t.isNullOrUndefined(this.cntEle)||this.touchModule.destroy(),window.removeEventListener("resize",this.resizeContext),t.EventHandler.remove(this.element,"mouseover",this.hoverHandler),t.EventHandler.remove(this.element,"keydown",this.spaceKeyDown),this.element.classList.remove("e-rtl"),this.element.classList.remove("e-focused")},i.prototype.clickHandler=function(e){this.element.classList.remove("e-focused");var i=e.originalEvent.target,s=t.closest(i,"."+Z),n=this.getEleIndex(s);i.classList.contains("e-close-icon")?this.removeTab(n):this.isVertical()&&t.closest(i,".e-hor-nav")?this.showPopup(this.show):(this.isPopup=!1,t.isNullOrUndefined(s)||n===this.selectedItem||this.select(n))},i.prototype.swipeHandler=function(e){if(!(e.velocity<3&&t.isNullOrUndefined(e.originalEvent.changedTouches))){if(this.isSwipeed=!0,"Right"===e.swipeDirection&&0!==this.selectedItem){for(var i=this.selectedItem-1;i>=0;i--)if(!this.tbItem[i].classList.contains("e-hidden")){this.select(i);break}}else if("Left"===e.swipeDirection&&this.selectedItem!==t.selectAll("."+Z,this.element).length-1)for(var s=this.selectedItem+1;s<this.tbItem.length;s++)if(!this.tbItem[s].classList.contains("e-hidden")){this.select(s);break}this.isSwipeed=!1}},i.prototype.spaceKeyDown=function(e){if(32===e.keyCode&&32===e.which||35===e.keyCode&&35===e.which){var i=t.closest(e.target,".e-tab-header");t.isNullOrUndefined(i)||e.preventDefault()}},i.prototype.keyHandler=function(e){if(!this.element.classList.contains("e-disable")){this.element.classList.add("e-focused");var i=e.target,s=t.select(".e-tab-header .e-active",this.element);t.selectAll(".e-toolbar-item:not(.e-toolbar-popup)",this.element);switch(this.popEle=t.select(".e-tab-header .e-toolbar-pop",this.element),t.isNullOrUndefined(this.popEle)||(this.popObj=this.popEle.ej2_instances[0]),e.action){case"space":case"enter":if(i.parentElement.classList.contains("e-disable"))return;if("enter"===e.action&&i.classList.contains("e-hor-nav")){this.showPopup(this.show);break}this.keyPressed(i);break;case"tab":case"shiftTab":i.classList.contains("e-tab-wrap")&&!1===t.closest(i,"."+Z).classList.contains("e-active")&&i.setAttribute("tabindex","-1"),this.popObj&&t.isVisible(this.popObj.element)&&this.popObj.hide(this.hide),s.children.item(0).setAttribute("tabindex","0");break;case"moveLeft":case"moveRight":var n=t.closest(document.activeElement,"."+Z);t.isNullOrUndefined(n)||this.refreshItemVisibility(n);break;case"openPopup":e.preventDefault(),!t.isNullOrUndefined(this.popEle)&&this.popEle.classList.contains("e-popup-close")&&this.popObj.show(this.show);break;case"delete":var o=t.closest(i,"."+Z);if(!0===this.showCloseButton&&!t.isNullOrUndefined(o)){var r=o.nextSibling;!t.isNullOrUndefined(r)&&r.classList.contains(Z)&&r.firstChild.focus(),this.removeTab(this.getEleIndex(o))}this.setActiveBorder()}}},i.prototype.refreshActElePosition=function(){var e=t.select(".e-toolbar-item.e-toolbar-popup.e-active",this.element);t.isNullOrUndefined(e)||this.select(this.getEleIndex(e)),this.refreshActiveBorder()},i.prototype.refreshItemVisibility=function(e){var i=t.select("."+this.scrCntClass,this.tbItems);if(!this.isVertical()&&!t.isNullOrUndefined(i)){var s=t.select(".e-hscroll-bar",this.tbItems),n=s.scrollLeft,o=n+s.offsetWidth,r=e.offsetLeft,l=e.offsetWidth,a=e.offsetLeft+e.offsetWidth;if(n<r&&o<a){d=o-r;s.scrollLeft=n+(l-d)}else if(n>r&&o>a){var d=a-n;s.scrollLeft=n-(l-d)}}},i.prototype.hoverHandler=function(e){var i=e.target;!t.isNullOrUndefined(i.classList)&&i.classList.contains("e-close-icon")&&i.setAttribute("title",new t.L10n("tab",{closeButtonTitle:this.title},this.locale).getConstant("closeButtonTitle"))},i.prototype.evalOnPropertyChangeItems=function(e,i){if(e.items instanceof Array&&i.items instanceof Array)this.lastIndex=0,t.isNullOrUndefined(this.tbObj)?this.reRenderItems():(this.setItems(e.items),this.templateEle.length>0&&this.expTemplateContent(),this.templateEle=[],t.select(".e-tab > .e-content",this.element).innerHTML="",this.select(this.selectedItem));else for(var s=Object.keys(e.items),n=0;n<s.length;n++){var o=parseInt(Object.keys(e.items)[n],10),r=Object.keys(e.items[o])[0],l=Object(i.items[o])[r],a=Object(e.items[o])[r],d=t.select(".e-toolbar-items #e-item_"+o,this.element),h=t.select(".e-content #e-content_"+o,this.element);if("header"===r){var c=this.items[o].header.iconCss;if(""===this.items[o].header.text&&""===c)this.removeTab(o);else{var p=[];p.push(this.items[o]),this.items.splice(o,1),this.itemIndexArray.splice(o,1),this.tbObj.items.splice(o,1);var u=d.classList.contains("e-hidden");t.detach(d),this.isReplace=!0,this.addTab(p,o),u&&this.hideTab(o),this.isReplace=!1}}if("content"===r&&!t.isNullOrUndefined(h))if(("string"==typeof a||t.isNullOrUndefined(a.innerHTML))&&("."===a[0]||"#"===a[0])&&a.length){var f=document.querySelector(a);h.appendChild(f),f.style.display=""}else""===a&&"#"===l[0]?(document.body.appendChild(this.element.querySelector(l)).style.display="none",h.innerHTML=a):h.innerHTML=a;"cssClass"===r&&(t.isNullOrUndefined(d)||(d.classList.remove(l),d.classList.add(a)),t.isNullOrUndefined(h)||(h.classList.remove(l),h.classList.add(a))),"disabled"===r&&this.enableTab(o,!0!==a)}},i.prototype.enableTab=function(e,i){var s=t.selectAll("."+Z,this.element)[e];t.isNullOrUndefined(s)||(!0===i?(s.classList.remove("e-disable","e-overlay"),s.firstChild.setAttribute("tabindex","-1")):(s.classList.add("e-disable","e-overlay"),s.firstChild.removeAttribute("tabindex"),s.classList.contains("e-active")&&this.select(e+1)),t.isNullOrUndefined(this.items[e])||(this.items[e].disabled=!i,this.dataBind()),s.setAttribute("aria-disabled",!0===i?"false":"true"))},i.prototype.addTab=function(e,i){var s=this,n=0;if(this.isReplace||this.trigger("adding",{addedItems:e}),this.hdrEle=t.select(".e-tab-header",this.element),t.isNullOrUndefined(this.hdrEle))return this.items=e,void this.reRenderItems();var o=t.selectAll("."+Z,this.element).length;if(0!==o&&(n=this.lastIndex+1),t.isNullOrUndefined(i)&&(i=o-1),!(o<i||i<0||isNaN(i))){0!==o||t.isNullOrUndefined(this.hdrEle)||(this.hdrEle.style.display=""),t.isNullOrUndefined(this.bdrLine)||this.bdrLine.classList.add("e-hidden"),this.tbItems=t.select(".e-tab-header ."+J,this.element),this.isAdd=!0;var r=this.parseObject(e,i);this.isAdd=!1;var l,a=0;e.forEach(function(e,o){if(l=e.header.text,t.isNullOrUndefined(e.header)||t.isNullOrUndefined(l)||0===l.length&&t.isNullOrUndefined(e.header.iconCss)||(s.items.splice(i+a,0,e),a++),s.isTemplate&&!t.isNullOrUndefined(e.header)&&!t.isNullOrUndefined(e.header.text)){var r=n+o,d=s.createElement("div",{id:"e-content_"+r,className:"e-item",attrs:{role:"tabpanel","aria-labelledby":"e-item_"+r}});s.cntEle.insertBefore(d,s.cntEle.children[i+o]);var h=s.getTrgContent(s.cntEle,r.toString());s.getContent(h,e.content,"render")}}),this.tbObj.addItems(r,i),this.isReplace||this.trigger("added",{addedItems:e}),this.selectedItem===i?this.select(i):this.setActiveBorder()}},i.prototype.removeTab=function(e){var i=t.selectAll("."+Z,this.element)[e],s={removedItem:i,removedIndex:e};if(this.trigger("removing",s),!t.isNullOrUndefined(i)){this.tbObj.removeItems(e),this.items.splice(e,1),this.itemIndexArray.splice(e,1),this.refreshActiveBorder();var n=t.select("#e-content_"+this.extIndex(i.id),t.select(".e-content",this.element));t.isNullOrUndefined(n)||t.detach(n),this.trigger("removed",s),i.classList.contains("e-active")&&(e=e>t.selectAll(".e-toolbar-item:not(.e-toolbar-popup)",this.element).length-1?e-1:e,this.enableAnimation=!1,this.selectedItem=e,this.select(e)),0===t.selectAll("."+Z,this.element).length&&(this.hdrEle.style.display="none"),this.enableAnimation=!0}},i.prototype.hideTab=function(e,i){var s,n=t.selectAll("."+Z,this.element)[e];if(!t.isNullOrUndefined(n)){if(t.isNullOrUndefined(i)&&(i=!0),this.bdrLine.classList.add("e-hidden"),!0===i)if(n.classList.add("e-hidden"),0!==(s=t.selectAll(".e-toolbar-item:not(.e-hidden)",this.tbItems)).length&&n.classList.contains("e-active")){if(0!==e)for(var o=e-1;o>=0;o--){if(!this.tbItem[o].classList.contains("e-hidden")){this.select(o);break}if(0===o)for(r=e+1;r<this.tbItem.length;r++)if(!this.tbItem[r].classList.contains("e-hidden")){this.select(r);break}}else for(var r=e+1;r<this.tbItem.length;r++)if(!this.tbItem[r].classList.contains("e-hidden")){this.select(r);break}}else 0===s.length&&this.element.classList.add("e-hidden");else this.element.classList.remove("e-hidden"),0===(s=t.selectAll(".e-toolbar-item:not(.e-hidden)",this.tbItems)).length&&this.select(e),n.classList.remove("e-hidden");this.setActiveBorder(),n.setAttribute("aria-hidden",""+i)}},i.prototype.select=function(e){this.tbItems=t.select(".e-tab-header ."+J,this.element),this.tbItem=t.selectAll(".e-tab-header ."+Z,this.element),this.content=t.select(".e-content",this.element),this.prevItem=this.tbItem[this.prevIndex],t.isNullOrUndefined(this.selectedItem)||this.selectedItem<0||this.tbItem.length<=this.selectedItem||isNaN(this.selectedItem)?this.selectedItem=0:this.selectedID=this.extIndex(this.tbItem[this.selectedItem].id);var i=this.tbItem[e];t.isNullOrUndefined(i)?this.selectedID="0":this.selectingID=this.extIndex(i.id),t.isNullOrUndefined(this.prevItem)||this.prevItem.classList.contains("e-disable")||this.prevItem.children.item(0).setAttribute("tabindex","-1");var s={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:this.tbItem[this.selectedItem],selectedIndex:this.selectedItem,selectedContent:t.isNullOrUndefined(this.content)?null:t.select("#e-content_"+this.selectedID,this.content),selectingItem:i,selectingIndex:e,selectingContent:t.isNullOrUndefined(this.content)?null:t.select("#e-content_"+this.selectingID,this.content),isSwiped:this.isSwipeed};if(this.initRender&&0===this.selectedItem||this.trigger("selecting",s),!s.cancel)if("number"==typeof e){if(!t.isNullOrUndefined(this.tbItem[e])&&this.tbItem[e].classList.contains("e-disable"))for(var n=e+1;n<this.items.length;n++){if(!1===this.items[n].disabled){e=n;break}e=0}this.tbItem.length>e&&e>=0&&!isNaN(e)?(this.prevIndex=this.selectedItem,this.tbItem[e].classList.contains($)?this.setActive(this.popupHandler(this.tbItem[e])):this.setActive(e)):this.setActive(0)}else e instanceof HTMLElement&&this.setActive(this.getEleIndex(e))},i.prototype.disable=function(e){this.setCssClass(this.element,"e-disable",e),this.element.setAttribute("aria-disabled",""+e)},i.prototype.getPersistData=function(){return this.addOnPersist(["selectedItem","actEleId"])},i.prototype.getModuleName=function(){return"tab"},i.prototype.onPropertyChanged=function(e,i){for(var s=0,n=Object.keys(e);s<n.length;s++)switch(n[s]){case"width":t.setStyleAttribute(this.element,{width:t.formatUnit(e.width)});break;case"height":t.setStyleAttribute(this.element,{height:t.formatUnit(e.height)}),this.setContentHeight(!1);break;case"cssClass":this.setCssClass(this.element,e.cssClass,!0);break;case"items":this.evalOnPropertyChangeItems(e,i);break;case"showCloseButton":this.setCloseButton(e.showCloseButton);break;case"selectedItem":this.selectedItem=i.selectedItem,this.select(e.selectedItem);break;case"headerPlacement":this.changeOrientation(e.headerPlacement);break;case"enableRtl":this.setRTL(e.enableRtl);break;case"overflowMode":this.tbObj.overflowMode=e.overflowMode,this.tbObj.dataBind(),this.refreshActElePosition();break;case"heightAdjustMode":this.setContentHeight(!1),this.select(this.selectedItem)}},X([t.Collection([],se)],i.prototype,"items",void 0),X([t.Property("100%")],i.prototype,"width",void 0),X([t.Property("auto")],i.prototype,"height",void 0),X([t.Property("")],i.prototype,"cssClass",void 0),X([t.Property(0)],i.prototype,"selectedItem",void 0),X([t.Property("Top")],i.prototype,"headerPlacement",void 0),X([t.Property("Content")],i.prototype,"heightAdjustMode",void 0),X([t.Property("Scrollable")],i.prototype,"overflowMode",void 0),X([t.Property(!1)],i.prototype,"enableRtl",void 0),X([t.Property(!1)],i.prototype,"enablePersistence",void 0),X([t.Property(!1)],i.prototype,"showCloseButton",void 0),X([t.Complex({},te)],i.prototype,"animation",void 0),X([t.Event()],i.prototype,"created",void 0),X([t.Event()],i.prototype,"adding",void 0),X([t.Event()],i.prototype,"added",void 0),X([t.Event()],i.prototype,"selecting",void 0),X([t.Event()],i.prototype,"selected",void 0),X([t.Event()],i.prototype,"removing",void 0),X([t.Event()],i.prototype,"removed",void 0),X([t.Event()],i.prototype,"destroyed",void 0),i=X([t.NotifyPropertyChanges],i)}(t.Component),oe=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),re=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},le="e-treeview",ae="e-icon-collapsible",de="e-icon-expandable",he="e-list-item",ce="e-list-text",pe="e-list-parent",ue="e-hover",fe="e-active",me="e-icons-spinner",ve="e-process",ge="e-icons",ye="e-text-content",be="e-sibling",Ee="e-drop-next",Ce="e-check",Ne="e-checkbox-wrapper",xe="e-node-focus",we={treeRole:"tree",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""},Oe=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return oe(i,e),re([t.Property("child")],i.prototype,"child",void 0),re([t.Property([])],i.prototype,"dataSource",void 0),re([t.Property("expanded")],i.prototype,"expanded",void 0),re([t.Property("hasChildren")],i.prototype,"hasChildren",void 0),re([t.Property("htmlAttributes")],i.prototype,"htmlAttributes",void 0),re([t.Property("iconCss")],i.prototype,"iconCss",void 0),re([t.Property("id")],i.prototype,"id",void 0),re([t.Property("imageUrl")],i.prototype,"imageUrl",void 0),re([t.Property("isChecked")],i.prototype,"isChecked",void 0),re([t.Property("parentID")],i.prototype,"parentID",void 0),re([t.Property(null)],i.prototype,"query",void 0),re([t.Property("selected")],i.prototype,"selected",void 0),re([t.Property(null)],i.prototype,"tableName",void 0),re([t.Property("text")],i.prototype,"text",void 0),re([t.Property("tooltip")],i.prototype,"tooltip",void 0),re([t.Property("navigateUrl")],i.prototype,"navigateUrl",void 0),i}(t.ChildProperty),Le=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return oe(i,e),re([t.Property("SlideDown")],i.prototype,"effect",void 0),re([t.Property(400)],i.prototype,"duration",void 0),re([t.Property("linear")],i.prototype,"easing",void 0),i}(t.ChildProperty),Ae=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return oe(i,e),re([t.Complex({effect:"SlideUp",duration:400,easing:"linear"},Le)],i.prototype,"collapse",void 0),re([t.Complex({effect:"SlideDown",duration:400,easing:"linear"},Le)],i.prototype,"expand",void 0),i}(t.ChildProperty),Se=function(e){function l(t,i){var s=e.call(this,t,i)||this;return s.preventExpand=!1,s.checkedElement=[],s.disableNode=[],s.mouseDownStatus=!1,s}oe(l,e),a=l,l.prototype.getModuleName=function(){return"treeview"},l.prototype.preRender=function(){var e=this;this.checkActionNodes=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:de,ariaAttributes:we,expandIconPosition:"Left",itemCreated:function(t){e.beforeNodeCreate(t)}},this.updateListProp(this.fields),this.aniObj=new t.Animation({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.index=0,this.setTouchClass(),t.isNullOrUndefined(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),t.isNullOrUndefined(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),t.isNullOrUndefined(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0},l.prototype.getPersistData=function(){var e=["selectedNodes","checkedNodes","expandedNodes"];return this.addOnPersist(e)},l.prototype.render=function(){this.initialRender=!0,this.initialize(),this.setDataBinding(),this.setExpandOnType(),this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.wireEvents(),this.initialRender=!1},l.prototype.initialize=function(){this.element.setAttribute("role","tree"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)},l.prototype.setEnableRtl=function(){this.enableRtl?t.addClass([this.element],"e-rtl"):t.removeClass([this.element],"e-rtl")},l.prototype.setRipple=function(){var e={selector:".e-fullrow,.e-text-content",ignore:"."+ye+" > ."+ge+",.e-input-group,.e-input, ."+Ne};this.rippleFn=t.rippleEffect(this.element,e);var i={selector:"."+ye+" > ."+ge,isCenterRipple:!0};this.rippleIconFn=t.rippleEffect(this.element,i)},l.prototype.setFullRow=function(e){e?t.addClass([this.element],"e-fullrow-wrap"):t.removeClass([this.element],"e-fullrow-wrap")},l.prototype.setMultiSelect=function(e){var i=t.select("."+pe,this.element);e?i.setAttribute("aria-multiselectable","true"):i.removeAttribute("aria-multiselectable")},l.prototype.templateComplier=function(e){if(e)try{if(document.querySelectorAll(e).length)return t.compile(document.querySelector(e).innerHTML.trim())}catch(i){return t.compile(e)}},l.prototype.setDataBinding=function(){var e=this;this.treeList.push("false"),this.fields.dataSource instanceof o.DataManager?this.fields.dataSource.ready?this.fields.dataSource.ready.then(function(t){e.fields.dataSource instanceof o.DataManager&&e.fields.dataSource.dataSource.offline&&(e.treeList.pop(),e.treeData=t.result,e.isNumberTypeId=e.getType(),e.setRootData(),e.renderItems(!0),0!==e.treeList.length||e.isLoaded||e.finalize())}):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function(t){e.treeList.pop(),e.treeData=t.result,e.isNumberTypeId=e.getType(),e.setRootData(),e.renderItems(!0),0!==e.treeList.length||e.isLoaded||e.finalize()}):(this.treeList.pop(),t.isNullOrUndefined(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),0!==this.treeList.length||this.isLoaded||this.finalize()},l.prototype.getQuery=function(e,s){void 0===s&&(s=null);var n,r=[];if(e.query)n=e.query.clone();else{n=new o.Query;for(var l=this.getActualProperties(e),a=0,d=Object.keys(l);a<d.length;a++){var h=d[a];"dataSource"!==h&&"tableName"!==h&&"child"!==h&&e[h]&&-1===r.indexOf(e[h])&&r.push(e[h])}n.select(r),l.hasOwnProperty("tableName")&&n.from(e.tableName)}return i.ListBase.addSorting(this.sortOrder,e.text,n),t.isNullOrUndefined(s)||t.isNullOrUndefined(e.parentID)||n.where(e.parentID,"equal",this.isNumberTypeId?parseFloat(s):s),n},l.prototype.getType=function(){return!!this.treeData[0]&&"number"==typeof t.getValue(this.fields.id,this.treeData[0])},l.prototype.setRootData=function(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);var e=this.getChildNodes(this.treeData,void 0,!0);t.isNullOrUndefined(e)?this.rootData=[]:this.rootData=e}else this.rootData=this.treeData},l.prototype.renderItems=function(e){if(this.listBaseOption.ariaAttributes.level=1,this.ulElement=i.ListBase.createList(this.createElement,e?this.rootData:this.getSortedData(this.rootData),this.listBaseOption),this.element.appendChild(this.ulElement),!1===this.loadOnDemand)for(var t=this.ulElement.querySelectorAll(".e-list-item"),s=0;s<t.length;)this.renderChildNodes(t[s],!0,null,!0),s++;else this.finalizeNode(this.element)},l.prototype.beforeNodeCreate=function(e){if(this.showCheckBox){var i=n.createCheckBox(this.createElement,!0,{cssClass:this.touchClass}),s=t.select("div."+ge,e.item),o=e.item.getAttribute("data-uid");e.item.childNodes[0].insertBefore(i,e.item.childNodes[0].childNodes[t.isNullOrUndefined(s)?0:1]);var r=t.getValue(e.fields.isChecked,e.curData);this.checkedNodes.indexOf(o)>-1?(t.select(".e-frame",i).classList.add(Ce),i.setAttribute("aria-checked","true"),this.addCheck(e.item)):t.isNullOrUndefined(r)||"true"!==r.toString()?i.setAttribute("aria-checked","false"):(t.select(".e-frame",i).classList.add(Ce),i.setAttribute("aria-checked","true"),this.addCheck(e.item));var l=t.select(".e-frame",i);t.EventHandler.add(l,"mousedown",this.frameMouseHandler,this),t.EventHandler.add(l,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(e.item),this.allowMultiSelection&&!e.item.classList.contains("e-selected")&&e.item.setAttribute("aria-selected","false");var a=e.fields;if(this.addActionClass(e,a.selected,"e-selected"),this.addActionClass(e,a.expanded,"e-expanded"),!t.isNullOrUndefined(this.nodeTemplateFn)){var d=e.item.querySelector("."+ce);d.innerHTML="",t.append(this.nodeTemplateFn(e.curData),d)}var h={node:e.item,nodeData:e.curData,text:e.text};this.trigger("drawNode",h)},l.prototype.frameMouseHandler=function(e){var i=t.select(".e-ripple-container",e.target.parentElement);n.rippleMouseHandler(e,i)},l.prototype.addActionClass=function(e,i,s){var n=e.curData,o=t.getValue(i,n);t.isNullOrUndefined(o)||"false"===o.toString()||e.item.classList.add(s)},l.prototype.getDataType=function(e,i){if(this.fields.dataSource instanceof o.DataManager){for(s=0;s<e.length;s++)if("string"==typeof i.child&&t.isNullOrUndefined(t.getValue(i.child,e[s])))return 1;return 2}for(var s=0,n=e.length;s<n;s++){if("string"==typeof i.child&&!t.isNullOrUndefined(t.getValue(i.child,e[s])))return 2;if(!t.isNullOrUndefined(t.getValue(i.parentID,e[s]))||!t.isNullOrUndefined(t.getValue(i.hasChildren,e[s])))return 1}return 1},l.prototype.getGroupedData=function(e,t){for(var s=(new o.Query).group(t),n=i.ListBase.getDataSource(e,s),r=[],l=0;l<n.length;l++){var a=n[l].items;r.push(a)}return r},l.prototype.getSortedData=function(e){return e&&"None"!==this.sortOrder&&(e=i.ListBase.getDataSource(e,i.ListBase.addSorting(this.sortOrder,this.fields.text))),e},l.prototype.finalizeNode=function(e){for(var i=t.selectAll(".e-list-img",e),s=0;s<i.length;s++)i[s].setAttribute("alt","e-list-img");if(this.isLoaded){for(var n=t.selectAll(".e-selected",e),o=0;o<n.length;o++){this.selectNode(n[o],null);break}t.removeClass(n,"e-selected")}for(var r=t.selectAll(".e-list-item:not(.e-expanded)",e),l=0;l<r.length;l++){var a=t.select("div."+ge,r[l]);a&&a.classList.contains(de)&&this.disableExpandAttr(r[l])}var d=t.selectAll(".e-expanded",e);if(!this.isInitalExpand)for(o=0;o<d.length;o++)this.renderChildNodes(d[o]);t.removeClass(d,"e-expanded"),this.updateList(),this.isLoaded&&this.updateCheckedProp()},l.prototype.updateCheckedProp=function(){var e=this;if(this.showCheckBox){var i=[].concat([],this.checkedNodes);this.checkedNodes.forEach(function(s,n){var o=e.element.querySelector('[data-uid="'+s+'"]');t.isNullOrUndefined(o)&&(i=i.filter(function(e){return e!==s}))}),this.setProperties({checkedNodes:i},!0)}},l.prototype.ensureIndeterminate=function(){if(this.autoCheck)for(var e=t.selectAll("li",this.element),i=0;i<e.length;i++)e[i].classList.contains(he)&&(t.select("."+pe,e[i])?this.ensureParentCheckState(e[i]):this.ensureChildCheckState(e[i]));else for(var s=t.selectAll(".e-stop",this.element),i=0;i<s.length;i++)s[i].classList.remove("e-stop")},l.prototype.ensureParentCheckState=function(e){if(!t.isNullOrUndefined(e)){if(e.classList.contains(le))return;var i=e;e.classList.contains(he)&&(i=t.select("."+pe,e));var s=t.selectAll("."+Ce,i),n=t.selectAll("."+he,i),o=e.getElementsByClassName(Ne)[0];n.length===s.length?this.changeState(o,"check",null,!0,!0):s.length>0?this.changeState(o,"indeterminate",null,!0,!0):0===s.length&&this.changeState(o,"uncheck",null,!0,!0);var r=t.closest(e,"."+pe);if(!t.isNullOrUndefined(r)){var l=t.closest(r,"."+he);this.ensureParentCheckState(l)}}},l.prototype.ensureChildCheckState=function(e,i){if(!t.isNullOrUndefined(e)){var s=t.select("."+pe,e),n=void 0;if(!t.isNullOrUndefined(s)){n=t.selectAll("."+Ne,s);for(var o=e.getElementsByClassName("e-frame")[0].classList.contains(Ce),r=void 0,l=0;l<n.length;l++){if(t.isNullOrUndefined(this.currentLoadData)||t.isNullOrUndefined(t.getValue(this.fields.isChecked,this.currentLoadData[l]))){var a=n[l].getElementsByClassName("e-frame")[0].classList.contains(Ce);r=!this.isLoaded&&a?"check":o?"check":"uncheck"}else r=t.getValue(this.fields.isChecked,this.currentLoadData[l])?"check":"uncheck",-1!==this.ele&&(r=o?"check":"uncheck");this.changeState(n[l],r,i,!0,!0)}}}},l.prototype.doCheckBoxAction=function(e,i){if(t.isNullOrUndefined(e))for(var s=t.selectAll("."+Ne,this.element),n=0;n<s.length;n++)this.changeState(s[n],i?"check":"uncheck");else for(var o=0,r=e.length;o<r;o++){var l=this.getElement(e[o]);if(!t.isNullOrUndefined(l)){var a=t.select(".e-list-parent ."+Ne,l);this.validateCheckNode(a,!i,l,null)}}},l.prototype.changeState=function(e,i,s,n,o){var r,l,a=t.closest(e,"."+he);if(n||(this.checkActionNodes=[],l=this.getCheckEvent(a,i,s),this.trigger("nodeChecking",l),!l.cancel)){var d=e.getElementsByClassName("e-frame")[0];if("check"!==i||d.classList.contains(Ce)?"uncheck"===i&&(d.classList.contains(Ce)||d.classList.contains("e-stop"))?(t.removeClass([d],[Ce,"e-stop"]),this.removeCheck(a),r="false"):"indeterminate"===i&&!d.classList.contains("e-stop")&&this.autoCheck&&(d.classList.remove(Ce),d.classList.add("e-stop"),this.removeCheck(a),r="mixed"):(d.classList.remove("e-stop"),d.classList.add(Ce),this.addCheck(a),r="true"),r="check"===i?"true":"uncheck"===i?"false":r,t.isNullOrUndefined(r)||e.setAttribute("aria-checked",r),o){var h=[].concat([],this.checkActionNodes);l=this.getCheckEvent(a,i,s),t.isUndefined(n)&&(l.data=h)}n||t.isNullOrUndefined(r)||(e.setAttribute("aria-checked",r),l.data[0].checked=r,this.trigger("nodeChecked",l),this.checkActionNodes=[])}},l.prototype.addCheck=function(e){var i=e.getAttribute("data-uid");t.isNullOrUndefined(i)||-1!==this.checkedNodes.indexOf(i)||this.checkedNodes.push(i)},l.prototype.removeCheck=function(e){var t=this.checkedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.checkedNodes.splice(t,1)},l.prototype.getCheckEvent=function(e,i,s){this.checkActionNodes.push(this.getNodeData(e));var n=this.checkActionNodes;return{action:i,cancel:!1,isInteracted:!t.isNullOrUndefined(s),node:e,data:n}},l.prototype.finalize=function(){t.select("."+pe,this.element).setAttribute("role",we.treeRole),this.setMultiSelect(this.allowMultiSelection);var e=t.select("."+he,this.element);e&&(t.addClass([e],xe),this.updateIdAttr(null,e)),this.hasPid=!!this.rootData[0]&&this.rootData[0].hasOwnProperty(this.fields.parentID),this.doExpandAction()},l.prototype.doExpandAction=function(){var e=this.expandedNodes;if(this.isInitalExpand&&e.length>0)if(this.setProperties({expandedNodes:[]},!0),this.fields.dataSource instanceof o.DataManager)this.expandGivenNodes(e);else{for(var i=0;i<e.length;i++){var s=t.select('[data-uid="'+e[i]+'"]',this.element);if(!t.isNullOrUndefined(s)){var n=t.select("."+de,t.select("."+ye,s));t.isNullOrUndefined(n)||this.expandAction(s,n,null)}}this.afterFinalized()}else this.afterFinalized()},l.prototype.expandGivenNodes=function(e){var t=this;this.expandCallback(e[this.index],function(){++t.index<e.length?t.expandGivenNodes(e):t.afterFinalized()})},l.prototype.expandCallback=function(e,i){var s=t.select('[data-uid="'+e+'"]',this.element);if(t.isNullOrUndefined(s))i();else{var n=t.select("."+de,t.select("."+ye,s));t.isNullOrUndefined(n)?i():this.expandAction(s,n,null,!1,i)}},l.prototype.afterFinalized=function(){this.doSelectionAction(),this.updateCheckedProp(),this.isLoaded=!0,this.isAnimate=!0,this.isInitalExpand=!1;var e={data:this.treeData};this.trigger("dataBound",e)},l.prototype.doSelectionAction=function(){var e=t.selectAll(".e-selected",this.element),i=this.selectedNodes;if(i.length>0){this.setProperties({selectedNodes:[]},!0);for(var s=0;s<i.length;s++){var n=t.select('[data-uid="'+i[s]+'"]',this.element);if(this.selectNode(n,null,!0),!this.allowMultiSelection)break}}else this.selectGivenNodes(e);t.removeClass(e,"e-selected")},l.prototype.selectGivenNodes=function(e){for(var t=0;t<e.length&&(e[t].classList.contains("e-disable")||this.selectNode(e[t],null,!0),this.allowMultiSelection);t++);},l.prototype.clickHandler=function(e){var i=e.originalEvent.target;if(t.EventHandler.remove(this.element,"contextmenu",this.preventContextMenu),i&&!this.dragStartAction){var s=i.classList,n=t.closest(i,"."+he);if(n){if(this.removeHover(),this.setFocusElement(n),this.showCheckBox&&!n.classList.contains("e-disable")){var o=t.closest(i,"."+Ne);if(!t.isNullOrUndefined(o)){var r=t.select(".e-frame",o);return this.validateCheckNode(o,r.classList.contains(Ce),n,e.originalEvent),void this.triggerClickEvent(e.originalEvent,n)}}s.contains(de)?this.expandAction(n,i,e):s.contains(ae)?this.collapseNode(n,i,e):s.contains(pe)||s.contains(he)||this.toggleSelect(n,e.originalEvent,!1),this.triggerClickEvent(e.originalEvent,n)}}},l.prototype.nodeCheckingEvent=function(e,i,s){var n=t.closest(e,"."+he);this.checkActionNodes=[];var o=i?"false":"true";t.isNullOrUndefined(o)||e.setAttribute("aria-checked",o);var r=this.getCheckEvent(n,i?"uncheck":"check",s);return this.trigger("nodeChecking",r),r},l.prototype.nodeCheckedEvent=function(e,i,s){t.closest(e,"."+he);var n=this.getCheckEvent(e,i?"uncheck":"check",s);n.data=n.data.splice(0,n.data.length-1),this.trigger("nodeChecked",n)},l.prototype.triggerClickEvent=function(e,t){var i={event:e,node:t};this.trigger("nodeClicked",i)},l.prototype.expandNode=function(e,i,s){var n=this;if(i.classList.contains(me)&&this.hideSpinner(i),this.initialRender||i.classList.add("interaction"),!0!==s||!0===s&&e.classList.contains("e-expanded")){if(!0!==this.preventExpand){t.removeClass([i],de),t.addClass([i],ae);var r=0,l=0,a=this,d=t.select("."+pe,e),h=e;this.setHeight(h,d),this.isAnimate?this.aniObj.animate(d,{name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:function(i){h.style.overflow="hidden",r=h.offsetHeight,l=t.select("."+ye,e).offsetHeight},progress:function(e){e.element.style.display="block",a.animateHeight(e,r,l)},end:function(e){e.element.style.display="block",n.expandedNode(h,d,i)}}):this.expandedNode(h,d,i)}}else t.select("."+pe,e).style.display="none",this.fields.dataSource instanceof o.DataManager==!0&&(this.preventExpand=!1);this.initialRender&&i.classList.add("interaction")},l.prototype.expandedNode=function(e,i,s){i.style.display="block",e.style.display="block",e.style.overflow="",e.style.height="",t.removeClass([s],ve),this.addExpand(e),this.isLoaded&&this.expandArgs&&(this.expandArgs=this.getExpandEvent(e,null),this.trigger("nodeExpanded",this.expandArgs))},l.prototype.addExpand=function(e){e.setAttribute("aria-expanded","true"),t.removeClass([e],"e-node-collapsed");var i=e.getAttribute("data-uid");t.isNullOrUndefined(i)||-1!==this.expandedNodes.indexOf(i)||this.expandedNodes.push(i)},l.prototype.collapseNode=function(e,i,s){var n=this;if(!i.classList.contains(ve)){t.addClass([i],ve);var o;if(this.isLoaded&&(o=this.getExpandEvent(e,s),this.trigger("nodeCollapsing",o),o.cancel))return void t.removeClass([i],ve);t.removeClass([i],ae),t.addClass([i],de);var r=0,l=0,a=this,d=t.select("."+pe,e),h=e;this.isAnimate?this.aniObj.animate(d,{name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:function(i){h.style.overflow="hidden",r=t.select("."+ye,e).offsetHeight,l=h.offsetHeight},progress:function(e){a.animateHeight(e,r,l)},end:function(e){e.element.style.display="none",n.collapsedNode(h,d,i,o)}}):this.collapsedNode(h,d,i,o)}},l.prototype.collapsedNode=function(e,i,s,n){i.style.display="none",e.style.overflow="",e.style.height="",t.removeClass([s],ve),this.removeExpand(e),this.isLoaded&&this.trigger("nodeCollapsed",n)},l.prototype.removeExpand=function(e,t){t?e.removeAttribute("aria-expanded"):this.disableExpandAttr(e);var i=this.expandedNodes.indexOf(e.getAttribute("data-uid"));i>-1&&this.expandedNodes.splice(i,1)},l.prototype.disableExpandAttr=function(e){e.setAttribute("aria-expanded","false"),t.addClass([e],"e-node-collapsed")},l.prototype.setHeight=function(e,t){t.style.display="block",t.style.visibility="hidden",e.style.height=e.offsetHeight+"px",t.style.display="none",t.style.visibility=""},l.prototype.animateHeight=function(e,t,i){var s=(i-t)*((e.duration-e.timeStamp)/e.duration)+t;e.element.parentElement.style.height=s+"px"},l.prototype.renderChildNodes=function(e,s,n,r){var l=this,a=t.select("div."+ge,e);if(!t.isNullOrUndefined(a)){this.showSpinner(a);var d;if(this.fields.dataSource instanceof o.DataManager){var h=this.parents(e,"."+pe).length,c=this.getChildFields(this.fields,h,1);if(t.isNullOrUndefined(c)||t.isNullOrUndefined(c.dataSource))return t.detach(a),void this.removeExpand(e,!0);this.treeList.push("false"),this.fields.dataSource instanceof o.DataManager&&this.fields.dataSource.dataSource.offline?(this.treeList.pop(),d=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.loadChild(d,c,a,e,s,n,r)):c.dataSource.executeQuery(this.getQuery(c,e.getAttribute("data-uid"))).then(function(t){l.treeList.pop(),d=t.result,l.loadChild(d,c,a,e,s,n,r)})}else{if(d=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.currentLoadData=d,t.isNullOrUndefined(d)||0===d.length)return t.detach(a),void this.removeExpand(e,!0);this.listBaseOption.ariaAttributes.level=parseFloat(e.getAttribute("aria-level"))+1,e.appendChild(i.ListBase.createList(this.createElement,this.getSortedData(d),this.listBaseOption)),this.expandNode(e,a,r),this.ensureCheckNode(e),this.finalizeNode(e),this.disableTreeNodes(d),this.renderSubChild(e,s,r)}}},l.prototype.loadChild=function(e,s,n,r,l,a,d){if(this.currentLoadData=e,t.isNullOrUndefined(e)||0===e.length)t.detach(n),this.removeExpand(r,!0);else{if(this.updateListProp(s),this.fields.dataSource instanceof o.DataManager&&!this.fields.dataSource.dataSource.offline){var h=r.getAttribute("data-uid"),c=this.getNodeObject(h);t.setValue("child",e,c)}this.listBaseOption.ariaAttributes.level=parseFloat(r.getAttribute("aria-level"))+1,r.appendChild(i.ListBase.createList(this.createElement,e,this.listBaseOption)),this.expandNode(r,n,d),this.ensureCheckNode(r),this.finalizeNode(r),this.disableTreeNodes(e),this.renderSubChild(r,l,d)}a&&a(),0!==this.treeList.length||this.isLoaded||this.finalize()},l.prototype.disableTreeNodes=function(e){for(var t=0;t<e.length;){var i=e[t][this.fields.id].toString();void 0!==this.disableNode&&-1!==this.disableNode.indexOf(i)&&this.doDisableAction([i]),t++}},l.prototype.ensureCheckNode=function(e){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(e.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(e),this.ensureParentCheckState(e))),this.currentLoadData=null},l.prototype.getFields=function(e,t,i){return t===i?e:this.getFields(this.getChildMapper(e),t,i+1)},l.prototype.getChildFields=function(e,t,i){return t===i?this.getChildMapper(e):this.getChildFields(this.getChildMapper(e),t,i+1)},l.prototype.getChildMapper=function(e){return"string"==typeof e.child||t.isNullOrUndefined(e.child)?e:e.child},l.prototype.getChildNodes=function(e,i,s){void 0===s&&(s=!1);var n;if(t.isNullOrUndefined(e))return n;if(1===this.dataType)return this.getChildGroup(this.groupedData,i,s);if("string"==typeof this.fields.child)for(var o=0,r=e.length;o<r;o++){var l=t.getValue(this.fields.id,e[o]);if(l&&l.toString()===i)return t.getValue(this.fields.child,e[o]);if(!t.isNullOrUndefined(t.getValue(this.fields.child,e[o]))&&void 0!==(n=this.getChildNodes(t.getValue(this.fields.child,e[o]),i)))break}return n},l.prototype.getChildGroup=function(e,i,s){if(!t.isNullOrUndefined(e))for(var n=0,o=e.length;n<o;n++){if(t.isNullOrUndefined(e[n][0])||t.isNullOrUndefined(t.getValue(this.fields.parentID,e[n][0])))return s?e[n]:[];if(t.getValue(this.fields.parentID,e[n][0]).toString()===i)return e[n]}},l.prototype.renderSubChild=function(e,i,s){if(i)for(var n=t.selectAll("."+de,e),o=0,r=n.length;o<r;o++){var l=n[o];if(e.querySelector(".e-icons")!==n[o]){var a=t.closest(l,"."+he);this.expandArgs=this.getExpandEvent(a,null),!0!==s&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(a,i,null,s)}}},l.prototype.toggleSelect=function(e,t,i){e.classList.contains("e-disable")||(this.allowMultiSelection&&(t&&t.ctrlKey||i)&&this.isActive(e)?this.unselectNode(e,t):this.selectNode(e,t,i))},l.prototype.isActive=function(e){return!!e.classList.contains(fe)},l.prototype.selectNode=function(e,i,s){if(t.isNullOrUndefined(e)||!this.allowMultiSelection&&this.isActive(e)&&!t.isNullOrUndefined(i))return void this.setFocusElement(e);var n;if(!this.isLoaded||(n=this.getSelectEvent(e,"select",i),this.trigger("nodeSelecting",n),!n.cancel)){if(this.allowMultiSelection&&(s||i&&(!i||i.ctrlKey))||this.removeSelectAll(),this.allowMultiSelection&&i&&i.shiftKey){this.startNode||(this.startNode=e);var o=this.liList.indexOf(this.startNode),r=this.liList.indexOf(e);if(o>r){var l=o;o=r,r=l}for(var a=o;a<=r;a++){var d=this.liList[a];t.isVisible(d)&&!d.classList.contains("e-disable")&&this.addSelect(d)}}else this.startNode=e,this.addSelect(e);this.setFocusElement(e),this.isLoaded&&(n.nodeData=this.getNodeData(e),this.trigger("nodeSelected",n))}},l.prototype.unselectNode=function(e,t){var i;this.isLoaded&&(i=this.getSelectEvent(e,"un-select",t),this.trigger("nodeSelecting",i),i.cancel)||(this.removeSelect(e),this.setFocusElement(e),this.isLoaded&&(i.nodeData=this.getNodeData(e),this.trigger("nodeSelected",i)))},l.prototype.setFocusElement=function(e){if(!t.isNullOrUndefined(e)){var i=this.getFocusedNode();i&&t.removeClass([i],xe),t.addClass([e],xe),this.updateIdAttr(i,e)}},l.prototype.addSelect=function(e){e.setAttribute("aria-selected","true"),t.addClass([e],fe);var i=e.getAttribute("data-uid");t.isNullOrUndefined(i)||-1!==this.selectedNodes.indexOf(i)||this.selectedNodes.push(i)},l.prototype.removeSelect=function(e){this.allowMultiSelection?e.setAttribute("aria-selected","false"):e.removeAttribute("aria-selected"),t.removeClass([e],fe);var i=this.selectedNodes.indexOf(e.getAttribute("data-uid"));i>-1&&this.selectedNodes.splice(i,1)},l.prototype.removeSelectAll=function(){for(var e=this.element.querySelectorAll("."+fe),i=0,s=e;i<s.length;i++){var n=s[i];this.allowMultiSelection?n.setAttribute("aria-selected","false"):n.removeAttribute("aria-selected")}t.removeClass(e,fe),this.setProperties({selectedNodes:[]},!0)},l.prototype.getSelectEvent=function(e,i,s){var n=this.getNodeData(e);return{action:i,cancel:!1,isInteracted:!t.isNullOrUndefined(s),node:e,nodeData:n}},l.prototype.setExpandOnType=function(){this.expandOnType="Auto"===this.expandOn?t.Browser.isDevice?"Click":"DblClick":this.expandOn},l.prototype.expandHandler=function(e){var i=e.originalEvent.target;!i||i.classList.contains("e-input")||i.classList.contains(le)||i.classList.contains(pe)||i.classList.contains(he)||i.classList.contains(ge)||this.showCheckBox&&t.closest(i,"."+Ne)||this.expandCollapseAction(t.closest(i,"."+he),e)},l.prototype.expandCollapseAction=function(e,i){var s=t.select("div."+ge,e);s&&!s.classList.contains(ve)&&(s.classList.contains(de)?this.expandAction(e,s,i):this.collapseNode(e,s,i))},l.prototype.expandAction=function(e,i,s,n,o){if(!i.classList.contains(ve)){if(t.addClass([i],ve),this.isLoaded&&(this.expandArgs=this.getExpandEvent(e,s),this.trigger("nodeExpanding",this.expandArgs),this.expandArgs.cancel))return void t.removeClass([i],ve);var r=t.select("."+pe,e);r&&"UL"===r.nodeName?this.expandNode(e,i):this.renderChildNodes(e,n,o)}},l.prototype.keyActionHandler=function(e){var i=e.target,s=this.getFocusedNode();if(i&&i.classList.contains("e-input")){var n=i;return void("enter"===e.action?(n.blur(),this.element.focus(),t.addClass([s],ue)):"escape"===e.action&&(n.value=this.oldText,n.blur(),this.element.focus(),t.addClass([s],ue)))}e.preventDefault();var o={cancel:!1,event:e,node:s};if(this.trigger("keyPress",o),!o.cancel)switch(e.action){case"space":this.showCheckBox&&this.checkNode(e);break;case"moveRight":this.openNode(!this.enableRtl,e);break;case"moveLeft":this.openNode(!!this.enableRtl,e);break;case"shiftDown":this.shiftKeySelect(!0,e);break;case"moveDown":case"ctrlDown":case"csDown":this.navigateNode(!0);break;case"shiftUp":this.shiftKeySelect(!1,e);break;case"moveUp":case"ctrlUp":case"csUp":this.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":this.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":this.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":this.toggleSelect(s,e);break;case"f2":this.allowEditing&&!s.classList.contains("e-disable")&&this.createTextbox(s,e);break;case"ctrlA":if(this.allowMultiSelection){var r=t.selectAll(".e-list-item:not(.e-active)",this.element);this.selectGivenNodes(r)}}},l.prototype.navigateToFocus=function(e){var i=this.getFocusedNode().querySelector("."+ye),s=i.getBoundingClientRect(),n=this.getScrollParent(this.element);if(!t.isNullOrUndefined(n)){var o=n.getBoundingClientRect();s.bottom>o.bottom?n.scrollTop+=s.bottom-o.bottom:s.top<o.top&&(n.scrollTop-=o.top-s.top)}this.isVisibleInViewport(i)||i.scrollIntoView(e)},l.prototype.isVisibleInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},l.prototype.getScrollParent=function(e){return t.isNullOrUndefined(e)?null:e.scrollHeight>e.clientHeight?e:this.getScrollParent(e.parentElement)},l.prototype.shiftKeySelect=function(e,t){if(this.allowMultiSelection){var i=this.getFocusedNode(),s=e?this.getNextNode(i):this.getPrevNode(i);this.removeHover(),this.setFocusElement(s),this.toggleSelect(s,t,!1),this.navigateToFocus(!e)}else this.navigateNode(e)},l.prototype.checkNode=function(e){var i=this.getFocusedNode(),s=t.select("."+Ne,i),n=t.select(" .e-frame",s).classList.contains(Ce);i.classList.contains("e-disable")||this.validateCheckNode(s,n,i,e)},l.prototype.validateCheckNode=function(e,i,s,n){if(!this.nodeCheckingEvent(e,i,n).cancel){if(-1===this.checkedElement.indexOf(s.getAttribute("data-uid"))){this.checkedElement.push(s.getAttribute("data-uid"));var o=this.getChildNodes(this.treeData,s.getAttribute("data-uid"));null!==o?this.allCheckNode(o,this.checkedElement,null,null,!1):o=null}this.changeState(e,i?"uncheck":"check",n,!0),this.autoCheck&&(this.ensureChildCheckState(s),this.ensureParentCheckState(t.closest(t.closest(s,"."+pe),"."+he))),this.nodeCheckedEvent(e,i,n)}},l.prototype.allCheckNode=function(e,i,s,n,o){if(e)for(var r=0;r<e.length;r++){var l=t.getValue(this.fields.id,e[r]),a=this.element.querySelector('[data-uid="'+l+'"]');if(!1!==o&&-1===this.checkedElement.indexOf(l.toString())&&(null===a&&!t.isNullOrUndefined(e[r][this.fields.isChecked])&&-1===i.indexOf(l.toString())||0===n||2===s)&&(!1!==e[r][this.fields.isChecked]||2===s?i.push(l.toString()):n=null,n=!1!==e[r][this.fields.isChecked]||2===s?0:null),-1===i.indexOf(l.toString())&&t.isNullOrUndefined(s)&&i.push(l.toString()),!0===t.getValue(this.fields.hasChildren,e[r])||t.getValue(this.fields.child.toString(),e[r])){var d=t.getValue(this.fields.id,e[r]),h=this.getChildNodes(this.treeData,d.toString());h&&(t.isNullOrUndefined(o)?this.allCheckNode(h,i,s,n):this.allCheckNode(h,i,s,n,o),n=null)}n=null}},l.prototype.openNode=function(e,i){var s=this.getFocusedNode(),n=t.select("div."+ge,s);if(e){if(!n)return;n.classList.contains(de)?this.expandAction(s,n,i):this.focusNextNode(s,!0)}else if(n&&n.classList.contains(ae))this.collapseNode(s,n,i);else{var o=t.closest(t.closest(s,"."+pe),"."+he);if(!o)return;o.classList.contains("e-disable")||(this.setFocus(s,o),this.navigateToFocus(!0))}},l.prototype.navigateNode=function(e){var t=this.getFocusedNode();this.focusNextNode(t,e)},l.prototype.navigateRootNode=function(e){var t=this.getFocusedNode(),i=e?this.getRootNode():this.getEndNode();i.classList.contains("e-disable")||(this.setFocus(t,i),this.navigateToFocus(e))},l.prototype.getFocusedNode=function(){var e,i=t.select(".e-list-item."+xe,this.element);return t.isNullOrUndefined(i)&&(e=t.select("."+he,this.element)),t.isNullOrUndefined(i)?t.isNullOrUndefined(e)?this.element.firstElementChild:e:i},l.prototype.focusNextNode=function(e,t){var i=t?this.getNextNode(e):this.getPrevNode(e);if(this.setFocus(e,i),this.navigateToFocus(!t),i.classList.contains("e-disable")){var s=i.lastChild;null==i.previousSibling&&i.classList.contains("e-level-1")?this.focusNextNode(i,!0):null==i.nextSibling&&i.classList.contains("e-node-collapsed")?this.focusNextNode(i,!1):null==i.nextSibling&&s.classList.contains("e-text-content")?this.focusNextNode(i,!1):this.focusNextNode(i,t)}},l.prototype.getNextNode=function(e){var i,s=this.liList.indexOf(e);do{if(s++,i=this.liList[s],t.isNullOrUndefined(i))return e}while(!t.isVisible(i));return i},l.prototype.getPrevNode=function(e){var i,s=this.liList.indexOf(e);do{if(s--,i=this.liList[s],t.isNullOrUndefined(i))return e}while(!t.isVisible(i));return i},l.prototype.getRootNode=function(){var e,i=0;do{e=this.liList[i],i++}while(!t.isVisible(e));return e},l.prototype.getEndNode=function(){var e,i=this.liList.length-1;do{e=this.liList[i],i--}while(!t.isVisible(e));return e},l.prototype.setFocus=function(e,i){t.removeClass([e],[ue,xe]),i.classList.contains("e-disable")||(t.addClass([i],[ue,xe]),this.updateIdAttr(e,i))},l.prototype.updateIdAttr=function(e,t){this.element.removeAttribute("aria-activedescendant"),e&&e.removeAttribute("id"),t.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")},l.prototype.focusIn=function(){this.mouseDownStatus||t.addClass([this.getFocusedNode()],ue),this.mouseDownStatus=!1},l.prototype.focusOut=function(){t.removeClass([this.getFocusedNode()],ue)},l.prototype.onMouseOver=function(e){var i=e.target,s=i.classList,n=t.closest(i,"."+he);if(!n||s.contains(pe)||s.contains(he))return void this.removeHover();n&&!n.classList.contains("e-disable")&&this.setHover(n)},l.prototype.setHover=function(e){e.classList.contains(ue)||(this.removeHover(),t.addClass([e],ue))},l.prototype.onMouseLeave=function(e){this.removeHover()},l.prototype.removeHover=function(){var e=t.selectAll("."+ue,this.element);e&&e.length&&t.removeClass(e,ue)},l.prototype.getNodeData=function(e,i){if(!t.isNullOrUndefined(e)&&e.classList.contains(he)&&!t.isNullOrUndefined(t.closest(e,".e-control"))&&t.closest(e,".e-control").classList.contains(le)){var s=e.getAttribute("data-uid"),n=this.getText(e,i),o=t.closest(e.parentNode,"."+he),r=o?o.getAttribute("data-uid"):null,l=e.classList.contains(fe),a="true"===e.getAttribute("aria-expanded"),d=null;return this.showCheckBox&&(d=t.select("."+Ne,e).getAttribute("aria-checked")),{id:s,text:n,parentID:r,selected:l,expanded:a,isChecked:d}}return{id:"",text:"",parentID:"",selected:"",expanded:"",isChecked:""}},l.prototype.getText=function(e,i){if(i){var s=this.getNodeObject(e.getAttribute("data-uid")),n=parseFloat(e.getAttribute("aria-level")),o=this.getFields(this.fields,n,1);return t.getValue(o.text,s)}return t.select("."+ce,e).textContent},l.prototype.getExpandEvent=function(e,i){var s=this.getNodeData(e);return{cancel:!1,isInteracted:!t.isNullOrUndefined(i),node:e,nodeData:s,event:i}},l.prototype.reRenderNodes=function(){this.element.innerHTML="",this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.isLoaded=!1,this.setDataBinding()},l.prototype.setCssClass=function(e,i){t.isNullOrUndefined(e)||""===e||t.removeClass([this.element],e.split(" ")),t.isNullOrUndefined(i)||""===i||t.addClass([this.element],i.split(" "))},l.prototype.editingHandler=function(e){var i=e.target;if(!(!i||i.classList.contains(le)||i.classList.contains(pe)||i.classList.contains(he)||i.classList.contains(ge)||i.classList.contains("e-input")||i.classList.contains("e-input-group"))){var s=t.closest(i,"."+he);this.createTextbox(s,e)}},l.prototype.createTextbox=function(e,i){var s=t.select(".e-tree-input",this.element);s&&s.blur();var n=t.select("."+ce,e);this.updateOldText(e);var o=this.createElement("input",{className:"e-tree-input",attrs:{value:this.oldText}}),l=this.getEditEvent(e,null,o.outerHTML);if(this.trigger("nodeEditing",l),!l.cancel){var a="width:"+(n.offsetWidth+5)+"px";t.addClass([e],"e-editing"),n.innerHTML=l.innerHtml;var d=t.select(".e-tree-input",n);this.inputObj=r.Input.createInput({element:d,properties:{enableRtl:this.enableRtl}},this.createElement),this.inputObj.container.setAttribute("style",a),d.focus();var h=d;h.setSelectionRange(0,h.value.length),this.wireInputEvents(d)}},l.prototype.updateOldText=function(e){var i=e.getAttribute("data-uid");this.editData=this.getNodeObject(i);var s=parseFloat(e.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,s,1),this.oldText=t.getValue(this.editFields.text,this.editData)},l.prototype.inputFocusOut=function(e){if(t.select(".e-tree-input",this.element)){var i=e.target,s=i.value,n=t.closest(i,"."+ce),o=t.closest(i,"."+he);t.detach(this.inputObj.container),this.appendNewText(o,n,s,!0)}},l.prototype.appendNewText=function(e,i,s,n){var o=this.getEditEvent(e,s,null);this.trigger("nodeEdited",o),s=o.cancel?o.oldText:o.newText;var r=t.setValue(this.editFields.text,s,this.editData);t.isNullOrUndefined(this.nodeTemplateFn)?i.innerHTML=s:(i.innerHTML="",t.append(this.nodeTemplateFn(r),i)),n&&(t.removeClass([e],"e-editing"),i.focus()),o.oldText!==s&&this.triggerEvent()},l.prototype.getElement=function(e){return t.isNullOrUndefined(e)?null:"string"==typeof e?this.element.querySelector('[data-uid="'+e+'"]'):"object"==typeof e?e:null},l.prototype.getId=function(e){return t.isNullOrUndefined(e)?null:"string"==typeof e?e:"object"==typeof e?e.getAttribute("data-uid"):null},l.prototype.getEditEvent=function(e,t,i){return{cancel:!1,newText:t,node:e,nodeData:this.getNodeData(e),oldText:this.oldText,innerHtml:i}},l.prototype.getNodeObject=function(e){if(!t.isNullOrUndefined(e)){if(1!==this.dataType)return this.getChildNodeObject(this.treeData,this.fields,e);for(var i=0,s=this.treeData.length;i<s;i++){var n=t.getValue(this.fields.id,this.treeData[i]);if(!t.isNullOrUndefined(this.treeData[i])&&!t.isNullOrUndefined(n)&&n.toString()===e)return this.treeData[i]}}},l.prototype.getChildNodeObject=function(e,i,s){var n;if(t.isNullOrUndefined(e))return n;for(var r=0,l=e.length;r<l;r++){var a=t.getValue(i.id,e[r]);if(e[r]&&a&&a.toString()===s)return e[r];if("string"!=typeof i.child||t.isNullOrUndefined(t.getValue(i.child,e[r]))){if(this.fields.dataSource instanceof o.DataManager&&!t.isNullOrUndefined(t.getValue("child",e[r]))){if(void 0!==(n=this.getChildNodeObject(t.getValue("child",e[r]),this.getChildMapper(i),s)))break}}else{var d=t.getValue(i.child,e[r]);if(void 0!==(n=this.getChildNodeObject(d,this.getChildMapper(i),s)))break}}return n},l.prototype.setDragAndDrop=function(e){e?this.initializeDrag():this.destroyDrag()},l.prototype.initializeDrag=function(){var e,i=this,s=this;this.dragObj=new t.Draggable(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragTarget:"."+ye,helper:function(n){i.dragTarget=n.sender.target;var o=t.closest(i.dragTarget,"."+le),r=t.closest(i.dragTarget,"."+ye);if(i.dragLi=t.closest(i.dragTarget,"."+he),i.fullRowSelect&&!r&&i.dragTarget.classList.contains("e-fullrow")&&(r=i.dragTarget.nextElementSibling),!i.dragTarget||!n.element.isSameNode(o)||!r||i.dragTarget.classList.contains(le)||i.dragTarget.classList.contains(pe)||i.dragTarget.classList.contains(he)||i.dragLi.classList.contains("e-disable"))return!1;var l=r.cloneNode(!0);if(t.isNullOrUndefined(t.select("div."+ge,l))){var a=s.createElement("div",{className:ge+" "+de});l.insertBefore(a,l.children[0])}var d="e-drag-item "+le+" "+i.cssClass+" "+(i.enableRtl?"e-rtl":"");(e=s.createElement("div",{className:d})).appendChild(l);var h=i.selectedNodes.length;if(h>1&&i.allowMultiSelection&&i.dragLi.classList.contains(fe)){var c=s.createElement("span",{className:"e-drop-count",innerHTML:""+h});e.appendChild(c)}return document.body.appendChild(e),document.body.style.cursor="",i.dragData=i.getNodeData(i.dragLi),e},dragStart:function(s){t.addClass([i.element],"e-dragging");var n,o=t.closest(s.target,".e-list-item");o&&(n=parseInt(o.getAttribute("aria-level"),10));var r=i.getDragEvent(s.event,i,null,s.target,null,e,n);r.draggedNode.classList.contains("e-editing")?r.cancel=!0:i.trigger("nodeDragStart",r),r.cancel?(t.detach(e),t.removeClass([i.element],"e-dragging"),i.dragStartAction=!1):i.dragStartAction=!0},drag:function(s){i.dragObj.setProperties({cursorAt:{top:!t.isNullOrUndefined(s.event.targetTouches)||t.Browser.isDevice?60:-20}}),i.dragAction(s,e)},dragStop:function(e){t.removeClass([i.element],"e-dragging"),i.removeVirtualEle();var s=e.target,n=t.closest(s,".e-droppable");s&&n||(t.detach(e.helper),document.body.style.cursor="");var o,r=t.closest(s,".e-list-item");r&&(o=parseInt(r.getAttribute("aria-level"),10));var l=i.getDragEvent(e.event,i,s,s,null,e.helper,o);l.preventTargetExpand=!1,i.trigger("nodeDragStop",l),i.dragParent=l.draggedParentNode,i.preventExpand=l.preventTargetExpand,l.cancel&&(e.helper.parentNode&&t.detach(e.helper),document.body.style.cursor=""),i.dragStartAction=!1}}),this.dropObj=new t.Droppable(this.element,{out:function(e){t.isNullOrUndefined(e)||e.target.classList.contains(be)||(document.body.style.cursor="not-allowed")},over:function(e){document.body.style.cursor=""},drop:function(e){i.dropAction(e)}})},l.prototype.dragAction=function(e,i){var s=t.closest(e.target,".e-droppable"),n=t.closest(e.target,"."+ye),o=t.select("div."+ge,i);t.removeClass([o],["e-drop-in",Ee,"e-drop-out","e-no-drop"]),this.removeVirtualEle(),document.body.style.cursor="";var r=e.target.classList;if(this.fullRowSelect&&!n&&!t.isNullOrUndefined(r)&&r.contains("e-fullrow")&&(n=e.target.nextElementSibling),s){var l=t.closest(e.target,"."+he);if(!s.classList.contains(le)||n&&!l.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,l))if(l&&e&&e.event.offsetY<7){t.addClass([o],Ee);var a=this.createElement("div",{className:be}),d=this.fullRowSelect?1:0;l.insertBefore(a,l.children[d])}else if(l&&e&&e.target.offsetHeight>0&&e.event.offsetY>e.target.offsetHeight-10){t.addClass([o],Ee);var a=this.createElement("div",{className:be}),d=this.fullRowSelect?2:1;l.insertBefore(a,l.children[d])}else t.addClass([o],"e-drop-in");else"LI"!==e.target.nodeName||l.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,l)?e.target.classList.contains(be)?t.addClass([o],Ee):t.addClass([o],"e-drop-out"):(t.addClass([o],Ee),this.renderVirtualEle(e))}else t.addClass([o],"e-no-drop"),document.body.style.cursor="not-allowed";var h,c=t.closest(e.target,".e-list-item");c&&(h=parseInt(c.getAttribute("aria-level"),10));var p=this.getDragEvent(e.event,this,e.target,e.target,null,i,h);p.dropIndicator&&t.removeClass([o],p.dropIndicator),this.trigger("nodeDragging",p),p.dropIndicator&&t.addClass([o],p.dropIndicator)},l.prototype.dropAction=function(e){for(var i,s,n=e.event.offsetY,r=e.target,l=!1,d=e.dragData.draggable,h=0;h<d.ej2_instances.length;h++)if(d.ej2_instances[h]instanceof a){i=d.ej2_instances[h];break}if(i&&i.dragTarget){var c=i.dragTarget,p=t.closest(c,"."+he),u=t.closest(r,"."+he);if(null==u&&r.classList.contains(le)&&(u=r.firstElementChild),t.detach(e.droppedElement),document.body.style.cursor="",!u||u.isSameNode(p)||this.isDescendant(p,u))return void(this.fields.dataSource instanceof o.DataManager==!1&&(this.preventExpand=!1));if(i.allowMultiSelection&&p.classList.contains(fe))for(var f=t.selectAll("."+fe,i.element),h=0;h<f.length;h++)u.isSameNode(f[h])||this.isDescendant(f[h],u)||this.appendNode(r,f[h],u,e,i,n);else this.appendNode(r,p,u,e,i,n);s=parseInt(p.getAttribute("aria-level"),10),l=!0}this.fields.dataSource instanceof o.DataManager==!1&&(this.preventExpand=!1),this.trigger("nodeDropped",this.getDragEvent(e.event,i,r,e.target,e.dragData.draggedElement,null,s,l)),this.triggerEvent()},l.prototype.appendNode=function(e,t,i,s,n,o){t.classList.contains("e-disable")||i.classList.contains("e-disable")||("LI"===e.nodeName?this.dropAsSiblingNode(t,i,s,n):e.firstElementChild&&e.classList.contains(le)?"UL"===e.firstElementChild.nodeName&&this.dropAsSiblingNode(t,i,s,n):this.dropAsChildNode(t,i,n,null,s,o))},l.prototype.dropAsSiblingNode=function(e,i,s,n){var o,r=t.closest(i,"."+pe),l=t.closest(e,"."+pe),a=t.closest(l,"."+he);s.target.offsetHeight>0&&s.event.offsetY>s.target.offsetHeight-2?o=!1:s.event.offsetY<2&&(o=!0),r.insertBefore(e,o?s.target:s.target.nextElementSibling),this.moveData(e,i,r,o,n),this.updateElement(l,a),this.updateAriaLevel(e),n.element.id===this.element.id?this.updateList():(n.updateInstance(),this.updateInstance())},l.prototype.dropAsChildNode=function(e,i,s,n,o,r){var l=t.closest(e,"."+pe),a=t.closest(l,"."+he),d=t.closest(i,"."+pe);if(o&&r<7)d.insertBefore(e,i),this.moveData(e,i,d,!0,s);else if(o&&o.target.offsetHeight>0&&r>o.target.offsetHeight-10)d.insertBefore(e,i.nextElementSibling),this.moveData(e,i,d,!1,s);else{var h=this.expandParent(i),c=h.childNodes[n];h.insertBefore(e,c),this.moveData(e,c,h,!0,s)}this.updateElement(l,a),this.updateAriaLevel(e),s.element.id===this.element.id?this.updateList():(s.updateInstance(),this.updateInstance())},l.prototype.moveData=function(e,i,s,n,o){var r=t.closest(s,"."+he),l=this.getId(e),a=o.updateChildField(o.treeData,o.fields,l,null,null,!0),d=this.getId(i),h=this.getDataPos(this.treeData,this.fields,d),c=this.getId(r);if(1===this.dataType){this.updateField(this.treeData,this.fields,c,"hasChildren",!0);var p=t.isNullOrUndefined(h)?this.treeData.length:n?h:h+1;if(t.isNullOrUndefined(c)&&!this.hasPid)delete a[0][this.fields.parentID];else{var u=this.isNumberTypeId?parseFloat(c):c;t.setValue(this.fields.parentID,u,a[0])}if(this.treeData.splice(p,0,a[0]),o.element.id!==this.element.id){var f=o.removeChildNodes(l);p++;for(var m=0,v=f.length;m<v;m++)this.treeData.splice(p,0,f[m]),p++;o.groupedData=o.getGroupedData(o.treeData,o.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,c,a,n?h:h+1)},l.prototype.expandParent=function(e){var s=t.select("div."+ge,e);s&&s.classList.contains(de)&&!0!==this.preventExpand&&this.expandAction(e,s,null);var n=t.select("."+pe,e);if(!0===this.preventExpand&&!n&&s&&this.renderChildNodes(e),n=t.select("."+pe,e),t.isNullOrUndefined(n)||!0!==this.preventExpand||(n.style.display="none"),t.isNullOrUndefined(n)||!1!==this.preventExpand||(n.style.display="block"),t.isNullOrUndefined(n)&&!0===this.preventExpand&&(t.isNullOrUndefined(s)&&i.ListBase.generateIcon(this.createElement,e,de,this.listBaseOption),(o=t.select("div."+ge,e))&&o.classList.add("e-icon-expandable"),n=i.ListBase.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(n),o?t.removeClass([o],ae):i.ListBase.generateIcon(this.createElement,e,de,this.listBaseOption),e.setAttribute("aria-expanded","false"),n.style.display="none"),t.isNullOrUndefined(n)){this.trigger("nodeExpanding",this.getExpandEvent(e,null)),t.isNullOrUndefined(s)&&i.ListBase.generateIcon(this.createElement,e,ae,this.listBaseOption);var o=t.select("div."+ge,e);o?t.removeClass([o],de):(i.ListBase.generateIcon(this.createElement,e,ae,this.listBaseOption),o=t.select("div."+ge,e),t.removeClass([o],de)),n=i.ListBase.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(n),this.addExpand(e),this.trigger("nodeExpanded",this.getExpandEvent(e,null))}return n},l.prototype.updateElement=function(e,i){if(i&&0===e.childElementCount){var s=t.select("div."+ge,i);t.detach(e),t.detach(s);var n=this.getId(i);this.updateField(this.treeData,this.fields,n,"hasChildren",null),this.removeExpand(i,!0)}},l.prototype.updateAriaLevel=function(e){var i=this.parents(e,"."+pe).length;e.setAttribute("aria-level",""+i),this.updateChildAriaLevel(t.select("."+pe,e),i+1)},l.prototype.updateChildAriaLevel=function(e,i){if(!t.isNullOrUndefined(e))for(var s=e.childNodes,n=0,o=s.length;n<o;n++){var r=s[n];r.setAttribute("aria-level",""+i),this.updateChildAriaLevel(t.select("."+pe,r),i+1)}},l.prototype.renderVirtualEle=function(e){var t;e.event.offsetY>e.target.offsetHeight-2?t=!1:e.event.offsetY<2&&(t=!0);var i=this.createElement("div",{className:be}),s=this.fullRowSelect?t?1:2:t?0:1;e.target.insertBefore(i,e.target.children[s])},l.prototype.removeVirtualEle=function(){var e=t.select("."+be);e&&t.detach(e)},l.prototype.destroyDrag=function(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())},l.prototype.getDragEvent=function(e,i,s,n,r,l,a,d){var h=s?t.closest(s,"."+he):null,c=h?this.getNodeData(h):null,p=i?i.dragLi:r,u=i?i.dragData:null,f=s?this.parents(s,"."+he):null,m=i.dragLi.parentElement,v=i.dragLi?t.closest(m,"."+he):null,g=null,y=null,b=[Ee,"e-drop-in","e-drop-out","e-no-drop"],E=null,C=!0===d?p:h,N=C?t.closest(C,".e-list-parent"):null,x=0;if(v=i.dragLi&&null===v?t.closest(m,"."+le):v,v=!0===d?this.dragParent:v,l)for(;x<4;){if(t.select("."+ge,l).classList.contains(b[x])){E=b[x];break}x++}if(N){var w=0;for(x=0;x<N.childElementCount;x++){if(w=!0!==d&&N.children[x]===p&&h!==p?++w:w,!0!==d&&N.children[x].classList.contains("e-hover")){y=e.offsetY>=23?x+1:x;break}if(N.children[x]===C){e.offsetY,y=x;break}}y=0!==w?--y:y}if(s&&(g=0===f.length?null:s.classList.contains(he)?f[0]:f[1]),h===p&&(g=h),s&&n.offsetHeight<=33&&e.offsetY<n.offsetHeight-10&&e.offsetY>6&&(g=h,!0!==d)){a=++a;var O=g?t.select(".e-list-parent",g):null;if(y=O?O.children.length:0,!(this.fields.dataSource instanceof o.DataManager)&&null===O&&g){var L=g.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,g.getAttribute("data-uid").toString()):null;y=L?L.length:0}}return{cancel:!1,clonedNode:l,event:e,draggedNode:p,draggedNodeData:u,droppedNode:h,droppedNodeData:c,dropIndex:y,dropLevel:a,draggedParentNode:v,dropTarget:g,dropIndicator:E,target:n}},l.prototype.addFullRow=function(e){var i=this.liList.length;if(e)for(s=0;s<i;s++)this.createFullRow(this.liList[s]);else for(var s=0;s<i;s++){var n=t.select(".e-fullrow",this.liList[s]);t.detach(n)}},l.prototype.createFullRow=function(e){var t=this.createElement("div",{className:"e-fullrow"});e.insertBefore(t,e.childNodes[0])},l.prototype.addMultiSelect=function(e){if(e)for(var i=0,s=n=t.selectAll('.e-list-item:not([aria-selected="true"])',this.element);i<s.length;i++)(l=s[i]).setAttribute("aria-selected","false");else for(var n=t.selectAll('.e-list-item[aria-selected="false"]',this.element),o=0,r=n;o<r.length;o++){var l=r[o];l.removeAttribute("aria-selected")}},l.prototype.collapseByLevel=function(e,i,s){if(i>0&&!t.isNullOrUndefined(e))for(var n=this.getVisibleNodes(s,e.childNodes),o=0,r=n.length;o<r;o++){var l=n[o],a=t.select("."+ae,t.select("."+ye,l));t.isNullOrUndefined(a)||this.collapseNode(l,a,null),this.collapseByLevel(t.select("."+pe,l),i-1,s)}},l.prototype.collapseAllNodes=function(e){for(var i=this.getVisibleNodes(e,t.selectAll("."+ae,this.element)),s=0,n=i.length;s<n;s++){var o=i[s],r=t.closest(o,"."+he);this.collapseNode(r,o,null)}},l.prototype.expandByLevel=function(e,i,s){if(i>0&&!t.isNullOrUndefined(e))for(var n=this.getVisibleNodes(s,e.childNodes),o=0,r=n.length;o<r;o++){var l=n[o],a=t.select("."+de,t.select("."+ye,l));t.isNullOrUndefined(a)||this.expandAction(l,a,null),this.expandByLevel(t.select("."+pe,l),i-1,s)}},l.prototype.expandAllNodes=function(e){for(var i=this.getVisibleNodes(e,t.selectAll("."+de,this.element)),s=0,n=i.length;s<n;s++){var o=i[s],r=t.closest(o,"."+he);this.expandAction(r,o,null,!0)}},l.prototype.getVisibleNodes=function(e,i){var s=Array.prototype.slice.call(i);if(e)for(var n=0;n<s.length;n++)t.isVisible(s[n])||(s.splice(n,1),n--);return s},l.prototype.removeNode=function(e){var i=t.closest(e,"."+pe),s=t.closest(i,"."+he);t.detach(e),this.updateElement(i,s),this.updateInstance(),this.removeData(e)},l.prototype.updateInstance=function(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes()},l.prototype.updateList=function(){this.liList=Array.prototype.slice.call(t.selectAll("."+he,this.element))},l.prototype.updateSelectedNodes=function(){this.setProperties({selectedNodes:[]},!0);var e=t.selectAll("."+fe,this.element);this.selectGivenNodes(e)},l.prototype.updateExpandedNodes=function(){this.setProperties({expandedNodes:[]},!0);for(var e=t.selectAll('[aria-expanded="true"]',this.element),i=0,s=e.length;i<s;i++)this.addExpand(e[i])},l.prototype.removeData=function(e){if(1===this.dataType){var t=new o.DataManager(this.treeData),i=this.getId(e),s={},n=this.isNumberTypeId?parseFloat(i):i;s[this.fields.id]=n,t.remove(this.fields.id,s),this.removeChildNodes(i)}else{i=this.getId(e);this.updateChildField(this.treeData,this.fields,i,null,null,!0)}},l.prototype.removeChildNodes=function(e){var i=this.getChildGroup(this.groupedData,e,!1),s=[];if(i)for(var n=0,r=i.length;n<r;n++){var l=new o.DataManager(this.treeData),a=t.getValue(this.fields.id,i[n]).toString(),d={},h=this.isNumberTypeId?parseFloat(a):a;d[this.fields.id]=h;var c=l.remove(this.fields.id,d);s.push(c[0]),this.removeChildNodes(a)}return s},l.prototype.doGivenAction=function(e,i,s){for(var n=0,o=e.length;n<o;n++){var r=this.getElement(e[n]);if(!t.isNullOrUndefined(r)){var l=t.select("."+i,t.select("."+ye,r));t.isNullOrUndefined(l)||(s?this.expandAction(r,l,null):this.collapseNode(r,l,null))}}},l.prototype.addGivenNodes=function(e,s,n,o,r){if(0!==e.length){var l=this.getSortedData(e),a=s?parseFloat(s.getAttribute("aria-level"))+1:1;o&&this.updateMapper(a);for(var d,h=i.ListBase.createListItemFromJson(this.createElement,l,this.listBaseOption,a),c=(d=r||(s?this.expandParent(s):t.select("."+pe,this.element))).childNodes[n],p=0;p<h.length;p++)d.insertBefore(h[p],c);var u=this.getId(s);if(1===this.dataType){this.updateField(this.treeData,this.fields,u,"hasChildren",!0);for(var f=this.getId(c),m=t.isNullOrUndefined(f)?this.treeData.length:this.getDataPos(this.treeData,this.fields,f),v=0;v<e.length;v++){if(!t.isNullOrUndefined(u)){var g=this.isNumberTypeId?parseFloat(u):u;t.setValue(this.fields.parentID,g,e[v])}this.treeData.splice(m,0,e[v]),m++}}else this.addChildData(this.treeData,this.fields,u,e,n);this.finalizeNode(d)}},l.prototype.updateMapper=function(e){var t=1===e?this.fields:this.getChildFields(this.fields,e-1,1);this.updateListProp(t)},l.prototype.updateListProp=function(e){var t=this.getActualProperties(e);this.listBaseOption.fields=t,this.listBaseOption.fields.url=t.hasOwnProperty("navigateUrl")?t.navigateUrl:"navigateUrl"},l.prototype.getDataPos=function(e,i,s){for(var n=null,r=0,l=e.length;r<l;r++){var a=t.getValue(i.id,e[r]);if(e[r]&&a&&a.toString()===s)return r;if("string"!=typeof i.child||t.isNullOrUndefined(t.getValue(i.child,e[r]))){if(this.fields.dataSource instanceof o.DataManager&&!t.isNullOrUndefined(t.getValue("child",e[r]))){var d=t.getValue("child",e[r]);if(null!==(n=this.getDataPos(d,this.getChildMapper(i),s)))break}}else{var h=t.getValue(i.child,e[r]);if(null!==(n=this.getDataPos(h,this.getChildMapper(i),s)))break}}return n},l.prototype.addChildData=function(e,i,s,n,r){var l;if(t.isNullOrUndefined(s)){r=t.isNullOrUndefined(r)?e.length:r;for(var a=0,d=n.length;a<d;a++)e.splice(r,0,n[a]),r++;return l}for(var h=0,c=e.length;h<c;h++){var p=t.getValue(i.id,e[h]);if(e[h]&&p&&p.toString()===s){if("string"==typeof i.child&&e[h].hasOwnProperty(i.child)||this.fields.dataSource instanceof o.DataManager&&e[h].hasOwnProperty("child")){var u="string"==typeof i.child?i.child:"child",f=t.getValue(u,e[h]);r=t.isNullOrUndefined(r)?f.length:r;for(var a=0,d=n.length;a<d;a++)f.splice(r,0,n[a]),r++}else{u="string"==typeof i.child?i.child:"child";e[h][u]=n}return!0}if("string"!=typeof i.child||t.isNullOrUndefined(t.getValue(i.child,e[h]))){if(this.fields.dataSource instanceof o.DataManager&&!t.isNullOrUndefined(t.getValue("child",e[h]))){f=t.getValue("child",e[h]);if(void 0!==(l=this.addChildData(f,this.getChildMapper(i),s,n,r)))break}}else{var m=t.getValue(i.child,e[h]);if(void 0!==(l=this.addChildData(m,this.getChildMapper(i),s,n,r)))break}}return l},l.prototype.doDisableAction=function(e){for(var i=0,s=e.length;i<s;i++){var n=this.getElement(e[i]);if(t.isNullOrUndefined(n)){(e[i]?e[i].toString():null)&&-1===this.disableNode.indexOf(e[i].toString())&&this.disableNode.push(e[i].toString())}else n.setAttribute("aria-disabled","true"),t.addClass([n],"e-disable")}},l.prototype.doEnableAction=function(e){for(var i=0,s=e.length;i<s;i++){var n=this.getElement(e[i]);if(t.isNullOrUndefined(n)){var o=e[i]?e[i].toString():null;o&&-1!==this.disableNode.indexOf(o)&&this.disableNode.splice(this.disableNode.indexOf(o),1)}else n.removeAttribute("aria-disabled"),t.removeClass([n],"e-disable")}},l.prototype.setTouchClass=function(){var e=t.closest(this.element,".e-bigger");this.touchClass=t.isNullOrUndefined(e)?"":"e-small"},l.prototype.updatePersistProp=function(){this.removeField(this.treeData,this.fields,["selected","expanded"]);for(var e=this.selectedNodes,t=0,i=e.length;t<i;t++)this.updateField(this.treeData,this.fields,e[t],"selected",!0);for(var s=this.expandedNodes,n=0,o=s.length;n<o;n++)this.updateField(this.treeData,this.fields,s[n],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);for(var r=this.checkedNodes,l=0,o=r.length;l<o;l++)this.updateField(this.treeData,this.fields,r[l],"isChecked",!0)}},l.prototype.removeField=function(e,i,s){if(!t.isNullOrUndefined(e)&&!t.isNullOrUndefined(i))for(var n=0,r=e.length;n<r;n++){for(var l=0;l<s.length;l++){var a=this.getMapperProp(i,s[l]);t.isNullOrUndefined(e[n][a])||delete e[n][a]}"string"!=typeof i.child||t.isNullOrUndefined(t.getValue(i.child,e[n]))?this.fields.dataSource instanceof o.DataManager&&!t.isNullOrUndefined(t.getValue("child",e[n]))&&this.removeField(t.getValue("child",e[n]),this.getChildMapper(i),s):this.removeField(t.getValue(i.child,e[n]),this.getChildMapper(i),s)}},l.prototype.getMapperProp=function(e,i){switch(i){case"selected":return t.isNullOrUndefined(e.selected)?"selected":e.selected;case"expanded":return t.isNullOrUndefined(e.expanded)?"expanded":e.expanded;case"isChecked":return t.isNullOrUndefined(e.isChecked)?"isChecked":e.isChecked;case"hasChildren":return t.isNullOrUndefined(e.hasChildren)?"hasChildren":e.hasChildren;default:return i}},l.prototype.updateField=function(e,i,s,n,r){if(!t.isNullOrUndefined(s))if(1===this.dataType){var l=this.isNumberTypeId?parseFloat(s):s,a=new o.DataManager(this.treeData).executeLocal((new o.Query).where(i.id,"equal",l,!1));t.setValue(this.getMapperProp(i,n),r,a[0])}else this.updateChildField(e,i,s,n,r)},l.prototype.updateChildField=function(e,i,s,n,r,l){var a;if(t.isNullOrUndefined(e))return a;for(var d=0,h=e.length;d<h;d++){var c=t.getValue(i.id,e[d]);if(e[d]&&c&&c.toString()===s)return l?a=e.splice(d,1):(t.setValue(this.getMapperProp(i,n),r,e[d]),a=[]),a;if("string"!=typeof i.child||t.isNullOrUndefined(t.getValue(i.child,e[d]))){if(this.fields.dataSource instanceof o.DataManager&&!t.isNullOrUndefined(t.getValue("child",e[d]))){var p=t.getValue("child",e[d]);if(void 0!==(a=this.updateChildField(p,this.getChildMapper(i),s,n,r,l)))break}}else{var u=t.getValue(i.child,e[d]);if(void 0!==(a=this.updateChildField(u,this.getChildMapper(i),s,n,r,l)))break}}return a},l.prototype.triggerEvent=function(){var e={data:this.treeData};this.trigger("dataSourceChanged",e)},l.prototype.wireInputEvents=function(e){t.EventHandler.add(e,"blur",this.inputFocusOut,this)},l.prototype.wireEditingEvents=function(e){if(e){var i=this;this.touchEditObj=new t.Touch(this.element,{tap:function(e){2===e.tapCount&&(e.originalEvent.preventDefault(),i.editingHandler(e.originalEvent))}})}else this.touchEditObj&&this.touchEditObj.destroy()},l.prototype.wireClickEvent=function(e){if(e){var i=this;this.touchClickObj=new t.Touch(this.element,{tap:function(e){e.originalEvent.preventDefault(),i.clickHandler(e)}})}else this.touchClickObj&&this.touchClickObj.destroy()},l.prototype.wireExpandOnEvent=function(e){var i=this;if(e){var s=this;this.touchExpandObj=new t.Touch(this.element,{tap:function(e){("Click"===i.expandOnType||"DblClick"===i.expandOnType&&2===e.tapCount)&&s.expandHandler(e)}})}else this.touchExpandObj&&this.touchExpandObj.destroy()},l.prototype.mouseDownHandler=function(e){this.mouseDownStatus=!0,(e.shiftKey||e.ctrlKey)&&e.preventDefault(),e.ctrlKey&&this.allowMultiSelection&&t.EventHandler.add(this.element,"contextmenu",this.preventContextMenu,this)},l.prototype.preventContextMenu=function(e){e.preventDefault()},l.prototype.wireEvents=function(){t.EventHandler.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0),t.EventHandler.add(this.element,"focus",this.focusIn,this),t.EventHandler.add(this.element,"blur",this.focusOut,this),t.EventHandler.add(this.element,"mouseover",this.onMouseOver,this),t.EventHandler.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new t.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},l.prototype.unWireEvents=function(){t.EventHandler.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),t.EventHandler.remove(this.element,"focus",this.focusIn),t.EventHandler.remove(this.element,"blur",this.focusOut),t.EventHandler.remove(this.element,"mouseover",this.onMouseOver),t.EventHandler.remove(this.element,"mouseout",this.onMouseLeave),this.keyboardModule.destroy()},l.prototype.parents=function(e,i){for(var s=[],n=e.parentNode;!t.isNullOrUndefined(n);)t.matches(n,i)&&s.push(n),n=n.parentNode;return s},l.prototype.isDescendant=function(e,i){for(var s=i.parentNode;!t.isNullOrUndefined(s);){if(s===e)return!0;s=s.parentNode}return!1},l.prototype.showSpinner=function(e){t.addClass([e],me),s.createSpinner({target:e,width:t.Browser.isDevice?16:14},this.createElement),s.showSpinner(e)},l.prototype.hideSpinner=function(e){s.hideSpinner(e),e.innerHTML="",t.removeClass([e],me)},l.prototype.setCheckedNodes=function(e){e=JSON.parse(JSON.stringify(e)),this.uncheckAll(this.checkedNodes),e.length>0&&this.checkAll(e)},l.prototype.onPropertyChanged=function(e,i){for(var s=0,n=Object.keys(e);s<n.length;s++)switch(n[s]){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){var o=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(o,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=i.checkedNodes,this.setCheckedNodes(e.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=e.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(i.cssClass,e.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.setProperties({expandedNodes:t.isNullOrUndefined(e.expandedNodes)?[]:e.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0);break;case"fields":this.isAnimate=!1,this.initialRender=!0,this.updateListProp(this.fields),this.reRenderNodes(),this.initialRender=!1,this.isAnimate=!0;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect);break;case"loadOnDemand":if(!1===this.loadOnDemand&&!this.onLoaded){for(var r=this.element.querySelectorAll("li"),l=0;l<r.length;)this.renderChildNodes(r[l],!0,null,!0),l++;this.onLoaded=!0}break;case"nodeTemplate":this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:e.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes()}},l.prototype.destroy=function(){this.element.removeAttribute("aria-activedescendant"),this.element.removeAttribute("tabindex"),this.unWireEvents(),this.wireEditingEvents(!1),this.rippleFn(),this.rippleIconFn(),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.element.innerHTML="",e.prototype.destroy.call(this)},l.prototype.addNodes=function(e,i,s,n){if(!t.isNullOrUndefined(e)){e=JSON.parse(JSON.stringify(e));var r=this.getElement(i);if(this.preventExpand=n,this.fields.dataSource instanceof o.DataManager){var l,a=r?r.querySelector("."+ge):null,d=this;r&&a&&a.classList.contains(de)&&null===r.querySelector("."+pe)?d.renderChildNodes(r,null,function(){l=r.querySelector("."+pe),d.addGivenNodes(e,r,s,!0,l),d.triggerEvent()}):(this.addGivenNodes(e,r,s,!0),this.triggerEvent())}else if(2===this.dataType)this.addGivenNodes(e,r,s);else{if(r)this.addGivenNodes(e,r,s);else{e=this.getSortedData(e);for(var h=0;h<e.length;h++){var c=t.getValue(this.fields.parentID,e[h]);r=c?this.getElement(c.toString()):c,this.addGivenNodes([e[h]],r,s)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}this.fields.dataSource instanceof o.DataManager==!1&&(this.preventExpand=!1,this.triggerEvent())}},l.prototype.beginEdit=function(e){var i=this.getElement(e);t.isNullOrUndefined(i)||this.createTextbox(i,null)},l.prototype.checkAll=function(e){this.showCheckBox&&this.doCheckBoxAction(e,!0)},l.prototype.collapseAll=function(e,i,s){t.isNullOrUndefined(e)?i>0?this.collapseByLevel(t.select("."+pe,this.element),i,s):this.collapseAllNodes(s):this.doGivenAction(e,ae,!1)},l.prototype.disableNodes=function(e){t.isNullOrUndefined(e)||this.doDisableAction(e)},l.prototype.enableNodes=function(e){t.isNullOrUndefined(e)||this.doEnableAction(e)},l.prototype.ensureVisible=function(e){var i=this.getElement(e);if(!t.isNullOrUndefined(i)){var s=this.parents(i,"."+he);this.expandAll(s),setTimeout(function(){i.scrollIntoView(!0)},450)}},l.prototype.expandAll=function(e,i,s){t.isNullOrUndefined(e)?i>0?this.expandByLevel(t.select("."+pe,this.element),i,s):this.expandAllNodes(s):this.doGivenAction(e,de,!0)},l.prototype.getAllCheckedNodes=function(){var e=this.checkedNodes,t=[],i=0,s=this.fields.id;for(i;i<this.treeData.length;i++){var n=null,o=null,r=this.element.querySelector('[data-uid="'+this.treeData[i][s].toString()+'"]');r&&null===r.querySelector(".e-list-item")&&(!0===this.treeData[i][this.fields.isChecked]&&-1===this.checkedElement.indexOf(this.treeData[i][s].toString())&&(t.push(this.treeData[i][s].toString()),n=2),2!==n&&(n=1),null!==(o=this.getChildNodes(this.treeData,this.treeData[i][s].toString()))?this.allCheckNode(o,t,n):o=null)}for(i=0;i<e.length;)if(-1===t.indexOf(e[i])){t.push(e[i]);var l=this.element.querySelector('[data-uid="'+e[i]+'"]');if(l&&null===l.querySelector(".e-list-item")){var a=this.getChildNodes(this.treeData,e[i].toString());a&&this.autoCheck?this.allCheckNode(a,t):a=null}i++}else i++;return t},l.prototype.getNode=function(e){var t=this.getElement(e);return this.getNodeData(t,!0)},l.prototype.getTreeData=function(e){var i=this.getId(e);if(this.updatePersistProp(),t.isNullOrUndefined(i))return this.treeData;var s=this.getNodeObject(i);return t.isNullOrUndefined(s)?[]:[s]},l.prototype.moveNodes=function(e,i,s,n){var r=this.getElement(i);if(!t.isNullOrUndefined(r)){for(var l=0;l<e.length;l++){var a=this.getElement(e[l]);t.isNullOrUndefined(a)||r.isSameNode(a)||this.isDescendant(a,r)||(this.preventExpand=n,this.dropAsChildNode(a,r,this,s))}this.fields.dataSource instanceof o.DataManager==!1&&(this.preventExpand=!1),this.triggerEvent()}},l.prototype.removeNodes=function(e){if(!t.isNullOrUndefined(e)){for(var i=0,s=e.length;i<s;i++){var n=this.getElement(e[i]);t.isNullOrUndefined(n)||this.removeNode(n)}1===this.dataType&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent()}},l.prototype.updateNode=function(e,i){if(!t.isNullOrUndefined(e)&&!t.isNullOrUndefined(i)&&this.allowEditing){var s=this.getElement(e);if(!t.isNullOrUndefined(s)){var n=t.select("."+ce,s);this.updateOldText(s);var o=this.getEditEvent(s,null,null);this.trigger("nodeEditing",o),o.cancel||this.appendNewText(s,n,i,!1)}}},l.prototype.uncheckAll=function(e){this.showCheckBox&&this.doCheckBoxAction(e,!1)};var a;return re([t.Property(!1)],l.prototype,"allowDragAndDrop",void 0),re([t.Property(!1)],l.prototype,"allowEditing",void 0),re([t.Property(!1)],l.prototype,"allowMultiSelection",void 0),re([t.Complex({},Ae)],l.prototype,"animation",void 0),re([t.Property()],l.prototype,"checkedNodes",void 0),re([t.Property("")],l.prototype,"cssClass",void 0),re([t.Property(!1)],l.prototype,"enablePersistence",void 0),re([t.Property(!1)],l.prototype,"enableRtl",void 0),re([t.Property()],l.prototype,"expandedNodes",void 0),re([t.Property("Auto")],l.prototype,"expandOn",void 0),re([t.Complex({},Oe)],l.prototype,"fields",void 0),re([t.Property(!0)],l.prototype,"fullRowSelect",void 0),re([t.Property(!0)],l.prototype,"loadOnDemand",void 0),re([t.Property()],l.prototype,"nodeTemplate",void 0),re([t.Property()],l.prototype,"selectedNodes",void 0),re([t.Property("None")],l.prototype,"sortOrder",void 0),re([t.Property(!1)],l.prototype,"showCheckBox",void 0),re([t.Property(!0)],l.prototype,"autoCheck",void 0),re([t.Event()],l.prototype,"created",void 0),re([t.Event()],l.prototype,"dataBound",void 0),re([t.Event()],l.prototype,"dataSourceChanged",void 0),re([t.Event()],l.prototype,"drawNode",void 0),re([t.Event()],l.prototype,"destroyed",void 0),re([t.Event()],l.prototype,"keyPress",void 0),re([t.Event()],l.prototype,"nodeChecked",void 0),re([t.Event()],l.prototype,"nodeChecking",void 0),re([t.Event()],l.prototype,"nodeClicked",void 0),re([t.Event()],l.prototype,"nodeCollapsed",void 0),re([t.Event()],l.prototype,"nodeCollapsing",void 0),re([t.Event()],l.prototype,"nodeDragging",void 0),re([t.Event()],l.prototype,"nodeDragStart",void 0),re([t.Event()],l.prototype,"nodeDragStop",void 0),re([t.Event()],l.prototype,"nodeDropped",void 0),re([t.Event()],l.prototype,"nodeEdited",void 0),re([t.Event()],l.prototype,"nodeEditing",void 0),re([t.Event()],l.prototype,"nodeExpanded",void 0),re([t.Event()],l.prototype,"nodeExpanding",void 0),re([t.Event()],l.prototype,"nodeSelected",void 0),re([t.Event()],l.prototype,"nodeSelecting",void 0),l=a=re([t.NotifyPropertyChanges],l)}(t.Component),Ie=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ke=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},Pe="e-close",De="e-open",Ue="e-right",He="e-left",Me="e-over",Te="e-push",Re="e-sidebar-context",Be=function(e){function i(t,i){return e.call(this,t,i)||this}return Ie(i,e),i.prototype.preRender=function(){this.setWidth()},i.prototype.render=function(){this.initialize(),this.wireEvents()},i.prototype.initialize=function(){this.setTarget(),this.addClass(),this.setZindex(),this.enableDock&&this.setDock(),this.isOpen?this.show():this.setMediaQuery(),this.setType(this.type),this.setCloseOnDocumentClick(),this.setEnableRTL()},i.prototype.setEnableRTL=function(){this.enableRtl?t.addClass([this.element],"e-rtl"):t.removeClass([this.element],"e-rtl")},i.prototype.setTarget=function(){"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),this.target&&(this.target.insertBefore(this.element,this.target.children[0]),t.addClass([this.element],"e-sidebar-absolute"),t.addClass([this.target],Re))},i.prototype.setCloseOnDocumentClick=function(){this.closeOnDocumentClick?t.EventHandler.add(document,"mousedown touchstart",this.documentclickHandler,this):t.EventHandler.remove(document,"mousedown touchstart",this.documentclickHandler)},i.prototype.setWidth=function(){this.enableDock&&"Left"===this.position?t.setStyleAttribute(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock&&"Right"===this.position?t.setStyleAttribute(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock||t.setStyleAttribute(this.element,{width:this.setDimension(this.width)})},i.prototype.setDimension=function(e){return e="number"==typeof e?t.formatUnit(e):"string"==typeof e?e.match(/px|%|em/)?e:t.formatUnit(e):"100%"},i.prototype.setZindex=function(){t.setStyleAttribute(this.element,{"z-index":""+this.zIndex})},i.prototype.addClass=function(){var e=document.querySelector(".e-main-content");t.isNullOrUndefined(e||this.element.nextElementSibling)||t.addClass([e||this.element.nextElementSibling],["e-content-animation"]),this.enableDock||"Auto"===this.type||t.addClass([this.element],["e-visibility"]),t.removeClass([this.element],[De,Pe,Ue,He,"e-slide",Te,Me]),this.element.classList.add("e-sidebar"),t.addClass([this.element],"Right"===this.position?Ue:He),"Auto"!==this.type||t.Browser.isDevice||this.enableDock?(this.setProperties({isOpen:!1},!0),t.addClass([this.element],Pe)):(this.setProperties({isOpen:!0},!0),t.addClass([this.element],De))},i.prototype.destroyBackDrop=function(){var e=document.querySelector(".e-main-content")||this.element.nextElementSibling;this.target&&this.showBackdrop&&e?t.removeClass([e],"e-backdrop"):this.showBackdrop&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},i.prototype.hide=function(){var e={model:this,element:this.element,cancel:!1};if(this.trigger("close",e),!e.cancel){if(this.element.classList.contains(Pe))return;if(this.element.classList.contains(De)){var i={name:"change",element:this.element};this.trigger("change",i)}t.addClass([this.element],Pe),t.removeClass([this.element],De),this.enableDock?t.setStyleAttribute(this.element,{width:t.formatUnit(this.dockSize)}):t.setStyleAttribute(this.element,{width:t.formatUnit(this.width)}),this.setDock(),this.setType(this.type);var s=document.querySelector(".e-main-content")||this.element.nextElementSibling;!this.enableDock&&s&&(s.style.transform="translateX(0px)","Left"===this.position?s.style.marginLeft="0px":s.style.marginRight="0px"),this.destroyBackDrop(),this.setCloseOnDocumentClick(),this.setAnimation(),"Slide"===this.type&&document.body.classList.remove("e-sidebar-overflow"),this.setProperties({isOpen:!1},!0)}},i.prototype.show=function(){var e={model:this,element:this.element,cancel:!1};if(this.trigger("open",e),!e.cancel){if(t.removeClass([this.element],"e-visibility"),this.element.classList.contains(De))return;if(this.element.classList.contains(Pe)){var i={name:"change",element:this.element};this.trigger("change",i)}t.addClass([this.element],[De,"e-transition"]),t.setStyleAttribute(this.element,{transform:""}),t.removeClass([this.element],Pe),t.setStyleAttribute(this.element,{width:t.formatUnit(this.width)});this.element.getBoundingClientRect().width;this.setType(this.type),this.createBackDrop(),this.setCloseOnDocumentClick(),this.setAnimation(),"Slide"===this.type&&document.body.classList.add("e-sidebar-overflow"),this.setProperties({isOpen:!0},!0)}},i.prototype.setAnimation=function(){this.animate?t.removeClass([this.element],"e-disable-animation"):t.addClass([this.element],"e-disable-animation")},i.prototype.setDock=function(){this.enableDock&&"Left"===this.position&&!this.getState()?t.setStyleAttribute(this.element,{transform:"translateX(-100%) translateX("+this.setDimension(this.dockSize)+")"}):this.enableDock&&"Right"===this.position&&!this.getState()&&t.setStyleAttribute(this.element,{transform:"translateX(100%) translateX(-"+this.setDimension(this.dockSize)+")"}),this.element.classList.contains(Pe)&&this.enableDock&&t.setStyleAttribute(this.element,{width:this.setDimension(this.dockSize)})},i.prototype.createBackDrop=function(){if(this.target&&this.showBackdrop){var e=document.querySelector(".e-main-content")||this.element.nextElementSibling;t.addClass([e],"e-backdrop")}else this.showBackdrop&&!this.modal&&this.getState()&&(this.modal=this.createElement("div"),this.modal.className="e-sidebar-overlay",this.modal.style.display="block",document.body.appendChild(this.modal))},i.prototype.getPersistData=function(){return this.addOnPersist(["type","position","isOpen"])},i.prototype.getModuleName=function(){return"sidebar"},i.prototype.toggle=function(e){this.element.classList.contains(De)?this.hide():this.show()},i.prototype.getState=function(){return!!this.element.classList.contains(De)},i.prototype.setMediaQuery=function(){this.mediaQuery&&this.mediaQuery.matches?this.show():this.mediaQuery&&this.getState()&&this.hide()},i.prototype.resize=function(e){"Auto"===this.type&&(t.Browser.isDevice?t.addClass([this.element],Me):t.addClass([this.element],Te)),this.setMediaQuery()},i.prototype.documentclickHandler=function(e){t.closest(e.target,".e-control.e-sidebar")||this.hide()},i.prototype.enableGestureHandler=function(e){"Left"===this.position&&"Right"===e.swipeDirection&&e.startX<=20&&e.distanceX>=50&&e.velocity>=.5?this.show():"Left"===this.position&&"Left"===e.swipeDirection?this.hide():"Right"===this.position&&"Right"===e.swipeDirection?this.hide():"Right"===this.position&&"Left"===e.swipeDirection&&window.innerWidth-e.startX<=20&&e.distanceX>=50&&e.velocity>=.5&&this.show()},i.prototype.setEnableGestures=function(){this.enableGestures?(this.mainContentEle=new t.Touch(document.body,{swipe:this.enableGestureHandler.bind(this)}),this.sidebarEle=new t.Touch(this.element,{swipe:this.enableGestureHandler.bind(this)})):this.mainContentEle&&this.sidebarEle&&(this.mainContentEle.destroy(),this.sidebarEle.destroy())},i.prototype.wireEvents=function(){this.setEnableGestures(),window.addEventListener("resize",this.resize.bind(this))},i.prototype.unWireEvents=function(){window.removeEventListener("resize",this.resize.bind(this)),t.EventHandler.remove(document,"mousedown touchstart",this.documentclickHandler),this.mainContentEle&&this.mainContentEle.destroy(),this.sidebarEle&&this.sidebarEle.destroy()},i.prototype.onPropertyChanged=function(i,s){for(var n=document.querySelector(".e-main-content")||this.element.nextElementSibling,o=0,r=Object.keys(i);o<r.length;o++)switch(r[o]){case"isOpen":this.isOpen?this.show():this.hide();break;case"width":this.setWidth(),this.getState()||this.setDock();break;case"animate":this.setAnimation();break;case"type":t.removeClass([this.element],["e-visibility"]),this.addClass(),this.setType(this.type);break;case"position":this.element.style.transform="",this.setDock(),n&&("Left"===this.position?n.style.marginRight="0px":n.style.marginLeft="0px"),"Right"===this.position?(t.removeClass([this.element],He),t.addClass([this.element],Ue)):(t.removeClass([this.element],Ue),t.addClass([this.element],He)),this.setType(this.type);break;case"showBackdrop":this.showBackdrop?this.createBackDrop():this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null);break;case"target":"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),t.isNullOrUndefined(this.target)?(t.removeClass([this.element],"e-sidebar-absolute"),t.removeClass([s.target],Re),t.setStyleAttribute(n,{"margin-left":0,"margin-right":0}),document.body.insertAdjacentElement("afterbegin",this.element)):e.prototype.refresh.call(this);break;case"closeOnDocumentClick":this.setCloseOnDocumentClick();break;case"enableDock":this.getState()||this.setDock();break;case"zIndex":this.setZindex();break;case"mediaQuery":this.setMediaQuery();break;case"enableGestures":this.setEnableGestures();break;case"enableRtl":this.setEnableRTL()}},i.prototype.setType=function(e){var i=this.element.getBoundingClientRect().width;this.setZindex(),this.enableDock&&t.addClass([this.element],"e-dock");var s=document.querySelector(".e-main-content")||this.element.nextElementSibling;s&&(s.style.transform="translateX(0px)",t.Browser.isDevice||"Auto"===this.type||("Left"===this.position?s.style.marginLeft="0px":s.style.marginRight="0px"));var n=(this.position,i+"px"),o="Left"===this.position?i:-i;switch(t.removeClass([this.element],[Te,Me,"e-slide"]),e){case"Push":t.addClass([this.element],[Te]),s&&(this.enableDock||this.element.classList.contains(De))&&("Left"===this.position?s.style.marginLeft=n:s.style.marginRight=n);break;case"Slide":t.addClass([this.element],["e-slide"]),s&&(this.enableDock||this.element.classList.contains(De))&&(s.style.transform="translateX("+o+"px)");break;case"Over":t.addClass([this.element],[Me]),this.enableDock&&this.element.classList.contains(Pe)&&s&&("Left"===this.position?s.style.marginLeft=n:s.style.marginRight=n);break;case"Auto":t.addClass([this.element],["e-transition"]),t.Browser.isDevice?s&&this.enableDock&&!this.getState()?("Left"===this.position?s.style.marginLeft=n:s.style.marginRight=n,t.addClass([this.element],Te)):t.addClass([this.element],Me):(t.addClass([this.element],Te),s&&(this.enableDock||this.element.classList.contains(De))&&("Left"===this.position?s.style.marginLeft=n:s.style.marginRight=n),this.setProperties({isOpen:!0},!0)),this.createBackDrop()}},i.prototype.destroy=function(){e.prototype.destroy.call(this),t.removeClass([this.element],[De,Pe,Te,"e-slide",Me,He,Ue,"e-transition"]),this.target&&(t.removeClass([this.element],"e-sidebar-absolute"),t.removeClass([this.target],Re)),this.destroyBackDrop(),this.element.style.width="",this.element.style.zIndex="",this.element.style.transform="";var i=document.querySelector(".e-main-content")||this.element.nextElementSibling;t.isNullOrUndefined(i)||(i.style.margin="",i.style.transform=""),this.unWireEvents()},ke([t.Property("auto")],i.prototype,"dockSize",void 0),ke([t.Property(null)],i.prototype,"mediaQuery",void 0),ke([t.Property(!1)],i.prototype,"enableDock",void 0),ke([t.Property("en-US")],i.prototype,"locale",void 0),ke([t.Property(!1)],i.prototype,"enablePersistence",void 0),ke([t.Property(!0)],i.prototype,"enableGestures",void 0),ke([t.Property(!1)],i.prototype,"isOpen",void 0),ke([t.Property(!1)],i.prototype,"enableRtl",void 0),ke([t.Property(!0)],i.prototype,"animate",void 0),ke([t.Property("auto")],i.prototype,"height",void 0),ke([t.Property(!1)],i.prototype,"closeOnDocumentClick",void 0),ke([t.Property("Left")],i.prototype,"position",void 0),ke([t.Property(null)],i.prototype,"target",void 0),ke([t.Property(!1)],i.prototype,"showBackdrop",void 0),ke([t.Property("Auto")],i.prototype,"type",void 0),ke([t.Property("auto")],i.prototype,"width",void 0),ke([t.Property(1e3)],i.prototype,"zIndex",void 0),ke([t.Event()],i.prototype,"created",void 0),ke([t.Event()],i.prototype,"close",void 0),ke([t.Event()],i.prototype,"open",void 0),ke([t.Event()],i.prototype,"change",void 0),ke([t.Event()],i.prototype,"destroyed",void 0),i=ke([t.NotifyPropertyChanges],i)}(t.Component);return e.MenuAnimationSettings=x,e.HScroll=d,e.VScroll=p,e.Item=k,e.Toolbar=P,e.AccordionActionSettings=R,e.AccordionAnimationSettings=B,e.AccordionItem=j,e.Accordion=F,e.ContextMenu=_,e.Menu=G,e.TabActionSettings=ee,e.TabAnimationSettings=te,e.Header=ie,e.TabItem=se,e.Tab=ne,e.FieldsSettings=Oe,e.ActionSettings=Le,e.NodeAnimationSettings=Ae,e.TreeView=Se,e.Sidebar=Be,e}({},ej.base,ej.lists,ej.popups,ej.buttons,ej.data,ej.inputs),this.ejs=ej;
//# sourceMappingURL=ej2-navigations.min.js.map
